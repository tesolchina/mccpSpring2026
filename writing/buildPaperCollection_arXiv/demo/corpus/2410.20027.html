<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Agentic Feedback Loop Modeling Improves Recommendation and User Simulation</title>
<!--Generated on Fri May  2 00:48:51 2025 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Recommendation,  User Simulation,  Feedback Loop,  Agent,  Large Language Models" lang="en" name="keywords"/>
<base href="/html/2410.20027v2/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S1" title="In Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S2" title="In Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S2.SS1" title="In 2. Related Work â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>LLMs for Recommendation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S2.SS2" title="In 2. Related Work â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Agent-based Recommendation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3" title="In Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Method</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.SS1" title="In 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.SS2" title="In 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Recommendation Agent</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.SS3" title="In 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>User Agent</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.SS4" title="In 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Feedback Loop</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4" title="In Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS1" title="In 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Experimental Setup</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS1.SSS1" title="In 4.1. Experimental Setup â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.1 </span>Datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS1.SSS2" title="In 4.1. Experimental Setup â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.2 </span>Evaluation Setting</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS1.SSS3" title="In 4.1. Experimental Setup â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.3 </span>Base Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS1.SSS4" title="In 4.1. Experimental Setup â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.4 </span>Implementation Details</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS2" title="In 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Effectiveness of AFL (RQ1)</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS2.SSS1" title="In 4.2. Effectiveness of AFL (RQ1) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.1 </span>Recommendation Performance</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS2.SSS2" title="In 4.2. Effectiveness of AFL (RQ1) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.2 </span>User Simulation Performance</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS2.SSS3" title="In 4.2. Effectiveness of AFL (RQ1) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.3 </span>Case Study</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS3" title="In 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Impact of Key Components (RQ2)</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS3.SSS1" title="In 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3.1 </span>Impact of User Agent Feedback</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS3.SSS2" title="In 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3.2 </span>Impact of Recommendation Model and Reward Model</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS3.SSS3" title="In 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3.3 </span>Impact of Feedback Loop Iterations</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS4" title="In 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Biases in the Feedback Loop (RQ3)</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS4.SSS1" title="In 4.4. Biases in the Feedback Loop (RQ3) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4.1 </span>Popularity Bias.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS4.SSS2" title="In 4.4. Biases in the Feedback Loop (RQ3) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4.2 </span>Position Bias.</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S5" title="In Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion and Future Work</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">Agentic Feedback Loop Modeling Improves Recommendation and User Simulation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shihao Cai
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0009-0009-6894-364X" title="ORCID identifier">0009-0009-6894-364X</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">University of Science and Technology of China</span><span class="ltx_text ltx_affiliation_city" id="id2.2.id2">Hefei</span><span class="ltx_text ltx_affiliation_state" id="id3.3.id3">Anhui</span><span class="ltx_text ltx_affiliation_country" id="id4.4.id4">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:caishihao@mail.ustc.edu.cn">caishihao@mail.ustc.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">,Â </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jizhi Zhang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-0251-465X" title="ORCID identifier">0000-0002-0251-465X</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id5.1.id1">University of Science and Technology of China</span><span class="ltx_text ltx_affiliation_city" id="id6.2.id2">Hefei</span><span class="ltx_text ltx_affiliation_state" id="id7.3.id3">Anhui</span><span class="ltx_text ltx_affiliation_country" id="id8.4.id4">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:cdzhangjizhi@mail.ustc.edu.cn">cdzhangjizhi@mail.ustc.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">,Â </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Keqin Bao
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0009-0001-5910-0204" title="ORCID identifier">0009-0001-5910-0204</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id9.1.id1">University of Science and Technology of China</span><span class="ltx_text ltx_affiliation_city" id="id10.2.id2">Hefei</span><span class="ltx_text ltx_affiliation_state" id="id11.3.id3">Anhui</span><span class="ltx_text ltx_affiliation_country" id="id12.4.id4">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:baokq@mail.ustc.edu.cn">baokq@mail.ustc.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">,Â </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Chongming Gao
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-5187-9196" title="ORCID identifier">0000-0002-5187-9196</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id13.1.id1">University of Science and Technology of China</span><span class="ltx_text ltx_affiliation_city" id="id14.2.id2">Hefei</span><span class="ltx_text ltx_affiliation_state" id="id15.3.id3">Anhui</span><span class="ltx_text ltx_affiliation_country" id="id16.4.id4">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:chongming.gao@gmail.com">chongming.gao@gmail.com</a>
</span></span></span>
<span class="ltx_author_before">,Â </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Qifan Wang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-7570-5756" title="ORCID identifier">0000-0002-7570-5756</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id17.1.id1">Meta AI</span><span class="ltx_text ltx_affiliation_city" id="id18.2.id2">Menlo Park</span><span class="ltx_text ltx_affiliation_state" id="id19.3.id3">CA</span><span class="ltx_text ltx_affiliation_country" id="id20.4.id4">United States</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:wqfcr@fb.com">wqfcr@fb.com</a>
</span></span></span>
<span class="ltx_author_before">,Â </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Fuli Feng
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-5828-9842" title="ORCID identifier">0000-0002-5828-9842</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_department" id="id21.1.id1">MoE Key Lab of BIPC,</span><span class="ltx_text ltx_affiliation_institution" id="id22.2.id2">University of Science and Technology of China</span><span class="ltx_text ltx_affiliation_city" id="id23.3.id3">Hefei</span><span class="ltx_text ltx_affiliation_state" id="id24.4.id4">Anhui</span><span class="ltx_text ltx_affiliation_country" id="id25.5.id5">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:fulifeng93@gmail.com">fulifeng93@gmail.com</a>
</span></span></span>
<span class="ltx_author_before">Â andÂ </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xiangnan He
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0001-8472-7992" title="ORCID identifier">0000-0001-8472-7992</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_department" id="id26.1.id1">MoE Key Lab of BIPC,</span><span class="ltx_text ltx_affiliation_institution" id="id27.2.id2">University of Science and Technology of China</span><span class="ltx_text ltx_affiliation_city" id="id28.3.id3">Hefei</span><span class="ltx_text ltx_affiliation_state" id="id29.4.id4">Anhui</span><span class="ltx_text ltx_affiliation_country" id="id30.5.id5">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:xiangnanhe@gmail.com">xiangnanhe@gmail.com</a>
</span></span></span>
</div>
<div class="ltx_dates">(2025)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id31.id1">Large language model-based agents are increasingly applied in the recommendation field due to their extensive knowledge and strong planning capabilities.
While prior research has primarily focused on enhancing either the recommendation agent or the user agent individually, the collaborative interaction between the two has often been overlooked.
Towards this research gap, we propose a novel framework that emphasizes the feedback loop process to facilitate the collaboration between the recommendation agent and the user agent.
Specifically, the recommendation agent refines its understanding of user preferences by analyzing the feedback from the user agent on the item recommendation.
Conversely, the user agent further identifies potential user interests based on the items and recommendation reasons provided by the recommendation agent.
This iterative process enhances the ability of both agents to infer user behaviors, enabling more effective item recommendations and more accurate user simulations.
Extensive experiments on three datasets demonstrate the effectiveness of the agentic feedback loop: the agentic feedback loop yields an average improvement of 11.52% over the single recommendation agent and 21.12% over the single user agent.
Furthermore, the results show that the agentic feedback loop does not exacerbate popularity or position bias, which are typically amplified by the real-world feedback loop, highlighting its robustness.
The source code is available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/Lanyu0303/AFL" title="">https://github.com/Lanyu0303/AFL</a>.</p>
</div>
<div class="ltx_keywords">Recommendation, User Simulation, Feedback Loop, Agent, Large Language Models
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id1"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">journalyear: </span>2025</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id2"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">copyright: </span>acmlicensed</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id3"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">conference: </span>Proceedings of the 48th International ACM SIGIR Conference on Research and Development in Information Retrieval; July 13â€“18, 2025; Padua, Italy</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_booktitle" id="id4"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">booktitle: </span>Proceedings of the 48th International ACM SIGIR Conference on Research and Development in Information Retrieval (SIGIR â€™25), July 13â€“18, 2025, Padua, Italy</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="id5"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">doi: </span>10.1145/3726302.3729893</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_isbn" id="id6"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">isbn: </span>979-8-4007-1592-1/2025/07</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id7"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">â€ </sup><span class="ltx_note_type">ccs: </span>Information systemsÂ Recommender systems</span></span></span>
<figure class="ltx_figure" id="S0.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="428" id="S0.F1.g1" src="x1.png" width="746"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>
The comparison between the recommendation agent, the user agent, and the AFL.
The recommendation agent typically recommends items based on user-item history, whereas the user agent generally simulates user behavior towards these items.
AFL concurrently develops both a recommendation agent and a user agent, emphasizing the interaction and collaboration between two agents.
</figcaption>
</figure>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">In recent years, substantial efforts have been dedicated to developing agents based on large language models (LLMs), aiming at simulating human behavior to enhance the performance across a wide range of tasksÂ <cite class="ltx_cite ltx_citemacro_citep">(Huang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib19" title="">2024</a>)</cite>. These LLM-based agents typically integrate memory modulesÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib44" title="">2024a</a>)</cite>, utilize toolsÂ <cite class="ltx_cite ltx_citemacro_citep">(Yuan etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib39" title="">2024</a>)</cite>, and perform advanced reasoningÂ <cite class="ltx_cite ltx_citemacro_citep">(Huang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib19" title="">2024</a>; Song etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib29" title="">2023</a>)</cite>. These capabilities enable them to store and leverage memories for decision-making, retrieve additional information through tool usage, and apply logical reasoning to tackle complex tasks more effectively.
Building on these advantages, researchers have recently begun exploring the application of LLM-based agents in the recommendation domainÂ <cite class="ltx_cite ltx_citemacro_citep">(Wang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib32" title="">2024a</a>; Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib41" title="">2024b</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib42" title="">c</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Current applications of LLM-based agents in the recommendation field can be generally summarized into two categories:</p>
</div>
<div class="ltx_para" id="S1.p3">
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">As to the recommendation task, the LLM-based recommendation agentÂ <cite class="ltx_cite ltx_citemacro_citep">(Wang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib32" title="">2024a</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib33" title="">b</a>)</cite> draws on the world knowledge embedded in LLMs and improves the performance through advanced capabilities such as tool use and logical reasoningÂ <cite class="ltx_cite ltx_citemacro_citep">(Wang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib32" title="">2024a</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib33" title="">b</a>; Shi etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib27" title="">2024</a>)</cite>.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">As to the user simulation task, the LLM-based user agentÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib41" title="">2024b</a>; Wang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib31" title="">2025</a>)</cite> leverages the human behavior modeling capabilities of LLMs to simulate user actions in recommendation systems, such as liking, disliking, and commenting. Consequently, the user agent can be used to evaluate the performance of the recommendation system, infer user interests, and generate user data for training recommendation modelsÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib41" title="">2024b</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib42" title="">c</a>; Friedman etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib8" title="">2023</a>)</cite>.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Existing research primarily focuses on optimizing either the recommendation agent or the user agent separately, overlooking the critical role of the feedback loop between the user and the recommender.
However, in real-world recommendation scenarios, the recommender aids users in discovering their interests and preferences. Simultaneously, users, through multi-round interactions with the recommender, provide feedback that enables the system to better understand their preferences. This reciprocal influence between the user and the recommender forms the feedback loop within a recommendation systemÂ <cite class="ltx_cite ltx_citemacro_citep">(Ghazimatin etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib13" title="">2021</a>)</cite>.
The interactive and reciprocal nature of this feedback loop aligns well with the strengths of LLM-based agents, which excel in interaction and memory capabilities. This synergy motivates us to explore integrating the feedback loop into the optimization of both recommendation and user agents, aiming to enhance them simultaneously.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">To this end, we introduce the <span class="ltx_text ltx_font_bold" id="S1.p5.1.1">A</span>gentic <span class="ltx_text ltx_font_bold" id="S1.p5.1.2">F</span>eedback <span class="ltx_text ltx_font_bold" id="S1.p5.1.3">L</span>oop (AFL) modeling.
AFL simultaneously constructs both a recommendation agent and a user agent, using textual communication to simulate the feedback loop.
In each iteration, the recommendation agent suggests an item and provides a rationale. The user agent then responds with feedback, indicating whether it likes the item. If the user agent is satisfied, the loop terminates; otherwise, both the recommendation rationale and user feedback are stored in memory, and the process repeats.
AFL relies exclusively on memory to record interactions and update both agents, making it simple and broadly applicable. It is not limited to any specific agents and can be integrated with almost any recommendation or user agent equipped with memory.
By leveraging interaction history stored in memory, the recommendation agent can identify the shortcomings of previous suggestions and better infer user preferences, leading to improved recommendations.
Similarly, the user agent can discover potential user interests from the interaction history, allowing it to adjust its user modeling accordingly.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">To assess the effectiveness of the proposed framework, we conducted comprehensive experiments on three widely used recommendation datasets: LastFMÂ <cite class="ltx_cite ltx_citemacro_citep">(Cantador etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib6" title="">2011</a>)</cite>, SteamÂ <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib21" title="">2018</a>)</cite>, and MovieLensÂ <cite class="ltx_cite ltx_citemacro_citep">(Harper and Konstan, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib15" title="">2015</a>)</cite>.
The experimental results show that AFL simultaneously enhances the performance of both the recommendation agent and the user agent, with larger improvements as the maximum number of iterations increases.
Furthermore, unlike real-world feedback loops that often amplify popularity and position biasesÂ <cite class="ltx_cite ltx_citemacro_citep">(Mansoury etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib24" title="">2020</a>)</cite>, the experimental results show that AFL does not exacerbate these biases, demonstrating its robustness.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">In conclusion, our main contributions are summarized as follows:</p>
<ul class="ltx_itemize" id="S1.I2">
<li class="ltx_item" id="S1.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I2.i1.p1">
<p class="ltx_p" id="S1.I2.i1.p1.1">To our knowledge, our work is the first to highlight the significance of modeling the feedback loop between the recommendation agent and the user agent in LLM-based recommendation.
</p>
</div>
</li>
<li class="ltx_item" id="S1.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I2.i2.p1">
<p class="ltx_p" id="S1.I2.i2.p1.1">We propose a novel framework, AFL, which establishes an agentic feedback loop to facilitate the cooperation and reciprocity between the recommendation agent and the user agent.</p>
</div>
</li>
<li class="ltx_item" id="S1.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I2.i3.p1">
<p class="ltx_p" id="S1.I2.i3.p1.1">Extensive experiments validate the effectiveness of the proposed AFL approach, underscoring the potential and importance of the feedback loop in agent-based recommendation systems.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Related Work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">In this section, we delve into related studies from two perspectives: LLMs for recommendation and agent-based recommendation.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>LLMs for Recommendation</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">Due to LLMsâ€™ extensive knowledge and strong reasoning capabilities, researchers have begun exploring their application in recommendation systemsÂ <cite class="ltx_cite ltx_citemacro_citep">(Wu etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib35" title="">2024</a>; Bao etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib3" title="">2024</a>; Xu etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib37" title="">2025</a>; Lin etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib23" title="">2024</a>)</cite>.
Previous work can be roughly categorized into using LLMs for feature enhancement and using LLMs for direct recommendationÂ <cite class="ltx_cite ltx_citemacro_citep">(Shu etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib28" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">For feature enhancement, some researchers use LLMs to augment raw data, thereby supplying additional information for recommendation modelsÂ <cite class="ltx_cite ltx_citemacro_citep">(Xi etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib36" title="">2024</a>)</cite>.
Whatâ€™s more, several studies propose to augment traditional models with LLM tokens or embeddingsÂ <cite class="ltx_cite ltx_citemacro_citep">(Hou etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib18" title="">2022</a>)</cite>, which can leverage the world knowledge of LLMs to assist traditional recommendation models in learning the underlying connections between items and users.</p>
</div>
<div class="ltx_para" id="S2.SS1.p3">
<p class="ltx_p" id="S2.SS1.p3.1">For direct recommendation, some work directly utilized LLMsâ€™ strong capabilities such as reasoning recommendation based on user information and interacted itemsÂ <cite class="ltx_cite ltx_citemacro_citep">(He etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib16" title="">2023</a>)</cite>, to further explore the potential of LLMs in recommendation.
Further, some studies propose fine-tuning LLMs on recommendation data, to acquire recommendation-specific knowledge and enhance recommendation performanceÂ <cite class="ltx_cite ltx_citemacro_citep">(Bao etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib5" title="">2023</a>; Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib43" title="">2025</a>; Chen etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib7" title="">2024</a>; Gao etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib9" title="">2025a</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib10" title="">b</a>)</cite>.
However, conducting such fine-tuning can be costly and may potentially hurt the unique capabilities of LLMs, such as reasoning and planningÂ <cite class="ltx_cite ltx_citemacro_citep">(Bao etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib4" title="">2025</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib3" title="">2024</a>)</cite>.
Thus, we focus on using LLM-based agents for recommendation in this paper, since they can acquire recommendation knowledge and maintain strong specific abilities like reasoning for better recommendation.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Agent-based Recommendation</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">Leveraging the extensive capabilities of LLMs, agents possess powerful capabilities such as planning and execution, allowing them to tackle a wide range of complex tasksÂ <cite class="ltx_cite ltx_citemacro_citep">(Huang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib19" title="">2024</a>)</cite>.
Thus, many studies have explored the application of LLM-based agents in recommendation systems, which can be roughly divided into two categories: for recommendation and for user simulation.</p>
</div>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1">The recommendation agent focuses on tackling recommendation tasksÂ <cite class="ltx_cite ltx_citemacro_citep">(Wang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib32" title="">2024a</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib33" title="">b</a>)</cite>.
For example, RecMindÂ <cite class="ltx_cite ltx_citemacro_citep">(Wang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib32" title="">2024a</a>)</cite> enhances performance by employing self-inspiring and tool-calling mechanisms, and is capable of addressing various recommendation tasks, including sequential recommendation and rating prediction.
Whatâ€™s more, MACRecÂ <cite class="ltx_cite ltx_citemacro_citep">(Wang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib33" title="">2024b</a>)</cite> introduces multi-agent collaboration, where different agents are assigned specific roles through role-playing, such as user analyst, searcher and item analyst.
RAHÂ <cite class="ltx_cite ltx_citemacro_citep">(Shu etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib28" title="">2023</a>)</cite> positions the agent as an intermediary assistant between multiple traditional recommendation systems and users, building a user-centred framework.</p>
</div>
<div class="ltx_para" id="S2.SS2.p3">
<p class="ltx_p" id="S2.SS2.p3.1">The user agent focuses on simulating user behaviorÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib41" title="">2024b</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib42" title="">c</a>)</cite>.
Agent4RecÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib41" title="">2024b</a>)</cite> constructs a user agent with a profile module, memory module, and action module, capable of simulating user behavior such as viewing, rating, and providing feedback, which can assist in testing recommendation systems.
RecLLMÂ <cite class="ltx_cite ltx_citemacro_citep">(Friedman etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib8" title="">2023</a>)</cite> builds a controllable LLM-based user simulator that can be integrated into the conversational recommender system to generate synthetic conversation data.
Furthermore, RecAgentÂ <cite class="ltx_cite ltx_citemacro_citep">(Wang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib31" title="">2025</a>)</cite> introduces multiple user agents, which are capable of simulating multiple usersâ€™ chatting and broadcasting behavior.
Whatâ€™s more, AgentCFÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib42" title="">2024c</a>)</cite> constructs user agents and item agents to simulate user-item interactions.
However, the existing recommendation agent and user agent approaches have not considered the feedback loop between them, which is a crucial feature in recommendation systems, to simultaneously enhance the performance for both the recommendation and user simulation.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Method</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this section, we present the proposed agentic feedback loop framework named AFL.
The overview framework of our proposed AFL is depicted in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.F2" title="Figure 2 â€£ 3.1. Overview â€£ 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Overview</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">As shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.F2" title="Figure 2 â€£ 3.1. Overview â€£ 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">2</span></a>, AFL consists of:
(1) a recommendation agent (SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.SS2" title="3.2. Recommendation Agent â€£ 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">3.2</span></a>),
(2) a user agent (SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.SS3" title="3.3. User Agent â€£ 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">3.3</span></a>), and
(3) the feedback loop between the two agents (SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.SS4" title="3.4. Feedback Loop â€£ 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">3.4</span></a>).</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.4">The input to AFL is the user-item interaction history, formalized as <math alttext="[I_{1},I_{2},\cdots,I_{n}]" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.4"><semantics id="S3.SS1.p2.1.m1.4a"><mrow id="S3.SS1.p2.1.m1.4.4.3" xref="S3.SS1.p2.1.m1.4.4.4.cmml"><mo id="S3.SS1.p2.1.m1.4.4.3.4" stretchy="false" xref="S3.SS1.p2.1.m1.4.4.4.cmml">[</mo><msub id="S3.SS1.p2.1.m1.2.2.1.1" xref="S3.SS1.p2.1.m1.2.2.1.1.cmml"><mi id="S3.SS1.p2.1.m1.2.2.1.1.2" xref="S3.SS1.p2.1.m1.2.2.1.1.2.cmml">I</mi><mn id="S3.SS1.p2.1.m1.2.2.1.1.3" xref="S3.SS1.p2.1.m1.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p2.1.m1.4.4.3.5" xref="S3.SS1.p2.1.m1.4.4.4.cmml">,</mo><msub id="S3.SS1.p2.1.m1.3.3.2.2" xref="S3.SS1.p2.1.m1.3.3.2.2.cmml"><mi id="S3.SS1.p2.1.m1.3.3.2.2.2" xref="S3.SS1.p2.1.m1.3.3.2.2.2.cmml">I</mi><mn id="S3.SS1.p2.1.m1.3.3.2.2.3" xref="S3.SS1.p2.1.m1.3.3.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p2.1.m1.4.4.3.6" xref="S3.SS1.p2.1.m1.4.4.4.cmml">,</mo><mi id="S3.SS1.p2.1.m1.1.1" mathvariant="normal" xref="S3.SS1.p2.1.m1.1.1.cmml">â‹¯</mi><mo id="S3.SS1.p2.1.m1.4.4.3.7" xref="S3.SS1.p2.1.m1.4.4.4.cmml">,</mo><msub id="S3.SS1.p2.1.m1.4.4.3.3" xref="S3.SS1.p2.1.m1.4.4.3.3.cmml"><mi id="S3.SS1.p2.1.m1.4.4.3.3.2" xref="S3.SS1.p2.1.m1.4.4.3.3.2.cmml">I</mi><mi id="S3.SS1.p2.1.m1.4.4.3.3.3" xref="S3.SS1.p2.1.m1.4.4.3.3.3.cmml">n</mi></msub><mo id="S3.SS1.p2.1.m1.4.4.3.8" stretchy="false" xref="S3.SS1.p2.1.m1.4.4.4.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.4b"><list id="S3.SS1.p2.1.m1.4.4.4.cmml" xref="S3.SS1.p2.1.m1.4.4.3"><apply id="S3.SS1.p2.1.m1.2.2.1.1.cmml" xref="S3.SS1.p2.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.2.2.1.1.1.cmml" xref="S3.SS1.p2.1.m1.2.2.1.1">subscript</csymbol><ci id="S3.SS1.p2.1.m1.2.2.1.1.2.cmml" xref="S3.SS1.p2.1.m1.2.2.1.1.2">ğ¼</ci><cn id="S3.SS1.p2.1.m1.2.2.1.1.3.cmml" type="integer" xref="S3.SS1.p2.1.m1.2.2.1.1.3">1</cn></apply><apply id="S3.SS1.p2.1.m1.3.3.2.2.cmml" xref="S3.SS1.p2.1.m1.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.3.3.2.2.1.cmml" xref="S3.SS1.p2.1.m1.3.3.2.2">subscript</csymbol><ci id="S3.SS1.p2.1.m1.3.3.2.2.2.cmml" xref="S3.SS1.p2.1.m1.3.3.2.2.2">ğ¼</ci><cn id="S3.SS1.p2.1.m1.3.3.2.2.3.cmml" type="integer" xref="S3.SS1.p2.1.m1.3.3.2.2.3">2</cn></apply><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">â‹¯</ci><apply id="S3.SS1.p2.1.m1.4.4.3.3.cmml" xref="S3.SS1.p2.1.m1.4.4.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.4.4.3.3.1.cmml" xref="S3.SS1.p2.1.m1.4.4.3.3">subscript</csymbol><ci id="S3.SS1.p2.1.m1.4.4.3.3.2.cmml" xref="S3.SS1.p2.1.m1.4.4.3.3.2">ğ¼</ci><ci id="S3.SS1.p2.1.m1.4.4.3.3.3.cmml" xref="S3.SS1.p2.1.m1.4.4.3.3.3">ğ‘›</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.4c">[I_{1},I_{2},\cdots,I_{n}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.4d">[ italic_I start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_I start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â‹¯ , italic_I start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ]</annotation></semantics></math>, where <math alttext="I_{i}" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><msub id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">I</mi><mi id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">ğ¼</ci><ci id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">I_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">italic_I start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> represents the <math alttext="i" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.1"><semantics id="S3.SS1.p2.3.m3.1a"><mi id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">ğ‘–</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.m3.1d">italic_i</annotation></semantics></math>-th item the user interacts with. The output is AFLâ€™s prediction of the next item, <math alttext="I_{n+1}" class="ltx_Math" display="inline" id="S3.SS1.p2.4.m4.1"><semantics id="S3.SS1.p2.4.m4.1a"><msub id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml"><mi id="S3.SS1.p2.4.m4.1.1.2" xref="S3.SS1.p2.4.m4.1.1.2.cmml">I</mi><mrow id="S3.SS1.p2.4.m4.1.1.3" xref="S3.SS1.p2.4.m4.1.1.3.cmml"><mi id="S3.SS1.p2.4.m4.1.1.3.2" xref="S3.SS1.p2.4.m4.1.1.3.2.cmml">n</mi><mo id="S3.SS1.p2.4.m4.1.1.3.1" xref="S3.SS1.p2.4.m4.1.1.3.1.cmml">+</mo><mn id="S3.SS1.p2.4.m4.1.1.3.3" xref="S3.SS1.p2.4.m4.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p2.4.m4.1.1.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2">ğ¼</ci><apply id="S3.SS1.p2.4.m4.1.1.3.cmml" xref="S3.SS1.p2.4.m4.1.1.3"><plus id="S3.SS1.p2.4.m4.1.1.3.1.cmml" xref="S3.SS1.p2.4.m4.1.1.3.1"></plus><ci id="S3.SS1.p2.4.m4.1.1.3.2.cmml" xref="S3.SS1.p2.4.m4.1.1.3.2">ğ‘›</ci><cn id="S3.SS1.p2.4.m4.1.1.3.3.cmml" type="integer" xref="S3.SS1.p2.4.m4.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">I_{n+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.4.m4.1d">italic_I start_POSTSUBSCRIPT italic_n + 1 end_POSTSUBSCRIPT</annotation></semantics></math>, that the user is likely to interact with.
Specifically, the user-item interaction history initializes the user agent and serves as input to the recommendation agent. Based on this interaction history, the recommendation agent generates a recommended item along with the corresponding rationale. The user agent then evaluates whether it likes the recommended item. If the item is deemed favorable, the user agent directly outputs the item, concluding the process. Otherwise, the process enters an iterative feedback loop: the user agent provides feedback, prompting the recommendation agent to refine its suggestions and propose new items.</p>
</div>
<figure class="ltx_figure" id="S3.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="401" id="S3.F2.g1" src="x2.png" width="665"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>Overview of the proposed AFL method.
The user-item history initializes the user agent and serves as input for the recommendation agent. The recommendation agent then suggests an item with a reason. If the user agent approves, the process ends. Otherwise, the user agent provides feedback to help refine future recommendations.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Recommendation Agent</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.3">The recommendation agent is powered by GPT-4o-miniÂ <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib25" title="">2024</a>)</cite> and is equipped with a memory module and a recommendation module.
The memory module can store the communication history between the recommendation and user agents, denoted as <math alttext="M_{r}" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><msub id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml"><mi id="S3.SS2.p1.1.m1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.2.cmml">M</mi><mi id="S3.SS2.p1.1.m1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><apply id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.2">ğ‘€</ci><ci id="S3.SS2.p1.1.m1.1.1.3.cmml" xref="S3.SS2.p1.1.m1.1.1.3">ğ‘Ÿ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">M_{r}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">italic_M start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math>.
In practice, the communication history is formatted into a string following the template provided in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.T1" title="Table 1 â€£ 3.2. Recommendation Agent â€£ 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">1</span></a>, which is then utilized as the input prompt for the agent.
The recommendation module is a flexible and interchangeable recommendation model that can recommend an item, denoted as <math alttext="I_{m}" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1"><semantics id="S3.SS2.p1.2.m2.1a"><msub id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml"><mi id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">I</mi><mi id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2">ğ¼</ci><ci id="S3.SS2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">I_{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.1d">italic_I start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math>, based on the user-item interaction history <math alttext="[I_{1},I_{2},\cdots,I_{n}]" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m3.4"><semantics id="S3.SS2.p1.3.m3.4a"><mrow id="S3.SS2.p1.3.m3.4.4.3" xref="S3.SS2.p1.3.m3.4.4.4.cmml"><mo id="S3.SS2.p1.3.m3.4.4.3.4" stretchy="false" xref="S3.SS2.p1.3.m3.4.4.4.cmml">[</mo><msub id="S3.SS2.p1.3.m3.2.2.1.1" xref="S3.SS2.p1.3.m3.2.2.1.1.cmml"><mi id="S3.SS2.p1.3.m3.2.2.1.1.2" xref="S3.SS2.p1.3.m3.2.2.1.1.2.cmml">I</mi><mn id="S3.SS2.p1.3.m3.2.2.1.1.3" xref="S3.SS2.p1.3.m3.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS2.p1.3.m3.4.4.3.5" xref="S3.SS2.p1.3.m3.4.4.4.cmml">,</mo><msub id="S3.SS2.p1.3.m3.3.3.2.2" xref="S3.SS2.p1.3.m3.3.3.2.2.cmml"><mi id="S3.SS2.p1.3.m3.3.3.2.2.2" xref="S3.SS2.p1.3.m3.3.3.2.2.2.cmml">I</mi><mn id="S3.SS2.p1.3.m3.3.3.2.2.3" xref="S3.SS2.p1.3.m3.3.3.2.2.3.cmml">2</mn></msub><mo id="S3.SS2.p1.3.m3.4.4.3.6" xref="S3.SS2.p1.3.m3.4.4.4.cmml">,</mo><mi id="S3.SS2.p1.3.m3.1.1" mathvariant="normal" xref="S3.SS2.p1.3.m3.1.1.cmml">â‹¯</mi><mo id="S3.SS2.p1.3.m3.4.4.3.7" xref="S3.SS2.p1.3.m3.4.4.4.cmml">,</mo><msub id="S3.SS2.p1.3.m3.4.4.3.3" xref="S3.SS2.p1.3.m3.4.4.3.3.cmml"><mi id="S3.SS2.p1.3.m3.4.4.3.3.2" xref="S3.SS2.p1.3.m3.4.4.3.3.2.cmml">I</mi><mi id="S3.SS2.p1.3.m3.4.4.3.3.3" xref="S3.SS2.p1.3.m3.4.4.3.3.3.cmml">n</mi></msub><mo id="S3.SS2.p1.3.m3.4.4.3.8" stretchy="false" xref="S3.SS2.p1.3.m3.4.4.4.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.4b"><list id="S3.SS2.p1.3.m3.4.4.4.cmml" xref="S3.SS2.p1.3.m3.4.4.3"><apply id="S3.SS2.p1.3.m3.2.2.1.1.cmml" xref="S3.SS2.p1.3.m3.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.2.2.1.1.1.cmml" xref="S3.SS2.p1.3.m3.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p1.3.m3.2.2.1.1.2.cmml" xref="S3.SS2.p1.3.m3.2.2.1.1.2">ğ¼</ci><cn id="S3.SS2.p1.3.m3.2.2.1.1.3.cmml" type="integer" xref="S3.SS2.p1.3.m3.2.2.1.1.3">1</cn></apply><apply id="S3.SS2.p1.3.m3.3.3.2.2.cmml" xref="S3.SS2.p1.3.m3.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.3.3.2.2.1.cmml" xref="S3.SS2.p1.3.m3.3.3.2.2">subscript</csymbol><ci id="S3.SS2.p1.3.m3.3.3.2.2.2.cmml" xref="S3.SS2.p1.3.m3.3.3.2.2.2">ğ¼</ci><cn id="S3.SS2.p1.3.m3.3.3.2.2.3.cmml" type="integer" xref="S3.SS2.p1.3.m3.3.3.2.2.3">2</cn></apply><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">â‹¯</ci><apply id="S3.SS2.p1.3.m3.4.4.3.3.cmml" xref="S3.SS2.p1.3.m3.4.4.3.3"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.4.4.3.3.1.cmml" xref="S3.SS2.p1.3.m3.4.4.3.3">subscript</csymbol><ci id="S3.SS2.p1.3.m3.4.4.3.3.2.cmml" xref="S3.SS2.p1.3.m3.4.4.3.3.2">ğ¼</ci><ci id="S3.SS2.p1.3.m3.4.4.3.3.3.cmml" xref="S3.SS2.p1.3.m3.4.4.3.3.3">ğ‘›</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.4c">[I_{1},I_{2},\cdots,I_{n}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.3.m3.4d">[ italic_I start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_I start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â‹¯ , italic_I start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ]</annotation></semantics></math>.
Its interchangeable nature allows the recommendation agent to be flexibly integrated into recommendation systems with different architectures.
It is worth noting that the recommendation model is trained in the training set, which can provide the recommendation agent with dataset-related recommendation knowledge.
In addition, to enhance the performance of the recommendation agent, we have also adopted role-playingÂ <cite class="ltx_cite ltx_citemacro_citep">(Shanahan etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib26" title="">2023</a>)</cite> and chain-of-thoughtÂ <cite class="ltx_cite ltx_citemacro_citep">(Wei etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib34" title="">2022</a>)</cite> approaches, which can help the agent think step by step and provide reasons for its recommendations.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.4">In the recommendation phase, the recommendation agent will simultaneously consider memory, user-item interaction history, and the item recommended by the recommendation model to provide a new recommended item and the corresponding reason.
This can be formally represented as <math alttext="f_{r}(M_{r},[I_{1},I_{2},\cdots,I_{n}],I_{m})=(I_{r},R_{r})" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.6"><semantics id="S3.SS2.p2.1.m1.6a"><mrow id="S3.SS2.p2.1.m1.6.6" xref="S3.SS2.p2.1.m1.6.6.cmml"><mrow id="S3.SS2.p2.1.m1.4.4.3" xref="S3.SS2.p2.1.m1.4.4.3.cmml"><msub id="S3.SS2.p2.1.m1.4.4.3.5" xref="S3.SS2.p2.1.m1.4.4.3.5.cmml"><mi id="S3.SS2.p2.1.m1.4.4.3.5.2" xref="S3.SS2.p2.1.m1.4.4.3.5.2.cmml">f</mi><mi id="S3.SS2.p2.1.m1.4.4.3.5.3" xref="S3.SS2.p2.1.m1.4.4.3.5.3.cmml">r</mi></msub><mo id="S3.SS2.p2.1.m1.4.4.3.4" xref="S3.SS2.p2.1.m1.4.4.3.4.cmml">â¢</mo><mrow id="S3.SS2.p2.1.m1.4.4.3.3.3" xref="S3.SS2.p2.1.m1.4.4.3.3.4.cmml"><mo id="S3.SS2.p2.1.m1.4.4.3.3.3.4" stretchy="false" xref="S3.SS2.p2.1.m1.4.4.3.3.4.cmml">(</mo><msub id="S3.SS2.p2.1.m1.2.2.1.1.1.1" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.2.2.1.1.1.1.2" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1.2.cmml">M</mi><mi id="S3.SS2.p2.1.m1.2.2.1.1.1.1.3" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1.3.cmml">r</mi></msub><mo id="S3.SS2.p2.1.m1.4.4.3.3.3.5" xref="S3.SS2.p2.1.m1.4.4.3.3.4.cmml">,</mo><mrow id="S3.SS2.p2.1.m1.3.3.2.2.2.2.3" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.4.cmml"><mo id="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.4" stretchy="false" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.4.cmml">[</mo><msub id="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1.cmml"><mi id="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1.2" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1.2.cmml">I</mi><mn id="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1.3" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.5" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.4.cmml">,</mo><msub id="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2.cmml"><mi id="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2.2" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2.2.cmml">I</mi><mn id="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2.3" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.6" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.4.cmml">,</mo><mi id="S3.SS2.p2.1.m1.1.1" mathvariant="normal" xref="S3.SS2.p2.1.m1.1.1.cmml">â‹¯</mi><mo id="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.7" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.4.cmml">,</mo><msub id="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3.cmml"><mi id="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3.2" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3.2.cmml">I</mi><mi id="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3.3" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3.3.cmml">n</mi></msub><mo id="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.8" stretchy="false" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.4.cmml">]</mo></mrow><mo id="S3.SS2.p2.1.m1.4.4.3.3.3.6" xref="S3.SS2.p2.1.m1.4.4.3.3.4.cmml">,</mo><msub id="S3.SS2.p2.1.m1.4.4.3.3.3.3" xref="S3.SS2.p2.1.m1.4.4.3.3.3.3.cmml"><mi id="S3.SS2.p2.1.m1.4.4.3.3.3.3.2" xref="S3.SS2.p2.1.m1.4.4.3.3.3.3.2.cmml">I</mi><mi id="S3.SS2.p2.1.m1.4.4.3.3.3.3.3" xref="S3.SS2.p2.1.m1.4.4.3.3.3.3.3.cmml">m</mi></msub><mo id="S3.SS2.p2.1.m1.4.4.3.3.3.7" stretchy="false" xref="S3.SS2.p2.1.m1.4.4.3.3.4.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p2.1.m1.6.6.6" xref="S3.SS2.p2.1.m1.6.6.6.cmml">=</mo><mrow id="S3.SS2.p2.1.m1.6.6.5.2" xref="S3.SS2.p2.1.m1.6.6.5.3.cmml"><mo id="S3.SS2.p2.1.m1.6.6.5.2.3" stretchy="false" xref="S3.SS2.p2.1.m1.6.6.5.3.cmml">(</mo><msub id="S3.SS2.p2.1.m1.5.5.4.1.1" xref="S3.SS2.p2.1.m1.5.5.4.1.1.cmml"><mi id="S3.SS2.p2.1.m1.5.5.4.1.1.2" xref="S3.SS2.p2.1.m1.5.5.4.1.1.2.cmml">I</mi><mi id="S3.SS2.p2.1.m1.5.5.4.1.1.3" xref="S3.SS2.p2.1.m1.5.5.4.1.1.3.cmml">r</mi></msub><mo id="S3.SS2.p2.1.m1.6.6.5.2.4" xref="S3.SS2.p2.1.m1.6.6.5.3.cmml">,</mo><msub id="S3.SS2.p2.1.m1.6.6.5.2.2" xref="S3.SS2.p2.1.m1.6.6.5.2.2.cmml"><mi id="S3.SS2.p2.1.m1.6.6.5.2.2.2" xref="S3.SS2.p2.1.m1.6.6.5.2.2.2.cmml">R</mi><mi id="S3.SS2.p2.1.m1.6.6.5.2.2.3" xref="S3.SS2.p2.1.m1.6.6.5.2.2.3.cmml">r</mi></msub><mo id="S3.SS2.p2.1.m1.6.6.5.2.5" stretchy="false" xref="S3.SS2.p2.1.m1.6.6.5.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.6b"><apply id="S3.SS2.p2.1.m1.6.6.cmml" xref="S3.SS2.p2.1.m1.6.6"><eq id="S3.SS2.p2.1.m1.6.6.6.cmml" xref="S3.SS2.p2.1.m1.6.6.6"></eq><apply id="S3.SS2.p2.1.m1.4.4.3.cmml" xref="S3.SS2.p2.1.m1.4.4.3"><times id="S3.SS2.p2.1.m1.4.4.3.4.cmml" xref="S3.SS2.p2.1.m1.4.4.3.4"></times><apply id="S3.SS2.p2.1.m1.4.4.3.5.cmml" xref="S3.SS2.p2.1.m1.4.4.3.5"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.4.4.3.5.1.cmml" xref="S3.SS2.p2.1.m1.4.4.3.5">subscript</csymbol><ci id="S3.SS2.p2.1.m1.4.4.3.5.2.cmml" xref="S3.SS2.p2.1.m1.4.4.3.5.2">ğ‘“</ci><ci id="S3.SS2.p2.1.m1.4.4.3.5.3.cmml" xref="S3.SS2.p2.1.m1.4.4.3.5.3">ğ‘Ÿ</ci></apply><vector id="S3.SS2.p2.1.m1.4.4.3.3.4.cmml" xref="S3.SS2.p2.1.m1.4.4.3.3.3"><apply id="S3.SS2.p2.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.2.2.1.1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p2.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1.2">ğ‘€</ci><ci id="S3.SS2.p2.1.m1.2.2.1.1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1.3">ğ‘Ÿ</ci></apply><list id="S3.SS2.p2.1.m1.3.3.2.2.2.2.4.cmml" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.3"><apply id="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1.cmml" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1.1.cmml" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1.2.cmml" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1.2">ğ¼</ci><cn id="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1.3.cmml" type="integer" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.1.1.3">1</cn></apply><apply id="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2.cmml" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2.1.cmml" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2.2.cmml" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2.2">ğ¼</ci><cn id="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2.3.cmml" type="integer" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.2.2.3">2</cn></apply><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">â‹¯</ci><apply id="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3.cmml" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3.1.cmml" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3">subscript</csymbol><ci id="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3.2.cmml" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3.2">ğ¼</ci><ci id="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3.3.cmml" xref="S3.SS2.p2.1.m1.3.3.2.2.2.2.3.3.3">ğ‘›</ci></apply></list><apply id="S3.SS2.p2.1.m1.4.4.3.3.3.3.cmml" xref="S3.SS2.p2.1.m1.4.4.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.4.4.3.3.3.3.1.cmml" xref="S3.SS2.p2.1.m1.4.4.3.3.3.3">subscript</csymbol><ci id="S3.SS2.p2.1.m1.4.4.3.3.3.3.2.cmml" xref="S3.SS2.p2.1.m1.4.4.3.3.3.3.2">ğ¼</ci><ci id="S3.SS2.p2.1.m1.4.4.3.3.3.3.3.cmml" xref="S3.SS2.p2.1.m1.4.4.3.3.3.3.3">ğ‘š</ci></apply></vector></apply><interval closure="open" id="S3.SS2.p2.1.m1.6.6.5.3.cmml" xref="S3.SS2.p2.1.m1.6.6.5.2"><apply id="S3.SS2.p2.1.m1.5.5.4.1.1.cmml" xref="S3.SS2.p2.1.m1.5.5.4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.5.5.4.1.1.1.cmml" xref="S3.SS2.p2.1.m1.5.5.4.1.1">subscript</csymbol><ci id="S3.SS2.p2.1.m1.5.5.4.1.1.2.cmml" xref="S3.SS2.p2.1.m1.5.5.4.1.1.2">ğ¼</ci><ci id="S3.SS2.p2.1.m1.5.5.4.1.1.3.cmml" xref="S3.SS2.p2.1.m1.5.5.4.1.1.3">ğ‘Ÿ</ci></apply><apply id="S3.SS2.p2.1.m1.6.6.5.2.2.cmml" xref="S3.SS2.p2.1.m1.6.6.5.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.6.6.5.2.2.1.cmml" xref="S3.SS2.p2.1.m1.6.6.5.2.2">subscript</csymbol><ci id="S3.SS2.p2.1.m1.6.6.5.2.2.2.cmml" xref="S3.SS2.p2.1.m1.6.6.5.2.2.2">ğ‘…</ci><ci id="S3.SS2.p2.1.m1.6.6.5.2.2.3.cmml" xref="S3.SS2.p2.1.m1.6.6.5.2.2.3">ğ‘Ÿ</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.6c">f_{r}(M_{r},[I_{1},I_{2},\cdots,I_{n}],I_{m})=(I_{r},R_{r})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.6d">italic_f start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT ( italic_M start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , [ italic_I start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_I start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â‹¯ , italic_I start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ] , italic_I start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ) = ( italic_I start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT )</annotation></semantics></math>, where <math alttext="f_{r}" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><msub id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">f</mi><mi id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">ğ‘“</ci><ci id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3">ğ‘Ÿ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">f_{r}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_f start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math> represents the recommendation agent, <math alttext="I_{r}" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m3.1"><semantics id="S3.SS2.p2.3.m3.1a"><msub id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><mi id="S3.SS2.p2.3.m3.1.1.2" xref="S3.SS2.p2.3.m3.1.1.2.cmml">I</mi><mi id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2">ğ¼</ci><ci id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3">ğ‘Ÿ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">I_{r}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m3.1d">italic_I start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math> represents the item recommended by the recommendation agent, and <math alttext="R_{r}" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m4.1"><semantics id="S3.SS2.p2.4.m4.1a"><msub id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml"><mi id="S3.SS2.p2.4.m4.1.1.2" xref="S3.SS2.p2.4.m4.1.1.2.cmml">R</mi><mi id="S3.SS2.p2.4.m4.1.1.3" xref="S3.SS2.p2.4.m4.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><apply id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.4.m4.1.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p2.4.m4.1.1.2.cmml" xref="S3.SS2.p2.4.m4.1.1.2">ğ‘…</ci><ci id="S3.SS2.p2.4.m4.1.1.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3">ğ‘Ÿ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">R_{r}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.4.m4.1d">italic_R start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math> represents the reason provided by the recommendation agent.
We present a prompt template for the recommendation agent in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.T1" title="Table 1 â€£ 3.2. Recommendation Agent â€£ 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure class="ltx_table" id="S3.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1. </span>Memory template and prompt template in the Lastfm dataset for the recommendation agent.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S3.T1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T1.1.1.1">
<th class="ltx_td ltx_align_justify ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" id="S3.T1.1.1.1.1" style="background-color:#FFD0C7;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.1.1">
<span class="ltx_p" id="S3.T1.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.1.1.1" style="background-color:#FFD0C7;">Memory Template</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T1.1.2.1" style="background-color:#F5F5F5;">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="S3.T1.1.2.1.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.2.1.1.1" style="background-color:#F5F5F5;">
<span class="ltx_p" id="S3.T1.1.2.1.1.1.1">In round {}, the music artist you recommended is {}.</span>
<span class="ltx_p" id="S3.T1.1.2.1.1.1.2">The reason you gave for the recommendation is: {}.</span>
<span class="ltx_p" id="S3.T1.1.2.1.1.1.3">The reason the user provided for not considering this to be the best recommendation is: {}.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.3.2">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="S3.T1.1.3.2.1" style="background-color:#FFD0C7;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.3.2.1.1">
<span class="ltx_p" id="S3.T1.1.3.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.1.3.2.1.1.1.1" style="background-color:#FFD0C7;">Prompt Template</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.4.3" style="background-color:#F5F5F5;">
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_l ltx_border_r ltx_border_t" id="S3.T1.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.4.3.1.1" style="background-color:#F5F5F5;">
<span class="ltx_p" id="S3.T1.1.4.3.1.1.1">You are a music artist <span class="ltx_text ltx_font_bold" id="S3.T1.1.4.3.1.1.1.1">recommendation system</span>.</span>
<span class="ltx_p" id="S3.T1.1.4.3.1.1.2">Refine the userâ€™s listening history to <span class="ltx_text ltx_font_bold" id="S3.T1.1.4.3.1.1.2.1">predict the most likely music artist</span> he/she will listen to next from the candidate list.</span>
<span class="ltx_p" id="S3.T1.1.4.3.1.1.3">Here is the <span class="ltx_text ltx_font_bold" id="S3.T1.1.4.3.1.1.3.1">history of communication</span> between you and the user: {}.</span>
<span class="ltx_p" id="S3.T1.1.4.3.1.1.4"><span class="ltx_text ltx_font_bold" id="S3.T1.1.4.3.1.1.4.1">Another recommendation model</span> has suggested a music artist for your reference: {}.</span>
<span class="ltx_p" id="S3.T1.1.4.3.1.1.5"><span class="ltx_text ltx_font_bold" id="S3.T1.1.4.3.1.1.5.1">Some useful tips: </span></span>
<span class="ltx_p" id="S3.T1.1.4.3.1.1.6">1. You need to first <span class="ltx_text ltx_font_bold" id="S3.T1.1.4.3.1.1.6.1">give the reasons</span>, and then provide the recommended music artist.</span>
<span class="ltx_p" id="S3.T1.1.4.3.1.1.7">2. The recommended music artist must be on the candidate list.</span>
<span class="ltx_p" id="S3.T1.1.4.3.1.1.8">You must follow this output format:</span>
<span class="ltx_p" id="S3.T1.1.4.3.1.1.9"><span class="ltx_text ltx_font_bold" id="S3.T1.1.4.3.1.1.9.1">Reason</span>: Â¡your reason exampleÂ¿</span>
<span class="ltx_p" id="S3.T1.1.4.3.1.1.10"><span class="ltx_text ltx_font_bold" id="S3.T1.1.4.3.1.1.10.1">Item</span>: Â¡item exampleÂ¿</span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>User Agent</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">The user agent has a memory module <math alttext="M_{u}" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1"><semantics id="S3.SS3.p1.1.m1.1a"><msub id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml"><mi id="S3.SS3.p1.1.m1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.2.cmml">M</mi><mi id="S3.SS3.p1.1.m1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2">ğ‘€</ci><ci id="S3.SS3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">M_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.1.m1.1d">italic_M start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> similar to the recommendation agentâ€™s and also employs role-playing and chain-of-thought approaches.
The memory template of the user agent is presented in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.T2" title="Table 2 â€£ 3.3. User Agent â€£ 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">2</span></a>.
Unlike the recommendation agent, the user agent uses a reward model to assign a numerical score to each recommended item, indicating its relevance to the userâ€™s interaction history.
It is important to emphasize that the reward model remains fixed, as its primary goal is to achieve optimal user simulation performance, without requiring the flexibility needed by the recommendation agent to adapt to various recommendation systems.
In our experiments, we employed SASRecÂ <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib21" title="">2018</a>)</cite> as the reward model</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.5">Through training on the training set, the reward model can generate a score that predicts the userâ€™s preference for a given item based on the user-item interaction history.
Then, the user agent will consider the reasons for the recommendation, memory, user-item interaction history, and the score from the reward model to determine whether it likes the recommended item and provide reasons.
This can be formally represented as <math alttext="f_{u}(M_{u},[I_{1},I_{2},\cdots,I_{n}],I_{r},R_{r},S)=(D_{u},R_{u})" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.8"><semantics id="S3.SS3.p2.1.m1.8a"><mrow id="S3.SS3.p2.1.m1.8.8" xref="S3.SS3.p2.1.m1.8.8.cmml"><mrow id="S3.SS3.p2.1.m1.6.6.4" xref="S3.SS3.p2.1.m1.6.6.4.cmml"><msub id="S3.SS3.p2.1.m1.6.6.4.6" xref="S3.SS3.p2.1.m1.6.6.4.6.cmml"><mi id="S3.SS3.p2.1.m1.6.6.4.6.2" xref="S3.SS3.p2.1.m1.6.6.4.6.2.cmml">f</mi><mi id="S3.SS3.p2.1.m1.6.6.4.6.3" xref="S3.SS3.p2.1.m1.6.6.4.6.3.cmml">u</mi></msub><mo id="S3.SS3.p2.1.m1.6.6.4.5" xref="S3.SS3.p2.1.m1.6.6.4.5.cmml">â¢</mo><mrow id="S3.SS3.p2.1.m1.6.6.4.4.4" xref="S3.SS3.p2.1.m1.6.6.4.4.5.cmml"><mo id="S3.SS3.p2.1.m1.6.6.4.4.4.5" stretchy="false" xref="S3.SS3.p2.1.m1.6.6.4.4.5.cmml">(</mo><msub id="S3.SS3.p2.1.m1.3.3.1.1.1.1" xref="S3.SS3.p2.1.m1.3.3.1.1.1.1.cmml"><mi id="S3.SS3.p2.1.m1.3.3.1.1.1.1.2" xref="S3.SS3.p2.1.m1.3.3.1.1.1.1.2.cmml">M</mi><mi id="S3.SS3.p2.1.m1.3.3.1.1.1.1.3" xref="S3.SS3.p2.1.m1.3.3.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS3.p2.1.m1.6.6.4.4.4.6" xref="S3.SS3.p2.1.m1.6.6.4.4.5.cmml">,</mo><mrow id="S3.SS3.p2.1.m1.4.4.2.2.2.2.3" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.4.cmml"><mo id="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.4" stretchy="false" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.4.cmml">[</mo><msub id="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1.cmml"><mi id="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1.2" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1.2.cmml">I</mi><mn id="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1.3" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.5" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.4.cmml">,</mo><msub id="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2.cmml"><mi id="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2.2" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2.2.cmml">I</mi><mn id="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2.3" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.6" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.4.cmml">,</mo><mi id="S3.SS3.p2.1.m1.1.1" mathvariant="normal" xref="S3.SS3.p2.1.m1.1.1.cmml">â‹¯</mi><mo id="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.7" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.4.cmml">,</mo><msub id="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3.cmml"><mi id="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3.2" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3.2.cmml">I</mi><mi id="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3.3" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3.3.cmml">n</mi></msub><mo id="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.8" stretchy="false" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.4.cmml">]</mo></mrow><mo id="S3.SS3.p2.1.m1.6.6.4.4.4.7" xref="S3.SS3.p2.1.m1.6.6.4.4.5.cmml">,</mo><msub id="S3.SS3.p2.1.m1.5.5.3.3.3.3" xref="S3.SS3.p2.1.m1.5.5.3.3.3.3.cmml"><mi id="S3.SS3.p2.1.m1.5.5.3.3.3.3.2" xref="S3.SS3.p2.1.m1.5.5.3.3.3.3.2.cmml">I</mi><mi id="S3.SS3.p2.1.m1.5.5.3.3.3.3.3" xref="S3.SS3.p2.1.m1.5.5.3.3.3.3.3.cmml">r</mi></msub><mo id="S3.SS3.p2.1.m1.6.6.4.4.4.8" xref="S3.SS3.p2.1.m1.6.6.4.4.5.cmml">,</mo><msub id="S3.SS3.p2.1.m1.6.6.4.4.4.4" xref="S3.SS3.p2.1.m1.6.6.4.4.4.4.cmml"><mi id="S3.SS3.p2.1.m1.6.6.4.4.4.4.2" xref="S3.SS3.p2.1.m1.6.6.4.4.4.4.2.cmml">R</mi><mi id="S3.SS3.p2.1.m1.6.6.4.4.4.4.3" xref="S3.SS3.p2.1.m1.6.6.4.4.4.4.3.cmml">r</mi></msub><mo id="S3.SS3.p2.1.m1.6.6.4.4.4.9" xref="S3.SS3.p2.1.m1.6.6.4.4.5.cmml">,</mo><mi id="S3.SS3.p2.1.m1.2.2" xref="S3.SS3.p2.1.m1.2.2.cmml">S</mi><mo id="S3.SS3.p2.1.m1.6.6.4.4.4.10" stretchy="false" xref="S3.SS3.p2.1.m1.6.6.4.4.5.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p2.1.m1.8.8.7" xref="S3.SS3.p2.1.m1.8.8.7.cmml">=</mo><mrow id="S3.SS3.p2.1.m1.8.8.6.2" xref="S3.SS3.p2.1.m1.8.8.6.3.cmml"><mo id="S3.SS3.p2.1.m1.8.8.6.2.3" stretchy="false" xref="S3.SS3.p2.1.m1.8.8.6.3.cmml">(</mo><msub id="S3.SS3.p2.1.m1.7.7.5.1.1" xref="S3.SS3.p2.1.m1.7.7.5.1.1.cmml"><mi id="S3.SS3.p2.1.m1.7.7.5.1.1.2" xref="S3.SS3.p2.1.m1.7.7.5.1.1.2.cmml">D</mi><mi id="S3.SS3.p2.1.m1.7.7.5.1.1.3" xref="S3.SS3.p2.1.m1.7.7.5.1.1.3.cmml">u</mi></msub><mo id="S3.SS3.p2.1.m1.8.8.6.2.4" xref="S3.SS3.p2.1.m1.8.8.6.3.cmml">,</mo><msub id="S3.SS3.p2.1.m1.8.8.6.2.2" xref="S3.SS3.p2.1.m1.8.8.6.2.2.cmml"><mi id="S3.SS3.p2.1.m1.8.8.6.2.2.2" xref="S3.SS3.p2.1.m1.8.8.6.2.2.2.cmml">R</mi><mi id="S3.SS3.p2.1.m1.8.8.6.2.2.3" xref="S3.SS3.p2.1.m1.8.8.6.2.2.3.cmml">u</mi></msub><mo id="S3.SS3.p2.1.m1.8.8.6.2.5" stretchy="false" xref="S3.SS3.p2.1.m1.8.8.6.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.8b"><apply id="S3.SS3.p2.1.m1.8.8.cmml" xref="S3.SS3.p2.1.m1.8.8"><eq id="S3.SS3.p2.1.m1.8.8.7.cmml" xref="S3.SS3.p2.1.m1.8.8.7"></eq><apply id="S3.SS3.p2.1.m1.6.6.4.cmml" xref="S3.SS3.p2.1.m1.6.6.4"><times id="S3.SS3.p2.1.m1.6.6.4.5.cmml" xref="S3.SS3.p2.1.m1.6.6.4.5"></times><apply id="S3.SS3.p2.1.m1.6.6.4.6.cmml" xref="S3.SS3.p2.1.m1.6.6.4.6"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.6.6.4.6.1.cmml" xref="S3.SS3.p2.1.m1.6.6.4.6">subscript</csymbol><ci id="S3.SS3.p2.1.m1.6.6.4.6.2.cmml" xref="S3.SS3.p2.1.m1.6.6.4.6.2">ğ‘“</ci><ci id="S3.SS3.p2.1.m1.6.6.4.6.3.cmml" xref="S3.SS3.p2.1.m1.6.6.4.6.3">ğ‘¢</ci></apply><vector id="S3.SS3.p2.1.m1.6.6.4.4.5.cmml" xref="S3.SS3.p2.1.m1.6.6.4.4.4"><apply id="S3.SS3.p2.1.m1.3.3.1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.3.3.1.1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.3.3.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p2.1.m1.3.3.1.1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.3.3.1.1.1.1.2">ğ‘€</ci><ci id="S3.SS3.p2.1.m1.3.3.1.1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.3.3.1.1.1.1.3">ğ‘¢</ci></apply><list id="S3.SS3.p2.1.m1.4.4.2.2.2.2.4.cmml" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.3"><apply id="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1.cmml" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1.1.cmml" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1">subscript</csymbol><ci id="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1.2.cmml" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1.2">ğ¼</ci><cn id="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1.3.cmml" type="integer" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.1.1.3">1</cn></apply><apply id="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2.cmml" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2.1.cmml" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2.2.cmml" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2.2">ğ¼</ci><cn id="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2.3.cmml" type="integer" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.2.2.3">2</cn></apply><ci id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">â‹¯</ci><apply id="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3.cmml" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3.1.cmml" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3">subscript</csymbol><ci id="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3.2.cmml" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3.2">ğ¼</ci><ci id="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3.3.cmml" xref="S3.SS3.p2.1.m1.4.4.2.2.2.2.3.3.3">ğ‘›</ci></apply></list><apply id="S3.SS3.p2.1.m1.5.5.3.3.3.3.cmml" xref="S3.SS3.p2.1.m1.5.5.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.5.5.3.3.3.3.1.cmml" xref="S3.SS3.p2.1.m1.5.5.3.3.3.3">subscript</csymbol><ci id="S3.SS3.p2.1.m1.5.5.3.3.3.3.2.cmml" xref="S3.SS3.p2.1.m1.5.5.3.3.3.3.2">ğ¼</ci><ci id="S3.SS3.p2.1.m1.5.5.3.3.3.3.3.cmml" xref="S3.SS3.p2.1.m1.5.5.3.3.3.3.3">ğ‘Ÿ</ci></apply><apply id="S3.SS3.p2.1.m1.6.6.4.4.4.4.cmml" xref="S3.SS3.p2.1.m1.6.6.4.4.4.4"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.6.6.4.4.4.4.1.cmml" xref="S3.SS3.p2.1.m1.6.6.4.4.4.4">subscript</csymbol><ci id="S3.SS3.p2.1.m1.6.6.4.4.4.4.2.cmml" xref="S3.SS3.p2.1.m1.6.6.4.4.4.4.2">ğ‘…</ci><ci id="S3.SS3.p2.1.m1.6.6.4.4.4.4.3.cmml" xref="S3.SS3.p2.1.m1.6.6.4.4.4.4.3">ğ‘Ÿ</ci></apply><ci id="S3.SS3.p2.1.m1.2.2.cmml" xref="S3.SS3.p2.1.m1.2.2">ğ‘†</ci></vector></apply><interval closure="open" id="S3.SS3.p2.1.m1.8.8.6.3.cmml" xref="S3.SS3.p2.1.m1.8.8.6.2"><apply id="S3.SS3.p2.1.m1.7.7.5.1.1.cmml" xref="S3.SS3.p2.1.m1.7.7.5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.7.7.5.1.1.1.cmml" xref="S3.SS3.p2.1.m1.7.7.5.1.1">subscript</csymbol><ci id="S3.SS3.p2.1.m1.7.7.5.1.1.2.cmml" xref="S3.SS3.p2.1.m1.7.7.5.1.1.2">ğ·</ci><ci id="S3.SS3.p2.1.m1.7.7.5.1.1.3.cmml" xref="S3.SS3.p2.1.m1.7.7.5.1.1.3">ğ‘¢</ci></apply><apply id="S3.SS3.p2.1.m1.8.8.6.2.2.cmml" xref="S3.SS3.p2.1.m1.8.8.6.2.2"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.8.8.6.2.2.1.cmml" xref="S3.SS3.p2.1.m1.8.8.6.2.2">subscript</csymbol><ci id="S3.SS3.p2.1.m1.8.8.6.2.2.2.cmml" xref="S3.SS3.p2.1.m1.8.8.6.2.2.2">ğ‘…</ci><ci id="S3.SS3.p2.1.m1.8.8.6.2.2.3.cmml" xref="S3.SS3.p2.1.m1.8.8.6.2.2.3">ğ‘¢</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.8c">f_{u}(M_{u},[I_{1},I_{2},\cdots,I_{n}],I_{r},R_{r},S)=(D_{u},R_{u})</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.1.m1.8d">italic_f start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ( italic_M start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , [ italic_I start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_I start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â‹¯ , italic_I start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ] , italic_I start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , italic_S ) = ( italic_D start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT )</annotation></semantics></math>, where <math alttext="f_{u}" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m2.1"><semantics id="S3.SS3.p2.2.m2.1a"><msub id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">f</mi><mi id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2">ğ‘“</ci><ci id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">f_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.2.m2.1d">italic_f start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> represents the user agent, <math alttext="S" class="ltx_Math" display="inline" id="S3.SS3.p2.3.m3.1"><semantics id="S3.SS3.p2.3.m3.1a"><mi id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.1b"><ci id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1">ğ‘†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.3.m3.1d">italic_S</annotation></semantics></math> represents the score given by the reward model, <math alttext="D_{u}" class="ltx_Math" display="inline" id="S3.SS3.p2.4.m4.1"><semantics id="S3.SS3.p2.4.m4.1a"><msub id="S3.SS3.p2.4.m4.1.1" xref="S3.SS3.p2.4.m4.1.1.cmml"><mi id="S3.SS3.p2.4.m4.1.1.2" xref="S3.SS3.p2.4.m4.1.1.2.cmml">D</mi><mi id="S3.SS3.p2.4.m4.1.1.3" xref="S3.SS3.p2.4.m4.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m4.1b"><apply id="S3.SS3.p2.4.m4.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m4.1.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS3.p2.4.m4.1.1.2.cmml" xref="S3.SS3.p2.4.m4.1.1.2">ğ·</ci><ci id="S3.SS3.p2.4.m4.1.1.3.cmml" xref="S3.SS3.p2.4.m4.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m4.1c">D_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.4.m4.1d">italic_D start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> represents the decision of the user agent and <math alttext="R_{u}" class="ltx_Math" display="inline" id="S3.SS3.p2.5.m5.1"><semantics id="S3.SS3.p2.5.m5.1a"><msub id="S3.SS3.p2.5.m5.1.1" xref="S3.SS3.p2.5.m5.1.1.cmml"><mi id="S3.SS3.p2.5.m5.1.1.2" xref="S3.SS3.p2.5.m5.1.1.2.cmml">R</mi><mi id="S3.SS3.p2.5.m5.1.1.3" xref="S3.SS3.p2.5.m5.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m5.1b"><apply id="S3.SS3.p2.5.m5.1.1.cmml" xref="S3.SS3.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.5.m5.1.1.1.cmml" xref="S3.SS3.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.p2.5.m5.1.1.2.cmml" xref="S3.SS3.p2.5.m5.1.1.2">ğ‘…</ci><ci id="S3.SS3.p2.5.m5.1.1.3.cmml" xref="S3.SS3.p2.5.m5.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m5.1c">R_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.5.m5.1d">italic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> represents the reason provided by the user agent.
We present a prompt template for the user agent in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.T2" title="Table 2 â€£ 3.3. User Agent â€£ 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<figure class="ltx_table" id="S3.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2. </span>Memory template and prompt template in the Lastfm dataset for the user agent.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S3.T2.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T2.1.1.1">
<th class="ltx_td ltx_align_justify ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" id="S3.T2.1.1.1.1" style="background-color:#FFD0C7;">
<span class="ltx_inline-block ltx_align_top" id="S3.T2.1.1.1.1.1">
<span class="ltx_p" id="S3.T2.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S3.T2.1.1.1.1.1.1.1" style="background-color:#FFD0C7;">Memory Template</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T2.1.2.1" style="background-color:#F5F5F5;">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="S3.T2.1.2.1.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T2.1.2.1.1.1" style="background-color:#F5F5F5;">
<span class="ltx_p" id="S3.T2.1.2.1.1.1.1">In round {}, the recommended music artist is {}.</span>
<span class="ltx_p" id="S3.T2.1.2.1.1.1.2">The reason given by the recommendation system is: {}</span>
<span class="ltx_p" id="S3.T2.1.2.1.1.1.3">The reason you provided for not considering this the best recommendation is {}</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.3.2">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="S3.T2.1.3.2.1" style="background-color:#FFD0C7;">
<span class="ltx_inline-block ltx_align_top" id="S3.T2.1.3.2.1.1">
<span class="ltx_p" id="S3.T2.1.3.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S3.T2.1.3.2.1.1.1.1" style="background-color:#FFD0C7;">Prompt Template</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.4.3" style="background-color:#F5F5F5;">
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_l ltx_border_r ltx_border_t" id="S3.T2.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="S3.T2.1.4.3.1.1" style="background-color:#F5F5F5;">
<span class="ltx_p" id="S3.T2.1.4.3.1.1.1">As a <span class="ltx_text ltx_font_bold" id="S3.T2.1.4.3.1.1.1.1">music listener</span>, youâ€™ve listened to the following music artists: {}.</span>
<span class="ltx_p" id="S3.T2.1.4.3.1.1.2">Now, a recommendation system has recommended a music artist to you from a list of music artist candidates, and has provided the reason for the recommendation.</span>
<span class="ltx_p" id="S3.T2.1.4.3.1.1.3"><span class="ltx_text ltx_font_bold" id="S3.T2.1.4.3.1.1.3.1">Determine if this recommended music artist is the most preferred option</span> from the list of candidates based on your personal tastes and previous listening records.</span>
<span class="ltx_p" id="S3.T2.1.4.3.1.1.4">Here is the <span class="ltx_text ltx_font_bold" id="S3.T2.1.4.3.1.1.4.1">history of communication</span> between you and the recommendation system: {}</span>
<span class="ltx_p" id="S3.T2.1.4.3.1.1.5">Whatâ€™s more, a <span class="ltx_text ltx_font_bold" id="S3.T2.1.4.3.1.1.5.1">reward model</span> scores the music artist based on its relevance to your historical listening records: {}</span>
<span class="ltx_p" id="S3.T2.1.4.3.1.1.6"><span class="ltx_text ltx_font_bold" id="S3.T2.1.4.3.1.1.6.1">Some useful tips:</span></span>
<span class="ltx_p" id="S3.T2.1.4.3.1.1.7">1. You need to first <span class="ltx_text ltx_font_bold" id="S3.T2.1.4.3.1.1.7.1">give the reasons</span>, and then decide whether or not the recommended music artist is the most preferred one on the candidate list for you.</span>
<span class="ltx_p" id="S3.T2.1.4.3.1.1.8">2. <span class="ltx_text ltx_font_bold" id="S3.T2.1.4.3.1.1.8.1">Summarize your own interests</span> based on your historical listening records to make a judgment.</span>
<span class="ltx_p" id="S3.T2.1.4.3.1.1.9">3. You can <span class="ltx_text ltx_font_bold" id="S3.T2.1.4.3.1.1.9.1">refer to the score</span> given by the reward model.</span>
<span class="ltx_p" id="S3.T2.1.4.3.1.1.10">You must follow this output format:</span>
<span class="ltx_p" id="S3.T2.1.4.3.1.1.11"><span class="ltx_text ltx_font_bold" id="S3.T2.1.4.3.1.1.11.1">Reason</span>: Â¡your reason exampleÂ¿</span>
<span class="ltx_p" id="S3.T2.1.4.3.1.1.12"><span class="ltx_text ltx_font_bold" id="S3.T2.1.4.3.1.1.12.1">Decision</span>: Â¡yes or noÂ¿</span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Feedback Loop</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.2">The pseudocode for the AFL method is provided in AlgorithmÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#alg1" title="Algorithm 1 â€£ 3.4. Feedback Loop â€£ 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">1</span></a>, where â€œ<math alttext="Rec\_Model" class="ltx_Math" display="inline" id="S3.SS4.p1.1.m1.1"><semantics id="S3.SS4.p1.1.m1.1a"><mrow id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml"><mi id="S3.SS4.p1.1.m1.1.1.2" xref="S3.SS4.p1.1.m1.1.1.2.cmml">R</mi><mo id="S3.SS4.p1.1.m1.1.1.1" xref="S3.SS4.p1.1.m1.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.1.m1.1.1.3" xref="S3.SS4.p1.1.m1.1.1.3.cmml">e</mi><mo id="S3.SS4.p1.1.m1.1.1.1a" xref="S3.SS4.p1.1.m1.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.1.m1.1.1.4" xref="S3.SS4.p1.1.m1.1.1.4.cmml">c</mi><mo id="S3.SS4.p1.1.m1.1.1.1b" xref="S3.SS4.p1.1.m1.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.1.m1.1.1.5" mathvariant="normal" xref="S3.SS4.p1.1.m1.1.1.5.cmml">_</mi><mo id="S3.SS4.p1.1.m1.1.1.1c" xref="S3.SS4.p1.1.m1.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.1.m1.1.1.6" xref="S3.SS4.p1.1.m1.1.1.6.cmml">M</mi><mo id="S3.SS4.p1.1.m1.1.1.1d" xref="S3.SS4.p1.1.m1.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.1.m1.1.1.7" xref="S3.SS4.p1.1.m1.1.1.7.cmml">o</mi><mo id="S3.SS4.p1.1.m1.1.1.1e" xref="S3.SS4.p1.1.m1.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.1.m1.1.1.8" xref="S3.SS4.p1.1.m1.1.1.8.cmml">d</mi><mo id="S3.SS4.p1.1.m1.1.1.1f" xref="S3.SS4.p1.1.m1.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.1.m1.1.1.9" xref="S3.SS4.p1.1.m1.1.1.9.cmml">e</mi><mo id="S3.SS4.p1.1.m1.1.1.1g" xref="S3.SS4.p1.1.m1.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.1.m1.1.1.10" xref="S3.SS4.p1.1.m1.1.1.10.cmml">l</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.1b"><apply id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1"><times id="S3.SS4.p1.1.m1.1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1.1"></times><ci id="S3.SS4.p1.1.m1.1.1.2.cmml" xref="S3.SS4.p1.1.m1.1.1.2">ğ‘…</ci><ci id="S3.SS4.p1.1.m1.1.1.3.cmml" xref="S3.SS4.p1.1.m1.1.1.3">ğ‘’</ci><ci id="S3.SS4.p1.1.m1.1.1.4.cmml" xref="S3.SS4.p1.1.m1.1.1.4">ğ‘</ci><ci id="S3.SS4.p1.1.m1.1.1.5.cmml" xref="S3.SS4.p1.1.m1.1.1.5">_</ci><ci id="S3.SS4.p1.1.m1.1.1.6.cmml" xref="S3.SS4.p1.1.m1.1.1.6">ğ‘€</ci><ci id="S3.SS4.p1.1.m1.1.1.7.cmml" xref="S3.SS4.p1.1.m1.1.1.7">ğ‘œ</ci><ci id="S3.SS4.p1.1.m1.1.1.8.cmml" xref="S3.SS4.p1.1.m1.1.1.8">ğ‘‘</ci><ci id="S3.SS4.p1.1.m1.1.1.9.cmml" xref="S3.SS4.p1.1.m1.1.1.9">ğ‘’</ci><ci id="S3.SS4.p1.1.m1.1.1.10.cmml" xref="S3.SS4.p1.1.m1.1.1.10">ğ‘™</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.1c">Rec\_Model</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.1.m1.1d">italic_R italic_e italic_c _ italic_M italic_o italic_d italic_e italic_l</annotation></semantics></math>â€ represents the recommendation model of the recommendation agent and â€œ<math alttext="Max\_Epoch" class="ltx_Math" display="inline" id="S3.SS4.p1.2.m2.1"><semantics id="S3.SS4.p1.2.m2.1a"><mrow id="S3.SS4.p1.2.m2.1.1" xref="S3.SS4.p1.2.m2.1.1.cmml"><mi id="S3.SS4.p1.2.m2.1.1.2" xref="S3.SS4.p1.2.m2.1.1.2.cmml">M</mi><mo id="S3.SS4.p1.2.m2.1.1.1" xref="S3.SS4.p1.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.2.m2.1.1.3" xref="S3.SS4.p1.2.m2.1.1.3.cmml">a</mi><mo id="S3.SS4.p1.2.m2.1.1.1a" xref="S3.SS4.p1.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.2.m2.1.1.4" xref="S3.SS4.p1.2.m2.1.1.4.cmml">x</mi><mo id="S3.SS4.p1.2.m2.1.1.1b" xref="S3.SS4.p1.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.2.m2.1.1.5" mathvariant="normal" xref="S3.SS4.p1.2.m2.1.1.5.cmml">_</mi><mo id="S3.SS4.p1.2.m2.1.1.1c" xref="S3.SS4.p1.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.2.m2.1.1.6" xref="S3.SS4.p1.2.m2.1.1.6.cmml">E</mi><mo id="S3.SS4.p1.2.m2.1.1.1d" xref="S3.SS4.p1.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.2.m2.1.1.7" xref="S3.SS4.p1.2.m2.1.1.7.cmml">p</mi><mo id="S3.SS4.p1.2.m2.1.1.1e" xref="S3.SS4.p1.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.2.m2.1.1.8" xref="S3.SS4.p1.2.m2.1.1.8.cmml">o</mi><mo id="S3.SS4.p1.2.m2.1.1.1f" xref="S3.SS4.p1.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.2.m2.1.1.9" xref="S3.SS4.p1.2.m2.1.1.9.cmml">c</mi><mo id="S3.SS4.p1.2.m2.1.1.1g" xref="S3.SS4.p1.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS4.p1.2.m2.1.1.10" xref="S3.SS4.p1.2.m2.1.1.10.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m2.1b"><apply id="S3.SS4.p1.2.m2.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1"><times id="S3.SS4.p1.2.m2.1.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1.1"></times><ci id="S3.SS4.p1.2.m2.1.1.2.cmml" xref="S3.SS4.p1.2.m2.1.1.2">ğ‘€</ci><ci id="S3.SS4.p1.2.m2.1.1.3.cmml" xref="S3.SS4.p1.2.m2.1.1.3">ğ‘</ci><ci id="S3.SS4.p1.2.m2.1.1.4.cmml" xref="S3.SS4.p1.2.m2.1.1.4">ğ‘¥</ci><ci id="S3.SS4.p1.2.m2.1.1.5.cmml" xref="S3.SS4.p1.2.m2.1.1.5">_</ci><ci id="S3.SS4.p1.2.m2.1.1.6.cmml" xref="S3.SS4.p1.2.m2.1.1.6">ğ¸</ci><ci id="S3.SS4.p1.2.m2.1.1.7.cmml" xref="S3.SS4.p1.2.m2.1.1.7">ğ‘</ci><ci id="S3.SS4.p1.2.m2.1.1.8.cmml" xref="S3.SS4.p1.2.m2.1.1.8">ğ‘œ</ci><ci id="S3.SS4.p1.2.m2.1.1.9.cmml" xref="S3.SS4.p1.2.m2.1.1.9">ğ‘</ci><ci id="S3.SS4.p1.2.m2.1.1.10.cmml" xref="S3.SS4.p1.2.m2.1.1.10">â„</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.2.m2.1c">Max\_Epoch</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.2.m2.1d">italic_M italic_a italic_x _ italic_E italic_p italic_o italic_c italic_h</annotation></semantics></math>â€ represents the maximum number of iterations for the feedback loop.</p>
</div>
<div class="ltx_para" id="S3.SS4.p2">
<p class="ltx_p" id="S3.SS4.p2.1">As described in SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.SS1" title="3.1. Overview â€£ 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">3.1</span></a>, the process begins with the recommendation agent suggesting an item to the user agent. If the user agent finds the suggested item appealing, the process terminates. Otherwise, the process enters an iterative feedback loop, during which the agents undergo further optimization. This iterative refinement leverages the user agentâ€™s feedback to improve future interactions and enhance the overall recommendation quality.</p>
</div>
<div class="ltx_para" id="S3.SS4.p3">
<p class="ltx_p" id="S3.SS4.p3.1">During the iterative loop phase, both the recommendation agent and the user agent begin by storing key information in memory, including the recommended item, the reasons for the recommendation, and the user agentâ€™s reasons for rejecting the item.
This initial step ensures that both agents have a comprehensive record of the interaction for future reference.
Next, drawing upon stored memory, the recommendation agent can reanalyze and summarize the userâ€™s interests and preferences to optimize its behavior.
In particular, the recommendation agent can attempt to persuade the user agent to accept the previously recommended item or suggest another item.
On the other hand, the user agent can analyze and extract latent interests from the items and reasons provided by the recommendation agent, enhancing its ability to simulate the userâ€™s preferences and behavior.
Subsequently, the better user agent can provide feedback on newly recommended items that better align with the userâ€™s interests, thereby helping the recommendation agent to further improve.</p>
</div>
<div class="ltx_para" id="S3.SS4.p4">
<p class="ltx_p" id="S3.SS4.p4.1">As a result, during the feedback loop, both the recommendation agent and the user agent undergo iterative updates.
This iterative refinement process leads to an improvement in the reasoning abilities of the recommendation agent and the user agent, enabling them to better recommend items and more accurately simulate user behavior, respectively.</p>
</div>
<figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.2.1.1">Algorithm 1</span> </span> AFL</figcaption>
<div class="ltx_listing ltx_listing" id="alg1.3">
<div class="ltx_listingline" id="alg1.l1">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l1.1.1.1" style="font-size:80%;">1:</span></span>Â Â INPUT:(<math alttext="[I_{1},I_{2},\cdots,I_{n}],f_{r},M_{r},Rec\_Model,f_{u},M_{u}" class="ltx_Math" display="inline" id="alg1.l1.m1.7"><semantics id="alg1.l1.m1.7a"><mrow id="alg1.l1.m1.7.7.6" xref="alg1.l1.m1.7.7.7.cmml"><mrow id="alg1.l1.m1.2.2.1.1.3" xref="alg1.l1.m1.2.2.1.1.4.cmml"><mo id="alg1.l1.m1.2.2.1.1.3.4" stretchy="false" xref="alg1.l1.m1.2.2.1.1.4.cmml">[</mo><msub id="alg1.l1.m1.2.2.1.1.1.1" xref="alg1.l1.m1.2.2.1.1.1.1.cmml"><mi id="alg1.l1.m1.2.2.1.1.1.1.2" xref="alg1.l1.m1.2.2.1.1.1.1.2.cmml">I</mi><mn id="alg1.l1.m1.2.2.1.1.1.1.3" xref="alg1.l1.m1.2.2.1.1.1.1.3.cmml">1</mn></msub><mo id="alg1.l1.m1.2.2.1.1.3.5" xref="alg1.l1.m1.2.2.1.1.4.cmml">,</mo><msub id="alg1.l1.m1.2.2.1.1.2.2" xref="alg1.l1.m1.2.2.1.1.2.2.cmml"><mi id="alg1.l1.m1.2.2.1.1.2.2.2" xref="alg1.l1.m1.2.2.1.1.2.2.2.cmml">I</mi><mn id="alg1.l1.m1.2.2.1.1.2.2.3" xref="alg1.l1.m1.2.2.1.1.2.2.3.cmml">2</mn></msub><mo id="alg1.l1.m1.2.2.1.1.3.6" xref="alg1.l1.m1.2.2.1.1.4.cmml">,</mo><mi id="alg1.l1.m1.1.1" mathvariant="normal" xref="alg1.l1.m1.1.1.cmml">â‹¯</mi><mo id="alg1.l1.m1.2.2.1.1.3.7" xref="alg1.l1.m1.2.2.1.1.4.cmml">,</mo><msub id="alg1.l1.m1.2.2.1.1.3.3" xref="alg1.l1.m1.2.2.1.1.3.3.cmml"><mi id="alg1.l1.m1.2.2.1.1.3.3.2" xref="alg1.l1.m1.2.2.1.1.3.3.2.cmml">I</mi><mi id="alg1.l1.m1.2.2.1.1.3.3.3" xref="alg1.l1.m1.2.2.1.1.3.3.3.cmml">n</mi></msub><mo id="alg1.l1.m1.2.2.1.1.3.8" stretchy="false" xref="alg1.l1.m1.2.2.1.1.4.cmml">]</mo></mrow><mo id="alg1.l1.m1.7.7.6.7" xref="alg1.l1.m1.7.7.7.cmml">,</mo><msub id="alg1.l1.m1.3.3.2.2" xref="alg1.l1.m1.3.3.2.2.cmml"><mi id="alg1.l1.m1.3.3.2.2.2" xref="alg1.l1.m1.3.3.2.2.2.cmml">f</mi><mi id="alg1.l1.m1.3.3.2.2.3" xref="alg1.l1.m1.3.3.2.2.3.cmml">r</mi></msub><mo id="alg1.l1.m1.7.7.6.8" xref="alg1.l1.m1.7.7.7.cmml">,</mo><msub id="alg1.l1.m1.4.4.3.3" xref="alg1.l1.m1.4.4.3.3.cmml"><mi id="alg1.l1.m1.4.4.3.3.2" xref="alg1.l1.m1.4.4.3.3.2.cmml">M</mi><mi id="alg1.l1.m1.4.4.3.3.3" xref="alg1.l1.m1.4.4.3.3.3.cmml">r</mi></msub><mo id="alg1.l1.m1.7.7.6.9" xref="alg1.l1.m1.7.7.7.cmml">,</mo><mrow id="alg1.l1.m1.5.5.4.4" xref="alg1.l1.m1.5.5.4.4.cmml"><mi id="alg1.l1.m1.5.5.4.4.2" xref="alg1.l1.m1.5.5.4.4.2.cmml">R</mi><mo id="alg1.l1.m1.5.5.4.4.1" xref="alg1.l1.m1.5.5.4.4.1.cmml">â¢</mo><mi id="alg1.l1.m1.5.5.4.4.3" xref="alg1.l1.m1.5.5.4.4.3.cmml">e</mi><mo id="alg1.l1.m1.5.5.4.4.1a" xref="alg1.l1.m1.5.5.4.4.1.cmml">â¢</mo><mi id="alg1.l1.m1.5.5.4.4.4" xref="alg1.l1.m1.5.5.4.4.4.cmml">c</mi><mo id="alg1.l1.m1.5.5.4.4.1b" xref="alg1.l1.m1.5.5.4.4.1.cmml">â¢</mo><mi id="alg1.l1.m1.5.5.4.4.5" mathvariant="normal" xref="alg1.l1.m1.5.5.4.4.5.cmml">_</mi><mo id="alg1.l1.m1.5.5.4.4.1c" xref="alg1.l1.m1.5.5.4.4.1.cmml">â¢</mo><mi id="alg1.l1.m1.5.5.4.4.6" xref="alg1.l1.m1.5.5.4.4.6.cmml">M</mi><mo id="alg1.l1.m1.5.5.4.4.1d" xref="alg1.l1.m1.5.5.4.4.1.cmml">â¢</mo><mi id="alg1.l1.m1.5.5.4.4.7" xref="alg1.l1.m1.5.5.4.4.7.cmml">o</mi><mo id="alg1.l1.m1.5.5.4.4.1e" xref="alg1.l1.m1.5.5.4.4.1.cmml">â¢</mo><mi id="alg1.l1.m1.5.5.4.4.8" xref="alg1.l1.m1.5.5.4.4.8.cmml">d</mi><mo id="alg1.l1.m1.5.5.4.4.1f" xref="alg1.l1.m1.5.5.4.4.1.cmml">â¢</mo><mi id="alg1.l1.m1.5.5.4.4.9" xref="alg1.l1.m1.5.5.4.4.9.cmml">e</mi><mo id="alg1.l1.m1.5.5.4.4.1g" xref="alg1.l1.m1.5.5.4.4.1.cmml">â¢</mo><mi id="alg1.l1.m1.5.5.4.4.10" xref="alg1.l1.m1.5.5.4.4.10.cmml">l</mi></mrow><mo id="alg1.l1.m1.7.7.6.10" xref="alg1.l1.m1.7.7.7.cmml">,</mo><msub id="alg1.l1.m1.6.6.5.5" xref="alg1.l1.m1.6.6.5.5.cmml"><mi id="alg1.l1.m1.6.6.5.5.2" xref="alg1.l1.m1.6.6.5.5.2.cmml">f</mi><mi id="alg1.l1.m1.6.6.5.5.3" xref="alg1.l1.m1.6.6.5.5.3.cmml">u</mi></msub><mo id="alg1.l1.m1.7.7.6.11" xref="alg1.l1.m1.7.7.7.cmml">,</mo><msub id="alg1.l1.m1.7.7.6.6" xref="alg1.l1.m1.7.7.6.6.cmml"><mi id="alg1.l1.m1.7.7.6.6.2" xref="alg1.l1.m1.7.7.6.6.2.cmml">M</mi><mi id="alg1.l1.m1.7.7.6.6.3" xref="alg1.l1.m1.7.7.6.6.3.cmml">u</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.7b"><list id="alg1.l1.m1.7.7.7.cmml" xref="alg1.l1.m1.7.7.6"><list id="alg1.l1.m1.2.2.1.1.4.cmml" xref="alg1.l1.m1.2.2.1.1.3"><apply id="alg1.l1.m1.2.2.1.1.1.1.cmml" xref="alg1.l1.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l1.m1.2.2.1.1.1.1.1.cmml" xref="alg1.l1.m1.2.2.1.1.1.1">subscript</csymbol><ci id="alg1.l1.m1.2.2.1.1.1.1.2.cmml" xref="alg1.l1.m1.2.2.1.1.1.1.2">ğ¼</ci><cn id="alg1.l1.m1.2.2.1.1.1.1.3.cmml" type="integer" xref="alg1.l1.m1.2.2.1.1.1.1.3">1</cn></apply><apply id="alg1.l1.m1.2.2.1.1.2.2.cmml" xref="alg1.l1.m1.2.2.1.1.2.2"><csymbol cd="ambiguous" id="alg1.l1.m1.2.2.1.1.2.2.1.cmml" xref="alg1.l1.m1.2.2.1.1.2.2">subscript</csymbol><ci id="alg1.l1.m1.2.2.1.1.2.2.2.cmml" xref="alg1.l1.m1.2.2.1.1.2.2.2">ğ¼</ci><cn id="alg1.l1.m1.2.2.1.1.2.2.3.cmml" type="integer" xref="alg1.l1.m1.2.2.1.1.2.2.3">2</cn></apply><ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">â‹¯</ci><apply id="alg1.l1.m1.2.2.1.1.3.3.cmml" xref="alg1.l1.m1.2.2.1.1.3.3"><csymbol cd="ambiguous" id="alg1.l1.m1.2.2.1.1.3.3.1.cmml" xref="alg1.l1.m1.2.2.1.1.3.3">subscript</csymbol><ci id="alg1.l1.m1.2.2.1.1.3.3.2.cmml" xref="alg1.l1.m1.2.2.1.1.3.3.2">ğ¼</ci><ci id="alg1.l1.m1.2.2.1.1.3.3.3.cmml" xref="alg1.l1.m1.2.2.1.1.3.3.3">ğ‘›</ci></apply></list><apply id="alg1.l1.m1.3.3.2.2.cmml" xref="alg1.l1.m1.3.3.2.2"><csymbol cd="ambiguous" id="alg1.l1.m1.3.3.2.2.1.cmml" xref="alg1.l1.m1.3.3.2.2">subscript</csymbol><ci id="alg1.l1.m1.3.3.2.2.2.cmml" xref="alg1.l1.m1.3.3.2.2.2">ğ‘“</ci><ci id="alg1.l1.m1.3.3.2.2.3.cmml" xref="alg1.l1.m1.3.3.2.2.3">ğ‘Ÿ</ci></apply><apply id="alg1.l1.m1.4.4.3.3.cmml" xref="alg1.l1.m1.4.4.3.3"><csymbol cd="ambiguous" id="alg1.l1.m1.4.4.3.3.1.cmml" xref="alg1.l1.m1.4.4.3.3">subscript</csymbol><ci id="alg1.l1.m1.4.4.3.3.2.cmml" xref="alg1.l1.m1.4.4.3.3.2">ğ‘€</ci><ci id="alg1.l1.m1.4.4.3.3.3.cmml" xref="alg1.l1.m1.4.4.3.3.3">ğ‘Ÿ</ci></apply><apply id="alg1.l1.m1.5.5.4.4.cmml" xref="alg1.l1.m1.5.5.4.4"><times id="alg1.l1.m1.5.5.4.4.1.cmml" xref="alg1.l1.m1.5.5.4.4.1"></times><ci id="alg1.l1.m1.5.5.4.4.2.cmml" xref="alg1.l1.m1.5.5.4.4.2">ğ‘…</ci><ci id="alg1.l1.m1.5.5.4.4.3.cmml" xref="alg1.l1.m1.5.5.4.4.3">ğ‘’</ci><ci id="alg1.l1.m1.5.5.4.4.4.cmml" xref="alg1.l1.m1.5.5.4.4.4">ğ‘</ci><ci id="alg1.l1.m1.5.5.4.4.5.cmml" xref="alg1.l1.m1.5.5.4.4.5">_</ci><ci id="alg1.l1.m1.5.5.4.4.6.cmml" xref="alg1.l1.m1.5.5.4.4.6">ğ‘€</ci><ci id="alg1.l1.m1.5.5.4.4.7.cmml" xref="alg1.l1.m1.5.5.4.4.7">ğ‘œ</ci><ci id="alg1.l1.m1.5.5.4.4.8.cmml" xref="alg1.l1.m1.5.5.4.4.8">ğ‘‘</ci><ci id="alg1.l1.m1.5.5.4.4.9.cmml" xref="alg1.l1.m1.5.5.4.4.9">ğ‘’</ci><ci id="alg1.l1.m1.5.5.4.4.10.cmml" xref="alg1.l1.m1.5.5.4.4.10">ğ‘™</ci></apply><apply id="alg1.l1.m1.6.6.5.5.cmml" xref="alg1.l1.m1.6.6.5.5"><csymbol cd="ambiguous" id="alg1.l1.m1.6.6.5.5.1.cmml" xref="alg1.l1.m1.6.6.5.5">subscript</csymbol><ci id="alg1.l1.m1.6.6.5.5.2.cmml" xref="alg1.l1.m1.6.6.5.5.2">ğ‘“</ci><ci id="alg1.l1.m1.6.6.5.5.3.cmml" xref="alg1.l1.m1.6.6.5.5.3">ğ‘¢</ci></apply><apply id="alg1.l1.m1.7.7.6.6.cmml" xref="alg1.l1.m1.7.7.6.6"><csymbol cd="ambiguous" id="alg1.l1.m1.7.7.6.6.1.cmml" xref="alg1.l1.m1.7.7.6.6">subscript</csymbol><ci id="alg1.l1.m1.7.7.6.6.2.cmml" xref="alg1.l1.m1.7.7.6.6.2">ğ‘€</ci><ci id="alg1.l1.m1.7.7.6.6.3.cmml" xref="alg1.l1.m1.7.7.6.6.3">ğ‘¢</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.7c">[I_{1},I_{2},\cdots,I_{n}],f_{r},M_{r},Rec\_Model,f_{u},M_{u}</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m1.7d">[ italic_I start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_I start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â‹¯ , italic_I start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ] , italic_f start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , italic_M start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , italic_R italic_e italic_c _ italic_M italic_o italic_d italic_e italic_l , italic_f start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_M start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="Reward\_Model,Max\_Epoch" class="ltx_Math" display="inline" id="alg1.l1.m2.2"><semantics id="alg1.l1.m2.2a"><mrow id="alg1.l1.m2.2.2.2" xref="alg1.l1.m2.2.2.3.cmml"><mrow id="alg1.l1.m2.1.1.1.1" xref="alg1.l1.m2.1.1.1.1.cmml"><mi id="alg1.l1.m2.1.1.1.1.2" xref="alg1.l1.m2.1.1.1.1.2.cmml">R</mi><mo id="alg1.l1.m2.1.1.1.1.1" xref="alg1.l1.m2.1.1.1.1.1.cmml">â¢</mo><mi id="alg1.l1.m2.1.1.1.1.3" xref="alg1.l1.m2.1.1.1.1.3.cmml">e</mi><mo id="alg1.l1.m2.1.1.1.1.1a" xref="alg1.l1.m2.1.1.1.1.1.cmml">â¢</mo><mi id="alg1.l1.m2.1.1.1.1.4" xref="alg1.l1.m2.1.1.1.1.4.cmml">w</mi><mo id="alg1.l1.m2.1.1.1.1.1b" xref="alg1.l1.m2.1.1.1.1.1.cmml">â¢</mo><mi id="alg1.l1.m2.1.1.1.1.5" xref="alg1.l1.m2.1.1.1.1.5.cmml">a</mi><mo id="alg1.l1.m2.1.1.1.1.1c" xref="alg1.l1.m2.1.1.1.1.1.cmml">â¢</mo><mi id="alg1.l1.m2.1.1.1.1.6" xref="alg1.l1.m2.1.1.1.1.6.cmml">r</mi><mo id="alg1.l1.m2.1.1.1.1.1d" xref="alg1.l1.m2.1.1.1.1.1.cmml">â¢</mo><mi id="alg1.l1.m2.1.1.1.1.7" xref="alg1.l1.m2.1.1.1.1.7.cmml">d</mi><mo id="alg1.l1.m2.1.1.1.1.1e" xref="alg1.l1.m2.1.1.1.1.1.cmml">â¢</mo><mi id="alg1.l1.m2.1.1.1.1.8" mathvariant="normal" xref="alg1.l1.m2.1.1.1.1.8.cmml">_</mi><mo id="alg1.l1.m2.1.1.1.1.1f" xref="alg1.l1.m2.1.1.1.1.1.cmml">â¢</mo><mi id="alg1.l1.m2.1.1.1.1.9" xref="alg1.l1.m2.1.1.1.1.9.cmml">M</mi><mo id="alg1.l1.m2.1.1.1.1.1g" xref="alg1.l1.m2.1.1.1.1.1.cmml">â¢</mo><mi id="alg1.l1.m2.1.1.1.1.10" xref="alg1.l1.m2.1.1.1.1.10.cmml">o</mi><mo id="alg1.l1.m2.1.1.1.1.1h" xref="alg1.l1.m2.1.1.1.1.1.cmml">â¢</mo><mi id="alg1.l1.m2.1.1.1.1.11" xref="alg1.l1.m2.1.1.1.1.11.cmml">d</mi><mo id="alg1.l1.m2.1.1.1.1.1i" xref="alg1.l1.m2.1.1.1.1.1.cmml">â¢</mo><mi id="alg1.l1.m2.1.1.1.1.12" xref="alg1.l1.m2.1.1.1.1.12.cmml">e</mi><mo id="alg1.l1.m2.1.1.1.1.1j" xref="alg1.l1.m2.1.1.1.1.1.cmml">â¢</mo><mi id="alg1.l1.m2.1.1.1.1.13" xref="alg1.l1.m2.1.1.1.1.13.cmml">l</mi></mrow><mo id="alg1.l1.m2.2.2.2.3" xref="alg1.l1.m2.2.2.3.cmml">,</mo><mrow id="alg1.l1.m2.2.2.2.2" xref="alg1.l1.m2.2.2.2.2.cmml"><mi id="alg1.l1.m2.2.2.2.2.2" xref="alg1.l1.m2.2.2.2.2.2.cmml">M</mi><mo id="alg1.l1.m2.2.2.2.2.1" xref="alg1.l1.m2.2.2.2.2.1.cmml">â¢</mo><mi id="alg1.l1.m2.2.2.2.2.3" xref="alg1.l1.m2.2.2.2.2.3.cmml">a</mi><mo id="alg1.l1.m2.2.2.2.2.1a" xref="alg1.l1.m2.2.2.2.2.1.cmml">â¢</mo><mi id="alg1.l1.m2.2.2.2.2.4" xref="alg1.l1.m2.2.2.2.2.4.cmml">x</mi><mo id="alg1.l1.m2.2.2.2.2.1b" xref="alg1.l1.m2.2.2.2.2.1.cmml">â¢</mo><mi id="alg1.l1.m2.2.2.2.2.5" mathvariant="normal" xref="alg1.l1.m2.2.2.2.2.5.cmml">_</mi><mo id="alg1.l1.m2.2.2.2.2.1c" xref="alg1.l1.m2.2.2.2.2.1.cmml">â¢</mo><mi id="alg1.l1.m2.2.2.2.2.6" xref="alg1.l1.m2.2.2.2.2.6.cmml">E</mi><mo id="alg1.l1.m2.2.2.2.2.1d" xref="alg1.l1.m2.2.2.2.2.1.cmml">â¢</mo><mi id="alg1.l1.m2.2.2.2.2.7" xref="alg1.l1.m2.2.2.2.2.7.cmml">p</mi><mo id="alg1.l1.m2.2.2.2.2.1e" xref="alg1.l1.m2.2.2.2.2.1.cmml">â¢</mo><mi id="alg1.l1.m2.2.2.2.2.8" xref="alg1.l1.m2.2.2.2.2.8.cmml">o</mi><mo id="alg1.l1.m2.2.2.2.2.1f" xref="alg1.l1.m2.2.2.2.2.1.cmml">â¢</mo><mi id="alg1.l1.m2.2.2.2.2.9" xref="alg1.l1.m2.2.2.2.2.9.cmml">c</mi><mo id="alg1.l1.m2.2.2.2.2.1g" xref="alg1.l1.m2.2.2.2.2.1.cmml">â¢</mo><mi id="alg1.l1.m2.2.2.2.2.10" xref="alg1.l1.m2.2.2.2.2.10.cmml">h</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.2b"><list id="alg1.l1.m2.2.2.3.cmml" xref="alg1.l1.m2.2.2.2"><apply id="alg1.l1.m2.1.1.1.1.cmml" xref="alg1.l1.m2.1.1.1.1"><times id="alg1.l1.m2.1.1.1.1.1.cmml" xref="alg1.l1.m2.1.1.1.1.1"></times><ci id="alg1.l1.m2.1.1.1.1.2.cmml" xref="alg1.l1.m2.1.1.1.1.2">ğ‘…</ci><ci id="alg1.l1.m2.1.1.1.1.3.cmml" xref="alg1.l1.m2.1.1.1.1.3">ğ‘’</ci><ci id="alg1.l1.m2.1.1.1.1.4.cmml" xref="alg1.l1.m2.1.1.1.1.4">ğ‘¤</ci><ci id="alg1.l1.m2.1.1.1.1.5.cmml" xref="alg1.l1.m2.1.1.1.1.5">ğ‘</ci><ci id="alg1.l1.m2.1.1.1.1.6.cmml" xref="alg1.l1.m2.1.1.1.1.6">ğ‘Ÿ</ci><ci id="alg1.l1.m2.1.1.1.1.7.cmml" xref="alg1.l1.m2.1.1.1.1.7">ğ‘‘</ci><ci id="alg1.l1.m2.1.1.1.1.8.cmml" xref="alg1.l1.m2.1.1.1.1.8">_</ci><ci id="alg1.l1.m2.1.1.1.1.9.cmml" xref="alg1.l1.m2.1.1.1.1.9">ğ‘€</ci><ci id="alg1.l1.m2.1.1.1.1.10.cmml" xref="alg1.l1.m2.1.1.1.1.10">ğ‘œ</ci><ci id="alg1.l1.m2.1.1.1.1.11.cmml" xref="alg1.l1.m2.1.1.1.1.11">ğ‘‘</ci><ci id="alg1.l1.m2.1.1.1.1.12.cmml" xref="alg1.l1.m2.1.1.1.1.12">ğ‘’</ci><ci id="alg1.l1.m2.1.1.1.1.13.cmml" xref="alg1.l1.m2.1.1.1.1.13">ğ‘™</ci></apply><apply id="alg1.l1.m2.2.2.2.2.cmml" xref="alg1.l1.m2.2.2.2.2"><times id="alg1.l1.m2.2.2.2.2.1.cmml" xref="alg1.l1.m2.2.2.2.2.1"></times><ci id="alg1.l1.m2.2.2.2.2.2.cmml" xref="alg1.l1.m2.2.2.2.2.2">ğ‘€</ci><ci id="alg1.l1.m2.2.2.2.2.3.cmml" xref="alg1.l1.m2.2.2.2.2.3">ğ‘</ci><ci id="alg1.l1.m2.2.2.2.2.4.cmml" xref="alg1.l1.m2.2.2.2.2.4">ğ‘¥</ci><ci id="alg1.l1.m2.2.2.2.2.5.cmml" xref="alg1.l1.m2.2.2.2.2.5">_</ci><ci id="alg1.l1.m2.2.2.2.2.6.cmml" xref="alg1.l1.m2.2.2.2.2.6">ğ¸</ci><ci id="alg1.l1.m2.2.2.2.2.7.cmml" xref="alg1.l1.m2.2.2.2.2.7">ğ‘</ci><ci id="alg1.l1.m2.2.2.2.2.8.cmml" xref="alg1.l1.m2.2.2.2.2.8">ğ‘œ</ci><ci id="alg1.l1.m2.2.2.2.2.9.cmml" xref="alg1.l1.m2.2.2.2.2.9">ğ‘</ci><ci id="alg1.l1.m2.2.2.2.2.10.cmml" xref="alg1.l1.m2.2.2.2.2.10">â„</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.2c">Reward\_Model,Max\_Epoch</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m2.2d">italic_R italic_e italic_w italic_a italic_r italic_d _ italic_M italic_o italic_d italic_e italic_l , italic_M italic_a italic_x _ italic_E italic_p italic_o italic_c italic_h</annotation></semantics></math>)

</div>
<div class="ltx_listingline" id="alg1.l2">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l2.1.1.1" style="font-size:80%;">2:</span></span>Â Â <math alttext="E\leftarrow 1" class="ltx_Math" display="inline" id="alg1.l2.m1.1"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml"><mi id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml">E</mi><mo id="alg1.l2.m1.1.1.1" stretchy="false" xref="alg1.l2.m1.1.1.1.cmml">â†</mo><mn id="alg1.l2.m1.1.1.3" xref="alg1.l2.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1"><ci id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1">â†</ci><ci id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2">ğ¸</ci><cn id="alg1.l2.m1.1.1.3.cmml" type="integer" xref="alg1.l2.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">E\leftarrow 1</annotation><annotation encoding="application/x-llamapun" id="alg1.l2.m1.1d">italic_E â† 1</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l3">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l3.2.1.1" style="font-size:80%;">3:</span></span>Â Â <math alttext="I_{m}\leftarrow Rec\_Model([I_{1},I_{2},\cdots,I_{n}])" class="ltx_Math" display="inline" id="alg1.l3.m1.2"><semantics id="alg1.l3.m1.2a"><mrow id="alg1.l3.m1.2.2" xref="alg1.l3.m1.2.2.cmml"><msub id="alg1.l3.m1.2.2.3" xref="alg1.l3.m1.2.2.3.cmml"><mi id="alg1.l3.m1.2.2.3.2" xref="alg1.l3.m1.2.2.3.2.cmml">I</mi><mi id="alg1.l3.m1.2.2.3.3" xref="alg1.l3.m1.2.2.3.3.cmml">m</mi></msub><mo id="alg1.l3.m1.2.2.2" stretchy="false" xref="alg1.l3.m1.2.2.2.cmml">â†</mo><mrow id="alg1.l3.m1.2.2.1" xref="alg1.l3.m1.2.2.1.cmml"><mi id="alg1.l3.m1.2.2.1.3" xref="alg1.l3.m1.2.2.1.3.cmml">R</mi><mo id="alg1.l3.m1.2.2.1.2" xref="alg1.l3.m1.2.2.1.2.cmml">â¢</mo><mi id="alg1.l3.m1.2.2.1.4" xref="alg1.l3.m1.2.2.1.4.cmml">e</mi><mo id="alg1.l3.m1.2.2.1.2a" xref="alg1.l3.m1.2.2.1.2.cmml">â¢</mo><mi id="alg1.l3.m1.2.2.1.5" xref="alg1.l3.m1.2.2.1.5.cmml">c</mi><mo id="alg1.l3.m1.2.2.1.2b" xref="alg1.l3.m1.2.2.1.2.cmml">â¢</mo><mi id="alg1.l3.m1.2.2.1.6" mathvariant="normal" xref="alg1.l3.m1.2.2.1.6.cmml">_</mi><mo id="alg1.l3.m1.2.2.1.2c" xref="alg1.l3.m1.2.2.1.2.cmml">â¢</mo><mi id="alg1.l3.m1.2.2.1.7" xref="alg1.l3.m1.2.2.1.7.cmml">M</mi><mo id="alg1.l3.m1.2.2.1.2d" xref="alg1.l3.m1.2.2.1.2.cmml">â¢</mo><mi id="alg1.l3.m1.2.2.1.8" xref="alg1.l3.m1.2.2.1.8.cmml">o</mi><mo id="alg1.l3.m1.2.2.1.2e" xref="alg1.l3.m1.2.2.1.2.cmml">â¢</mo><mi id="alg1.l3.m1.2.2.1.9" xref="alg1.l3.m1.2.2.1.9.cmml">d</mi><mo id="alg1.l3.m1.2.2.1.2f" xref="alg1.l3.m1.2.2.1.2.cmml">â¢</mo><mi id="alg1.l3.m1.2.2.1.10" xref="alg1.l3.m1.2.2.1.10.cmml">e</mi><mo id="alg1.l3.m1.2.2.1.2g" xref="alg1.l3.m1.2.2.1.2.cmml">â¢</mo><mi id="alg1.l3.m1.2.2.1.11" xref="alg1.l3.m1.2.2.1.11.cmml">l</mi><mo id="alg1.l3.m1.2.2.1.2h" xref="alg1.l3.m1.2.2.1.2.cmml">â¢</mo><mrow id="alg1.l3.m1.2.2.1.1.1" xref="alg1.l3.m1.2.2.1.cmml"><mo id="alg1.l3.m1.2.2.1.1.1.2" stretchy="false" xref="alg1.l3.m1.2.2.1.cmml">(</mo><mrow id="alg1.l3.m1.2.2.1.1.1.1.3" xref="alg1.l3.m1.2.2.1.1.1.1.4.cmml"><mo id="alg1.l3.m1.2.2.1.1.1.1.3.4" stretchy="false" xref="alg1.l3.m1.2.2.1.1.1.1.4.cmml">[</mo><msub id="alg1.l3.m1.2.2.1.1.1.1.1.1" xref="alg1.l3.m1.2.2.1.1.1.1.1.1.cmml"><mi id="alg1.l3.m1.2.2.1.1.1.1.1.1.2" xref="alg1.l3.m1.2.2.1.1.1.1.1.1.2.cmml">I</mi><mn id="alg1.l3.m1.2.2.1.1.1.1.1.1.3" xref="alg1.l3.m1.2.2.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="alg1.l3.m1.2.2.1.1.1.1.3.5" xref="alg1.l3.m1.2.2.1.1.1.1.4.cmml">,</mo><msub id="alg1.l3.m1.2.2.1.1.1.1.2.2" xref="alg1.l3.m1.2.2.1.1.1.1.2.2.cmml"><mi id="alg1.l3.m1.2.2.1.1.1.1.2.2.2" xref="alg1.l3.m1.2.2.1.1.1.1.2.2.2.cmml">I</mi><mn id="alg1.l3.m1.2.2.1.1.1.1.2.2.3" xref="alg1.l3.m1.2.2.1.1.1.1.2.2.3.cmml">2</mn></msub><mo id="alg1.l3.m1.2.2.1.1.1.1.3.6" xref="alg1.l3.m1.2.2.1.1.1.1.4.cmml">,</mo><mi id="alg1.l3.m1.1.1" mathvariant="normal" xref="alg1.l3.m1.1.1.cmml">â‹¯</mi><mo id="alg1.l3.m1.2.2.1.1.1.1.3.7" xref="alg1.l3.m1.2.2.1.1.1.1.4.cmml">,</mo><msub id="alg1.l3.m1.2.2.1.1.1.1.3.3" xref="alg1.l3.m1.2.2.1.1.1.1.3.3.cmml"><mi id="alg1.l3.m1.2.2.1.1.1.1.3.3.2" xref="alg1.l3.m1.2.2.1.1.1.1.3.3.2.cmml">I</mi><mi id="alg1.l3.m1.2.2.1.1.1.1.3.3.3" xref="alg1.l3.m1.2.2.1.1.1.1.3.3.3.cmml">n</mi></msub><mo id="alg1.l3.m1.2.2.1.1.1.1.3.8" stretchy="false" xref="alg1.l3.m1.2.2.1.1.1.1.4.cmml">]</mo></mrow><mo id="alg1.l3.m1.2.2.1.1.1.3" stretchy="false" xref="alg1.l3.m1.2.2.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.2b"><apply id="alg1.l3.m1.2.2.cmml" xref="alg1.l3.m1.2.2"><ci id="alg1.l3.m1.2.2.2.cmml" xref="alg1.l3.m1.2.2.2">â†</ci><apply id="alg1.l3.m1.2.2.3.cmml" xref="alg1.l3.m1.2.2.3"><csymbol cd="ambiguous" id="alg1.l3.m1.2.2.3.1.cmml" xref="alg1.l3.m1.2.2.3">subscript</csymbol><ci id="alg1.l3.m1.2.2.3.2.cmml" xref="alg1.l3.m1.2.2.3.2">ğ¼</ci><ci id="alg1.l3.m1.2.2.3.3.cmml" xref="alg1.l3.m1.2.2.3.3">ğ‘š</ci></apply><apply id="alg1.l3.m1.2.2.1.cmml" xref="alg1.l3.m1.2.2.1"><times id="alg1.l3.m1.2.2.1.2.cmml" xref="alg1.l3.m1.2.2.1.2"></times><ci id="alg1.l3.m1.2.2.1.3.cmml" xref="alg1.l3.m1.2.2.1.3">ğ‘…</ci><ci id="alg1.l3.m1.2.2.1.4.cmml" xref="alg1.l3.m1.2.2.1.4">ğ‘’</ci><ci id="alg1.l3.m1.2.2.1.5.cmml" xref="alg1.l3.m1.2.2.1.5">ğ‘</ci><ci id="alg1.l3.m1.2.2.1.6.cmml" xref="alg1.l3.m1.2.2.1.6">_</ci><ci id="alg1.l3.m1.2.2.1.7.cmml" xref="alg1.l3.m1.2.2.1.7">ğ‘€</ci><ci id="alg1.l3.m1.2.2.1.8.cmml" xref="alg1.l3.m1.2.2.1.8">ğ‘œ</ci><ci id="alg1.l3.m1.2.2.1.9.cmml" xref="alg1.l3.m1.2.2.1.9">ğ‘‘</ci><ci id="alg1.l3.m1.2.2.1.10.cmml" xref="alg1.l3.m1.2.2.1.10">ğ‘’</ci><ci id="alg1.l3.m1.2.2.1.11.cmml" xref="alg1.l3.m1.2.2.1.11">ğ‘™</ci><list id="alg1.l3.m1.2.2.1.1.1.1.4.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.3"><apply id="alg1.l3.m1.2.2.1.1.1.1.1.1.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l3.m1.2.2.1.1.1.1.1.1.1.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l3.m1.2.2.1.1.1.1.1.1.2.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.1.1.2">ğ¼</ci><cn id="alg1.l3.m1.2.2.1.1.1.1.1.1.3.cmml" type="integer" xref="alg1.l3.m1.2.2.1.1.1.1.1.1.3">1</cn></apply><apply id="alg1.l3.m1.2.2.1.1.1.1.2.2.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.2.2"><csymbol cd="ambiguous" id="alg1.l3.m1.2.2.1.1.1.1.2.2.1.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.2.2">subscript</csymbol><ci id="alg1.l3.m1.2.2.1.1.1.1.2.2.2.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.2.2.2">ğ¼</ci><cn id="alg1.l3.m1.2.2.1.1.1.1.2.2.3.cmml" type="integer" xref="alg1.l3.m1.2.2.1.1.1.1.2.2.3">2</cn></apply><ci id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">â‹¯</ci><apply id="alg1.l3.m1.2.2.1.1.1.1.3.3.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.3.3"><csymbol cd="ambiguous" id="alg1.l3.m1.2.2.1.1.1.1.3.3.1.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.3.3">subscript</csymbol><ci id="alg1.l3.m1.2.2.1.1.1.1.3.3.2.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.3.3.2">ğ¼</ci><ci id="alg1.l3.m1.2.2.1.1.1.1.3.3.3.cmml" xref="alg1.l3.m1.2.2.1.1.1.1.3.3.3">ğ‘›</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.2c">I_{m}\leftarrow Rec\_Model([I_{1},I_{2},\cdots,I_{n}])</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.2d">italic_I start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT â† italic_R italic_e italic_c _ italic_M italic_o italic_d italic_e italic_l ( [ italic_I start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_I start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â‹¯ , italic_I start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ] )</annotation></semantics></math> <span class="ltx_text" id="alg1.l3.1" style="float:right;"><math alttext="\triangleright" class="ltx_Math" display="inline" id="alg1.l3.1.m1.1"><semantics id="alg1.l3.1.m1.1a"><mo id="alg1.l3.1.m1.1.1" xref="alg1.l3.1.m1.1.1.cmml">â–·</mo><annotation-xml encoding="MathML-Content" id="alg1.l3.1.m1.1b"><ci id="alg1.l3.1.m1.1.1.cmml" xref="alg1.l3.1.m1.1.1">â–·</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.1.m1.1c">\triangleright</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.1.m1.1d">â–·</annotation></semantics></math> Utilize the Rec_Model
</span>
</div>
<div class="ltx_listingline" id="alg1.l4">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l4.1.1.1" style="font-size:80%;">4:</span></span>Â Â <span class="ltx_text ltx_font_bold" id="alg1.l4.2">while</span>Â <math alttext="E\leq Max\_Epoch" class="ltx_Math" display="inline" id="alg1.l4.m1.1"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mi id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml">E</mi><mo id="alg1.l4.m1.1.1.1" xref="alg1.l4.m1.1.1.1.cmml">â‰¤</mo><mrow id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml"><mi id="alg1.l4.m1.1.1.3.2" xref="alg1.l4.m1.1.1.3.2.cmml">M</mi><mo id="alg1.l4.m1.1.1.3.1" xref="alg1.l4.m1.1.1.3.1.cmml">â¢</mo><mi id="alg1.l4.m1.1.1.3.3" xref="alg1.l4.m1.1.1.3.3.cmml">a</mi><mo id="alg1.l4.m1.1.1.3.1a" xref="alg1.l4.m1.1.1.3.1.cmml">â¢</mo><mi id="alg1.l4.m1.1.1.3.4" xref="alg1.l4.m1.1.1.3.4.cmml">x</mi><mo id="alg1.l4.m1.1.1.3.1b" xref="alg1.l4.m1.1.1.3.1.cmml">â¢</mo><mi id="alg1.l4.m1.1.1.3.5" mathvariant="normal" xref="alg1.l4.m1.1.1.3.5.cmml">_</mi><mo id="alg1.l4.m1.1.1.3.1c" xref="alg1.l4.m1.1.1.3.1.cmml">â¢</mo><mi id="alg1.l4.m1.1.1.3.6" xref="alg1.l4.m1.1.1.3.6.cmml">E</mi><mo id="alg1.l4.m1.1.1.3.1d" xref="alg1.l4.m1.1.1.3.1.cmml">â¢</mo><mi id="alg1.l4.m1.1.1.3.7" xref="alg1.l4.m1.1.1.3.7.cmml">p</mi><mo id="alg1.l4.m1.1.1.3.1e" xref="alg1.l4.m1.1.1.3.1.cmml">â¢</mo><mi id="alg1.l4.m1.1.1.3.8" xref="alg1.l4.m1.1.1.3.8.cmml">o</mi><mo id="alg1.l4.m1.1.1.3.1f" xref="alg1.l4.m1.1.1.3.1.cmml">â¢</mo><mi id="alg1.l4.m1.1.1.3.9" xref="alg1.l4.m1.1.1.3.9.cmml">c</mi><mo id="alg1.l4.m1.1.1.3.1g" xref="alg1.l4.m1.1.1.3.1.cmml">â¢</mo><mi id="alg1.l4.m1.1.1.3.10" xref="alg1.l4.m1.1.1.3.10.cmml">h</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><leq id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1"></leq><ci id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2">ğ¸</ci><apply id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3"><times id="alg1.l4.m1.1.1.3.1.cmml" xref="alg1.l4.m1.1.1.3.1"></times><ci id="alg1.l4.m1.1.1.3.2.cmml" xref="alg1.l4.m1.1.1.3.2">ğ‘€</ci><ci id="alg1.l4.m1.1.1.3.3.cmml" xref="alg1.l4.m1.1.1.3.3">ğ‘</ci><ci id="alg1.l4.m1.1.1.3.4.cmml" xref="alg1.l4.m1.1.1.3.4">ğ‘¥</ci><ci id="alg1.l4.m1.1.1.3.5.cmml" xref="alg1.l4.m1.1.1.3.5">_</ci><ci id="alg1.l4.m1.1.1.3.6.cmml" xref="alg1.l4.m1.1.1.3.6">ğ¸</ci><ci id="alg1.l4.m1.1.1.3.7.cmml" xref="alg1.l4.m1.1.1.3.7">ğ‘</ci><ci id="alg1.l4.m1.1.1.3.8.cmml" xref="alg1.l4.m1.1.1.3.8">ğ‘œ</ci><ci id="alg1.l4.m1.1.1.3.9.cmml" xref="alg1.l4.m1.1.1.3.9">ğ‘</ci><ci id="alg1.l4.m1.1.1.3.10.cmml" xref="alg1.l4.m1.1.1.3.10">â„</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">E\leq Max\_Epoch</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m1.1d">italic_E â‰¤ italic_M italic_a italic_x _ italic_E italic_p italic_o italic_c italic_h</annotation></semantics></math>Â <span class="ltx_text ltx_font_bold" id="alg1.l4.3">do</span>
</div>
<div class="ltx_listingline" id="alg1.l5">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l5.1.1.1" style="font-size:80%;">5:</span></span>Â Â Â Â Â <math alttext="(I_{r},R_{r})\leftarrow f_{r}(M_{r},[I_{1},I_{2},\cdots,I_{n}],I_{m})" class="ltx_Math" display="inline" id="alg1.l5.m1.6"><semantics id="alg1.l5.m1.6a"><mrow id="alg1.l5.m1.6.6" xref="alg1.l5.m1.6.6.cmml"><mrow id="alg1.l5.m1.3.3.2.2" xref="alg1.l5.m1.3.3.2.3.cmml"><mo id="alg1.l5.m1.3.3.2.2.3" stretchy="false" xref="alg1.l5.m1.3.3.2.3.cmml">(</mo><msub id="alg1.l5.m1.2.2.1.1.1" xref="alg1.l5.m1.2.2.1.1.1.cmml"><mi id="alg1.l5.m1.2.2.1.1.1.2" xref="alg1.l5.m1.2.2.1.1.1.2.cmml">I</mi><mi id="alg1.l5.m1.2.2.1.1.1.3" xref="alg1.l5.m1.2.2.1.1.1.3.cmml">r</mi></msub><mo id="alg1.l5.m1.3.3.2.2.4" xref="alg1.l5.m1.3.3.2.3.cmml">,</mo><msub id="alg1.l5.m1.3.3.2.2.2" xref="alg1.l5.m1.3.3.2.2.2.cmml"><mi id="alg1.l5.m1.3.3.2.2.2.2" xref="alg1.l5.m1.3.3.2.2.2.2.cmml">R</mi><mi id="alg1.l5.m1.3.3.2.2.2.3" xref="alg1.l5.m1.3.3.2.2.2.3.cmml">r</mi></msub><mo id="alg1.l5.m1.3.3.2.2.5" stretchy="false" xref="alg1.l5.m1.3.3.2.3.cmml">)</mo></mrow><mo id="alg1.l5.m1.6.6.6" stretchy="false" xref="alg1.l5.m1.6.6.6.cmml">â†</mo><mrow id="alg1.l5.m1.6.6.5" xref="alg1.l5.m1.6.6.5.cmml"><msub id="alg1.l5.m1.6.6.5.5" xref="alg1.l5.m1.6.6.5.5.cmml"><mi id="alg1.l5.m1.6.6.5.5.2" xref="alg1.l5.m1.6.6.5.5.2.cmml">f</mi><mi id="alg1.l5.m1.6.6.5.5.3" xref="alg1.l5.m1.6.6.5.5.3.cmml">r</mi></msub><mo id="alg1.l5.m1.6.6.5.4" xref="alg1.l5.m1.6.6.5.4.cmml">â¢</mo><mrow id="alg1.l5.m1.6.6.5.3.3" xref="alg1.l5.m1.6.6.5.3.4.cmml"><mo id="alg1.l5.m1.6.6.5.3.3.4" stretchy="false" xref="alg1.l5.m1.6.6.5.3.4.cmml">(</mo><msub id="alg1.l5.m1.4.4.3.1.1.1" xref="alg1.l5.m1.4.4.3.1.1.1.cmml"><mi id="alg1.l5.m1.4.4.3.1.1.1.2" xref="alg1.l5.m1.4.4.3.1.1.1.2.cmml">M</mi><mi id="alg1.l5.m1.4.4.3.1.1.1.3" xref="alg1.l5.m1.4.4.3.1.1.1.3.cmml">r</mi></msub><mo id="alg1.l5.m1.6.6.5.3.3.5" xref="alg1.l5.m1.6.6.5.3.4.cmml">,</mo><mrow id="alg1.l5.m1.5.5.4.2.2.2.3" xref="alg1.l5.m1.5.5.4.2.2.2.4.cmml"><mo id="alg1.l5.m1.5.5.4.2.2.2.3.4" stretchy="false" xref="alg1.l5.m1.5.5.4.2.2.2.4.cmml">[</mo><msub id="alg1.l5.m1.5.5.4.2.2.2.1.1" xref="alg1.l5.m1.5.5.4.2.2.2.1.1.cmml"><mi id="alg1.l5.m1.5.5.4.2.2.2.1.1.2" xref="alg1.l5.m1.5.5.4.2.2.2.1.1.2.cmml">I</mi><mn id="alg1.l5.m1.5.5.4.2.2.2.1.1.3" xref="alg1.l5.m1.5.5.4.2.2.2.1.1.3.cmml">1</mn></msub><mo id="alg1.l5.m1.5.5.4.2.2.2.3.5" xref="alg1.l5.m1.5.5.4.2.2.2.4.cmml">,</mo><msub id="alg1.l5.m1.5.5.4.2.2.2.2.2" xref="alg1.l5.m1.5.5.4.2.2.2.2.2.cmml"><mi id="alg1.l5.m1.5.5.4.2.2.2.2.2.2" xref="alg1.l5.m1.5.5.4.2.2.2.2.2.2.cmml">I</mi><mn id="alg1.l5.m1.5.5.4.2.2.2.2.2.3" xref="alg1.l5.m1.5.5.4.2.2.2.2.2.3.cmml">2</mn></msub><mo id="alg1.l5.m1.5.5.4.2.2.2.3.6" xref="alg1.l5.m1.5.5.4.2.2.2.4.cmml">,</mo><mi id="alg1.l5.m1.1.1" mathvariant="normal" xref="alg1.l5.m1.1.1.cmml">â‹¯</mi><mo id="alg1.l5.m1.5.5.4.2.2.2.3.7" xref="alg1.l5.m1.5.5.4.2.2.2.4.cmml">,</mo><msub id="alg1.l5.m1.5.5.4.2.2.2.3.3" xref="alg1.l5.m1.5.5.4.2.2.2.3.3.cmml"><mi id="alg1.l5.m1.5.5.4.2.2.2.3.3.2" xref="alg1.l5.m1.5.5.4.2.2.2.3.3.2.cmml">I</mi><mi id="alg1.l5.m1.5.5.4.2.2.2.3.3.3" xref="alg1.l5.m1.5.5.4.2.2.2.3.3.3.cmml">n</mi></msub><mo id="alg1.l5.m1.5.5.4.2.2.2.3.8" stretchy="false" xref="alg1.l5.m1.5.5.4.2.2.2.4.cmml">]</mo></mrow><mo id="alg1.l5.m1.6.6.5.3.3.6" xref="alg1.l5.m1.6.6.5.3.4.cmml">,</mo><msub id="alg1.l5.m1.6.6.5.3.3.3" xref="alg1.l5.m1.6.6.5.3.3.3.cmml"><mi id="alg1.l5.m1.6.6.5.3.3.3.2" xref="alg1.l5.m1.6.6.5.3.3.3.2.cmml">I</mi><mi id="alg1.l5.m1.6.6.5.3.3.3.3" xref="alg1.l5.m1.6.6.5.3.3.3.3.cmml">m</mi></msub><mo id="alg1.l5.m1.6.6.5.3.3.7" stretchy="false" xref="alg1.l5.m1.6.6.5.3.4.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.6b"><apply id="alg1.l5.m1.6.6.cmml" xref="alg1.l5.m1.6.6"><ci id="alg1.l5.m1.6.6.6.cmml" xref="alg1.l5.m1.6.6.6">â†</ci><interval closure="open" id="alg1.l5.m1.3.3.2.3.cmml" xref="alg1.l5.m1.3.3.2.2"><apply id="alg1.l5.m1.2.2.1.1.1.cmml" xref="alg1.l5.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.1.1.1.1.cmml" xref="alg1.l5.m1.2.2.1.1.1">subscript</csymbol><ci id="alg1.l5.m1.2.2.1.1.1.2.cmml" xref="alg1.l5.m1.2.2.1.1.1.2">ğ¼</ci><ci id="alg1.l5.m1.2.2.1.1.1.3.cmml" xref="alg1.l5.m1.2.2.1.1.1.3">ğ‘Ÿ</ci></apply><apply id="alg1.l5.m1.3.3.2.2.2.cmml" xref="alg1.l5.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l5.m1.3.3.2.2.2.1.cmml" xref="alg1.l5.m1.3.3.2.2.2">subscript</csymbol><ci id="alg1.l5.m1.3.3.2.2.2.2.cmml" xref="alg1.l5.m1.3.3.2.2.2.2">ğ‘…</ci><ci id="alg1.l5.m1.3.3.2.2.2.3.cmml" xref="alg1.l5.m1.3.3.2.2.2.3">ğ‘Ÿ</ci></apply></interval><apply id="alg1.l5.m1.6.6.5.cmml" xref="alg1.l5.m1.6.6.5"><times id="alg1.l5.m1.6.6.5.4.cmml" xref="alg1.l5.m1.6.6.5.4"></times><apply id="alg1.l5.m1.6.6.5.5.cmml" xref="alg1.l5.m1.6.6.5.5"><csymbol cd="ambiguous" id="alg1.l5.m1.6.6.5.5.1.cmml" xref="alg1.l5.m1.6.6.5.5">subscript</csymbol><ci id="alg1.l5.m1.6.6.5.5.2.cmml" xref="alg1.l5.m1.6.6.5.5.2">ğ‘“</ci><ci id="alg1.l5.m1.6.6.5.5.3.cmml" xref="alg1.l5.m1.6.6.5.5.3">ğ‘Ÿ</ci></apply><vector id="alg1.l5.m1.6.6.5.3.4.cmml" xref="alg1.l5.m1.6.6.5.3.3"><apply id="alg1.l5.m1.4.4.3.1.1.1.cmml" xref="alg1.l5.m1.4.4.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l5.m1.4.4.3.1.1.1.1.cmml" xref="alg1.l5.m1.4.4.3.1.1.1">subscript</csymbol><ci id="alg1.l5.m1.4.4.3.1.1.1.2.cmml" xref="alg1.l5.m1.4.4.3.1.1.1.2">ğ‘€</ci><ci id="alg1.l5.m1.4.4.3.1.1.1.3.cmml" xref="alg1.l5.m1.4.4.3.1.1.1.3">ğ‘Ÿ</ci></apply><list id="alg1.l5.m1.5.5.4.2.2.2.4.cmml" xref="alg1.l5.m1.5.5.4.2.2.2.3"><apply id="alg1.l5.m1.5.5.4.2.2.2.1.1.cmml" xref="alg1.l5.m1.5.5.4.2.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l5.m1.5.5.4.2.2.2.1.1.1.cmml" xref="alg1.l5.m1.5.5.4.2.2.2.1.1">subscript</csymbol><ci id="alg1.l5.m1.5.5.4.2.2.2.1.1.2.cmml" xref="alg1.l5.m1.5.5.4.2.2.2.1.1.2">ğ¼</ci><cn id="alg1.l5.m1.5.5.4.2.2.2.1.1.3.cmml" type="integer" xref="alg1.l5.m1.5.5.4.2.2.2.1.1.3">1</cn></apply><apply id="alg1.l5.m1.5.5.4.2.2.2.2.2.cmml" xref="alg1.l5.m1.5.5.4.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l5.m1.5.5.4.2.2.2.2.2.1.cmml" xref="alg1.l5.m1.5.5.4.2.2.2.2.2">subscript</csymbol><ci id="alg1.l5.m1.5.5.4.2.2.2.2.2.2.cmml" xref="alg1.l5.m1.5.5.4.2.2.2.2.2.2">ğ¼</ci><cn id="alg1.l5.m1.5.5.4.2.2.2.2.2.3.cmml" type="integer" xref="alg1.l5.m1.5.5.4.2.2.2.2.2.3">2</cn></apply><ci id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1">â‹¯</ci><apply id="alg1.l5.m1.5.5.4.2.2.2.3.3.cmml" xref="alg1.l5.m1.5.5.4.2.2.2.3.3"><csymbol cd="ambiguous" id="alg1.l5.m1.5.5.4.2.2.2.3.3.1.cmml" xref="alg1.l5.m1.5.5.4.2.2.2.3.3">subscript</csymbol><ci id="alg1.l5.m1.5.5.4.2.2.2.3.3.2.cmml" xref="alg1.l5.m1.5.5.4.2.2.2.3.3.2">ğ¼</ci><ci id="alg1.l5.m1.5.5.4.2.2.2.3.3.3.cmml" xref="alg1.l5.m1.5.5.4.2.2.2.3.3.3">ğ‘›</ci></apply></list><apply id="alg1.l5.m1.6.6.5.3.3.3.cmml" xref="alg1.l5.m1.6.6.5.3.3.3"><csymbol cd="ambiguous" id="alg1.l5.m1.6.6.5.3.3.3.1.cmml" xref="alg1.l5.m1.6.6.5.3.3.3">subscript</csymbol><ci id="alg1.l5.m1.6.6.5.3.3.3.2.cmml" xref="alg1.l5.m1.6.6.5.3.3.3.2">ğ¼</ci><ci id="alg1.l5.m1.6.6.5.3.3.3.3.cmml" xref="alg1.l5.m1.6.6.5.3.3.3.3">ğ‘š</ci></apply></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.6c">(I_{r},R_{r})\leftarrow f_{r}(M_{r},[I_{1},I_{2},\cdots,I_{n}],I_{m})</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m1.6d">( italic_I start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT ) â† italic_f start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT ( italic_M start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , [ italic_I start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_I start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â‹¯ , italic_I start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ] , italic_I start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l6">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l6.2.1.1" style="font-size:80%;">6:</span></span>Â Â Â Â Â <math alttext="S\leftarrow Reward\_Model(I_{r})" class="ltx_Math" display="inline" id="alg1.l6.m1.1"><semantics id="alg1.l6.m1.1a"><mrow id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml"><mi id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3.cmml">S</mi><mo id="alg1.l6.m1.1.1.2" stretchy="false" xref="alg1.l6.m1.1.1.2.cmml">â†</mo><mrow id="alg1.l6.m1.1.1.1" xref="alg1.l6.m1.1.1.1.cmml"><mi id="alg1.l6.m1.1.1.1.3" xref="alg1.l6.m1.1.1.1.3.cmml">R</mi><mo id="alg1.l6.m1.1.1.1.2" xref="alg1.l6.m1.1.1.1.2.cmml">â¢</mo><mi id="alg1.l6.m1.1.1.1.4" xref="alg1.l6.m1.1.1.1.4.cmml">e</mi><mo id="alg1.l6.m1.1.1.1.2a" xref="alg1.l6.m1.1.1.1.2.cmml">â¢</mo><mi id="alg1.l6.m1.1.1.1.5" xref="alg1.l6.m1.1.1.1.5.cmml">w</mi><mo id="alg1.l6.m1.1.1.1.2b" xref="alg1.l6.m1.1.1.1.2.cmml">â¢</mo><mi id="alg1.l6.m1.1.1.1.6" xref="alg1.l6.m1.1.1.1.6.cmml">a</mi><mo id="alg1.l6.m1.1.1.1.2c" xref="alg1.l6.m1.1.1.1.2.cmml">â¢</mo><mi id="alg1.l6.m1.1.1.1.7" xref="alg1.l6.m1.1.1.1.7.cmml">r</mi><mo id="alg1.l6.m1.1.1.1.2d" xref="alg1.l6.m1.1.1.1.2.cmml">â¢</mo><mi id="alg1.l6.m1.1.1.1.8" xref="alg1.l6.m1.1.1.1.8.cmml">d</mi><mo id="alg1.l6.m1.1.1.1.2e" xref="alg1.l6.m1.1.1.1.2.cmml">â¢</mo><mi id="alg1.l6.m1.1.1.1.9" mathvariant="normal" xref="alg1.l6.m1.1.1.1.9.cmml">_</mi><mo id="alg1.l6.m1.1.1.1.2f" xref="alg1.l6.m1.1.1.1.2.cmml">â¢</mo><mi id="alg1.l6.m1.1.1.1.10" xref="alg1.l6.m1.1.1.1.10.cmml">M</mi><mo id="alg1.l6.m1.1.1.1.2g" xref="alg1.l6.m1.1.1.1.2.cmml">â¢</mo><mi id="alg1.l6.m1.1.1.1.11" xref="alg1.l6.m1.1.1.1.11.cmml">o</mi><mo id="alg1.l6.m1.1.1.1.2h" xref="alg1.l6.m1.1.1.1.2.cmml">â¢</mo><mi id="alg1.l6.m1.1.1.1.12" xref="alg1.l6.m1.1.1.1.12.cmml">d</mi><mo id="alg1.l6.m1.1.1.1.2i" xref="alg1.l6.m1.1.1.1.2.cmml">â¢</mo><mi id="alg1.l6.m1.1.1.1.13" xref="alg1.l6.m1.1.1.1.13.cmml">e</mi><mo id="alg1.l6.m1.1.1.1.2j" xref="alg1.l6.m1.1.1.1.2.cmml">â¢</mo><mi id="alg1.l6.m1.1.1.1.14" xref="alg1.l6.m1.1.1.1.14.cmml">l</mi><mo id="alg1.l6.m1.1.1.1.2k" xref="alg1.l6.m1.1.1.1.2.cmml">â¢</mo><mrow id="alg1.l6.m1.1.1.1.1.1" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mo id="alg1.l6.m1.1.1.1.1.1.2" stretchy="false" xref="alg1.l6.m1.1.1.1.1.1.1.cmml">(</mo><msub id="alg1.l6.m1.1.1.1.1.1.1" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l6.m1.1.1.1.1.1.1.2" xref="alg1.l6.m1.1.1.1.1.1.1.2.cmml">I</mi><mi id="alg1.l6.m1.1.1.1.1.1.1.3" xref="alg1.l6.m1.1.1.1.1.1.1.3.cmml">r</mi></msub><mo id="alg1.l6.m1.1.1.1.1.1.3" stretchy="false" xref="alg1.l6.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1"><ci id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1.2">â†</ci><ci id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3">ğ‘†</ci><apply id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1"><times id="alg1.l6.m1.1.1.1.2.cmml" xref="alg1.l6.m1.1.1.1.2"></times><ci id="alg1.l6.m1.1.1.1.3.cmml" xref="alg1.l6.m1.1.1.1.3">ğ‘…</ci><ci id="alg1.l6.m1.1.1.1.4.cmml" xref="alg1.l6.m1.1.1.1.4">ğ‘’</ci><ci id="alg1.l6.m1.1.1.1.5.cmml" xref="alg1.l6.m1.1.1.1.5">ğ‘¤</ci><ci id="alg1.l6.m1.1.1.1.6.cmml" xref="alg1.l6.m1.1.1.1.6">ğ‘</ci><ci id="alg1.l6.m1.1.1.1.7.cmml" xref="alg1.l6.m1.1.1.1.7">ğ‘Ÿ</ci><ci id="alg1.l6.m1.1.1.1.8.cmml" xref="alg1.l6.m1.1.1.1.8">ğ‘‘</ci><ci id="alg1.l6.m1.1.1.1.9.cmml" xref="alg1.l6.m1.1.1.1.9">_</ci><ci id="alg1.l6.m1.1.1.1.10.cmml" xref="alg1.l6.m1.1.1.1.10">ğ‘€</ci><ci id="alg1.l6.m1.1.1.1.11.cmml" xref="alg1.l6.m1.1.1.1.11">ğ‘œ</ci><ci id="alg1.l6.m1.1.1.1.12.cmml" xref="alg1.l6.m1.1.1.1.12">ğ‘‘</ci><ci id="alg1.l6.m1.1.1.1.13.cmml" xref="alg1.l6.m1.1.1.1.13">ğ‘’</ci><ci id="alg1.l6.m1.1.1.1.14.cmml" xref="alg1.l6.m1.1.1.1.14">ğ‘™</ci><apply id="alg1.l6.m1.1.1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l6.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2">ğ¼</ci><ci id="alg1.l6.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.3">ğ‘Ÿ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">S\leftarrow Reward\_Model(I_{r})</annotation><annotation encoding="application/x-llamapun" id="alg1.l6.m1.1d">italic_S â† italic_R italic_e italic_w italic_a italic_r italic_d _ italic_M italic_o italic_d italic_e italic_l ( italic_I start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT )</annotation></semantics></math> <span class="ltx_text" id="alg1.l6.1" style="float:right;"><math alttext="\triangleright" class="ltx_Math" display="inline" id="alg1.l6.1.m1.1"><semantics id="alg1.l6.1.m1.1a"><mo id="alg1.l6.1.m1.1.1" xref="alg1.l6.1.m1.1.1.cmml">â–·</mo><annotation-xml encoding="MathML-Content" id="alg1.l6.1.m1.1b"><ci id="alg1.l6.1.m1.1.1.cmml" xref="alg1.l6.1.m1.1.1">â–·</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.1.m1.1c">\triangleright</annotation><annotation encoding="application/x-llamapun" id="alg1.l6.1.m1.1d">â–·</annotation></semantics></math> Utilize the Reward_Model
</span>
</div>
<div class="ltx_listingline" id="alg1.l7">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l7.1.1.1" style="font-size:80%;">7:</span></span>Â Â Â Â Â <math alttext="(D_{u},R_{u})\leftarrow f_{u}(M_{u},[I_{1},I_{2},\cdots,I_{n}],I_{r},R_{r},S)" class="ltx_Math" display="inline" id="alg1.l7.m1.8"><semantics id="alg1.l7.m1.8a"><mrow id="alg1.l7.m1.8.8" xref="alg1.l7.m1.8.8.cmml"><mrow id="alg1.l7.m1.4.4.2.2" xref="alg1.l7.m1.4.4.2.3.cmml"><mo id="alg1.l7.m1.4.4.2.2.3" stretchy="false" xref="alg1.l7.m1.4.4.2.3.cmml">(</mo><msub id="alg1.l7.m1.3.3.1.1.1" xref="alg1.l7.m1.3.3.1.1.1.cmml"><mi id="alg1.l7.m1.3.3.1.1.1.2" xref="alg1.l7.m1.3.3.1.1.1.2.cmml">D</mi><mi id="alg1.l7.m1.3.3.1.1.1.3" xref="alg1.l7.m1.3.3.1.1.1.3.cmml">u</mi></msub><mo id="alg1.l7.m1.4.4.2.2.4" xref="alg1.l7.m1.4.4.2.3.cmml">,</mo><msub id="alg1.l7.m1.4.4.2.2.2" xref="alg1.l7.m1.4.4.2.2.2.cmml"><mi id="alg1.l7.m1.4.4.2.2.2.2" xref="alg1.l7.m1.4.4.2.2.2.2.cmml">R</mi><mi id="alg1.l7.m1.4.4.2.2.2.3" xref="alg1.l7.m1.4.4.2.2.2.3.cmml">u</mi></msub><mo id="alg1.l7.m1.4.4.2.2.5" stretchy="false" xref="alg1.l7.m1.4.4.2.3.cmml">)</mo></mrow><mo id="alg1.l7.m1.8.8.7" stretchy="false" xref="alg1.l7.m1.8.8.7.cmml">â†</mo><mrow id="alg1.l7.m1.8.8.6" xref="alg1.l7.m1.8.8.6.cmml"><msub id="alg1.l7.m1.8.8.6.6" xref="alg1.l7.m1.8.8.6.6.cmml"><mi id="alg1.l7.m1.8.8.6.6.2" xref="alg1.l7.m1.8.8.6.6.2.cmml">f</mi><mi id="alg1.l7.m1.8.8.6.6.3" xref="alg1.l7.m1.8.8.6.6.3.cmml">u</mi></msub><mo id="alg1.l7.m1.8.8.6.5" xref="alg1.l7.m1.8.8.6.5.cmml">â¢</mo><mrow id="alg1.l7.m1.8.8.6.4.4" xref="alg1.l7.m1.8.8.6.4.5.cmml"><mo id="alg1.l7.m1.8.8.6.4.4.5" stretchy="false" xref="alg1.l7.m1.8.8.6.4.5.cmml">(</mo><msub id="alg1.l7.m1.5.5.3.1.1.1" xref="alg1.l7.m1.5.5.3.1.1.1.cmml"><mi id="alg1.l7.m1.5.5.3.1.1.1.2" xref="alg1.l7.m1.5.5.3.1.1.1.2.cmml">M</mi><mi id="alg1.l7.m1.5.5.3.1.1.1.3" xref="alg1.l7.m1.5.5.3.1.1.1.3.cmml">u</mi></msub><mo id="alg1.l7.m1.8.8.6.4.4.6" xref="alg1.l7.m1.8.8.6.4.5.cmml">,</mo><mrow id="alg1.l7.m1.6.6.4.2.2.2.3" xref="alg1.l7.m1.6.6.4.2.2.2.4.cmml"><mo id="alg1.l7.m1.6.6.4.2.2.2.3.4" stretchy="false" xref="alg1.l7.m1.6.6.4.2.2.2.4.cmml">[</mo><msub id="alg1.l7.m1.6.6.4.2.2.2.1.1" xref="alg1.l7.m1.6.6.4.2.2.2.1.1.cmml"><mi id="alg1.l7.m1.6.6.4.2.2.2.1.1.2" xref="alg1.l7.m1.6.6.4.2.2.2.1.1.2.cmml">I</mi><mn id="alg1.l7.m1.6.6.4.2.2.2.1.1.3" xref="alg1.l7.m1.6.6.4.2.2.2.1.1.3.cmml">1</mn></msub><mo id="alg1.l7.m1.6.6.4.2.2.2.3.5" xref="alg1.l7.m1.6.6.4.2.2.2.4.cmml">,</mo><msub id="alg1.l7.m1.6.6.4.2.2.2.2.2" xref="alg1.l7.m1.6.6.4.2.2.2.2.2.cmml"><mi id="alg1.l7.m1.6.6.4.2.2.2.2.2.2" xref="alg1.l7.m1.6.6.4.2.2.2.2.2.2.cmml">I</mi><mn id="alg1.l7.m1.6.6.4.2.2.2.2.2.3" xref="alg1.l7.m1.6.6.4.2.2.2.2.2.3.cmml">2</mn></msub><mo id="alg1.l7.m1.6.6.4.2.2.2.3.6" xref="alg1.l7.m1.6.6.4.2.2.2.4.cmml">,</mo><mi id="alg1.l7.m1.1.1" mathvariant="normal" xref="alg1.l7.m1.1.1.cmml">â‹¯</mi><mo id="alg1.l7.m1.6.6.4.2.2.2.3.7" xref="alg1.l7.m1.6.6.4.2.2.2.4.cmml">,</mo><msub id="alg1.l7.m1.6.6.4.2.2.2.3.3" xref="alg1.l7.m1.6.6.4.2.2.2.3.3.cmml"><mi id="alg1.l7.m1.6.6.4.2.2.2.3.3.2" xref="alg1.l7.m1.6.6.4.2.2.2.3.3.2.cmml">I</mi><mi id="alg1.l7.m1.6.6.4.2.2.2.3.3.3" xref="alg1.l7.m1.6.6.4.2.2.2.3.3.3.cmml">n</mi></msub><mo id="alg1.l7.m1.6.6.4.2.2.2.3.8" stretchy="false" xref="alg1.l7.m1.6.6.4.2.2.2.4.cmml">]</mo></mrow><mo id="alg1.l7.m1.8.8.6.4.4.7" xref="alg1.l7.m1.8.8.6.4.5.cmml">,</mo><msub id="alg1.l7.m1.7.7.5.3.3.3" xref="alg1.l7.m1.7.7.5.3.3.3.cmml"><mi id="alg1.l7.m1.7.7.5.3.3.3.2" xref="alg1.l7.m1.7.7.5.3.3.3.2.cmml">I</mi><mi id="alg1.l7.m1.7.7.5.3.3.3.3" xref="alg1.l7.m1.7.7.5.3.3.3.3.cmml">r</mi></msub><mo id="alg1.l7.m1.8.8.6.4.4.8" xref="alg1.l7.m1.8.8.6.4.5.cmml">,</mo><msub id="alg1.l7.m1.8.8.6.4.4.4" xref="alg1.l7.m1.8.8.6.4.4.4.cmml"><mi id="alg1.l7.m1.8.8.6.4.4.4.2" xref="alg1.l7.m1.8.8.6.4.4.4.2.cmml">R</mi><mi id="alg1.l7.m1.8.8.6.4.4.4.3" xref="alg1.l7.m1.8.8.6.4.4.4.3.cmml">r</mi></msub><mo id="alg1.l7.m1.8.8.6.4.4.9" xref="alg1.l7.m1.8.8.6.4.5.cmml">,</mo><mi id="alg1.l7.m1.2.2" xref="alg1.l7.m1.2.2.cmml">S</mi><mo id="alg1.l7.m1.8.8.6.4.4.10" stretchy="false" xref="alg1.l7.m1.8.8.6.4.5.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.8b"><apply id="alg1.l7.m1.8.8.cmml" xref="alg1.l7.m1.8.8"><ci id="alg1.l7.m1.8.8.7.cmml" xref="alg1.l7.m1.8.8.7">â†</ci><interval closure="open" id="alg1.l7.m1.4.4.2.3.cmml" xref="alg1.l7.m1.4.4.2.2"><apply id="alg1.l7.m1.3.3.1.1.1.cmml" xref="alg1.l7.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.3.3.1.1.1.1.cmml" xref="alg1.l7.m1.3.3.1.1.1">subscript</csymbol><ci id="alg1.l7.m1.3.3.1.1.1.2.cmml" xref="alg1.l7.m1.3.3.1.1.1.2">ğ·</ci><ci id="alg1.l7.m1.3.3.1.1.1.3.cmml" xref="alg1.l7.m1.3.3.1.1.1.3">ğ‘¢</ci></apply><apply id="alg1.l7.m1.4.4.2.2.2.cmml" xref="alg1.l7.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="alg1.l7.m1.4.4.2.2.2.1.cmml" xref="alg1.l7.m1.4.4.2.2.2">subscript</csymbol><ci id="alg1.l7.m1.4.4.2.2.2.2.cmml" xref="alg1.l7.m1.4.4.2.2.2.2">ğ‘…</ci><ci id="alg1.l7.m1.4.4.2.2.2.3.cmml" xref="alg1.l7.m1.4.4.2.2.2.3">ğ‘¢</ci></apply></interval><apply id="alg1.l7.m1.8.8.6.cmml" xref="alg1.l7.m1.8.8.6"><times id="alg1.l7.m1.8.8.6.5.cmml" xref="alg1.l7.m1.8.8.6.5"></times><apply id="alg1.l7.m1.8.8.6.6.cmml" xref="alg1.l7.m1.8.8.6.6"><csymbol cd="ambiguous" id="alg1.l7.m1.8.8.6.6.1.cmml" xref="alg1.l7.m1.8.8.6.6">subscript</csymbol><ci id="alg1.l7.m1.8.8.6.6.2.cmml" xref="alg1.l7.m1.8.8.6.6.2">ğ‘“</ci><ci id="alg1.l7.m1.8.8.6.6.3.cmml" xref="alg1.l7.m1.8.8.6.6.3">ğ‘¢</ci></apply><vector id="alg1.l7.m1.8.8.6.4.5.cmml" xref="alg1.l7.m1.8.8.6.4.4"><apply id="alg1.l7.m1.5.5.3.1.1.1.cmml" xref="alg1.l7.m1.5.5.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.5.5.3.1.1.1.1.cmml" xref="alg1.l7.m1.5.5.3.1.1.1">subscript</csymbol><ci id="alg1.l7.m1.5.5.3.1.1.1.2.cmml" xref="alg1.l7.m1.5.5.3.1.1.1.2">ğ‘€</ci><ci id="alg1.l7.m1.5.5.3.1.1.1.3.cmml" xref="alg1.l7.m1.5.5.3.1.1.1.3">ğ‘¢</ci></apply><list id="alg1.l7.m1.6.6.4.2.2.2.4.cmml" xref="alg1.l7.m1.6.6.4.2.2.2.3"><apply id="alg1.l7.m1.6.6.4.2.2.2.1.1.cmml" xref="alg1.l7.m1.6.6.4.2.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.6.6.4.2.2.2.1.1.1.cmml" xref="alg1.l7.m1.6.6.4.2.2.2.1.1">subscript</csymbol><ci id="alg1.l7.m1.6.6.4.2.2.2.1.1.2.cmml" xref="alg1.l7.m1.6.6.4.2.2.2.1.1.2">ğ¼</ci><cn id="alg1.l7.m1.6.6.4.2.2.2.1.1.3.cmml" type="integer" xref="alg1.l7.m1.6.6.4.2.2.2.1.1.3">1</cn></apply><apply id="alg1.l7.m1.6.6.4.2.2.2.2.2.cmml" xref="alg1.l7.m1.6.6.4.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l7.m1.6.6.4.2.2.2.2.2.1.cmml" xref="alg1.l7.m1.6.6.4.2.2.2.2.2">subscript</csymbol><ci id="alg1.l7.m1.6.6.4.2.2.2.2.2.2.cmml" xref="alg1.l7.m1.6.6.4.2.2.2.2.2.2">ğ¼</ci><cn id="alg1.l7.m1.6.6.4.2.2.2.2.2.3.cmml" type="integer" xref="alg1.l7.m1.6.6.4.2.2.2.2.2.3">2</cn></apply><ci id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1">â‹¯</ci><apply id="alg1.l7.m1.6.6.4.2.2.2.3.3.cmml" xref="alg1.l7.m1.6.6.4.2.2.2.3.3"><csymbol cd="ambiguous" id="alg1.l7.m1.6.6.4.2.2.2.3.3.1.cmml" xref="alg1.l7.m1.6.6.4.2.2.2.3.3">subscript</csymbol><ci id="alg1.l7.m1.6.6.4.2.2.2.3.3.2.cmml" xref="alg1.l7.m1.6.6.4.2.2.2.3.3.2">ğ¼</ci><ci id="alg1.l7.m1.6.6.4.2.2.2.3.3.3.cmml" xref="alg1.l7.m1.6.6.4.2.2.2.3.3.3">ğ‘›</ci></apply></list><apply id="alg1.l7.m1.7.7.5.3.3.3.cmml" xref="alg1.l7.m1.7.7.5.3.3.3"><csymbol cd="ambiguous" id="alg1.l7.m1.7.7.5.3.3.3.1.cmml" xref="alg1.l7.m1.7.7.5.3.3.3">subscript</csymbol><ci id="alg1.l7.m1.7.7.5.3.3.3.2.cmml" xref="alg1.l7.m1.7.7.5.3.3.3.2">ğ¼</ci><ci id="alg1.l7.m1.7.7.5.3.3.3.3.cmml" xref="alg1.l7.m1.7.7.5.3.3.3.3">ğ‘Ÿ</ci></apply><apply id="alg1.l7.m1.8.8.6.4.4.4.cmml" xref="alg1.l7.m1.8.8.6.4.4.4"><csymbol cd="ambiguous" id="alg1.l7.m1.8.8.6.4.4.4.1.cmml" xref="alg1.l7.m1.8.8.6.4.4.4">subscript</csymbol><ci id="alg1.l7.m1.8.8.6.4.4.4.2.cmml" xref="alg1.l7.m1.8.8.6.4.4.4.2">ğ‘…</ci><ci id="alg1.l7.m1.8.8.6.4.4.4.3.cmml" xref="alg1.l7.m1.8.8.6.4.4.4.3">ğ‘Ÿ</ci></apply><ci id="alg1.l7.m1.2.2.cmml" xref="alg1.l7.m1.2.2">ğ‘†</ci></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.8c">(D_{u},R_{u})\leftarrow f_{u}(M_{u},[I_{1},I_{2},\cdots,I_{n}],I_{r},R_{r},S)</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m1.8d">( italic_D start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) â† italic_f start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ( italic_M start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , [ italic_I start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_I start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â‹¯ , italic_I start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ] , italic_I start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , italic_S )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l8">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l8.1.1.1" style="font-size:80%;">8:</span></span>Â Â Â Â Â <span class="ltx_text ltx_font_bold" id="alg1.l8.2">if</span>Â <math alttext="D_{u}" class="ltx_Math" display="inline" id="alg1.l8.m1.1"><semantics id="alg1.l8.m1.1a"><msub id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><mi id="alg1.l8.m1.1.1.2" xref="alg1.l8.m1.1.1.2.cmml">D</mi><mi id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1">subscript</csymbol><ci id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2">ğ·</ci><ci id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">D_{u}</annotation><annotation encoding="application/x-llamapun" id="alg1.l8.m1.1d">italic_D start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> is FalseÂ <span class="ltx_text ltx_font_bold" id="alg1.l8.3">then</span>
</div>
<div class="ltx_listingline" id="alg1.l9">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l9.2.1.1" style="font-size:80%;">9:</span></span>Â Â Â Â Â Â Â Â <math alttext="M_{u}\leftarrow M_{u}\cup\{I_{r},R_{r},R_{u}\}" class="ltx_Math" display="inline" id="alg1.l9.m1.3"><semantics id="alg1.l9.m1.3a"><mrow id="alg1.l9.m1.3.3" xref="alg1.l9.m1.3.3.cmml"><msub id="alg1.l9.m1.3.3.5" xref="alg1.l9.m1.3.3.5.cmml"><mi id="alg1.l9.m1.3.3.5.2" xref="alg1.l9.m1.3.3.5.2.cmml">M</mi><mi id="alg1.l9.m1.3.3.5.3" xref="alg1.l9.m1.3.3.5.3.cmml">u</mi></msub><mo id="alg1.l9.m1.3.3.4" stretchy="false" xref="alg1.l9.m1.3.3.4.cmml">â†</mo><mrow id="alg1.l9.m1.3.3.3" xref="alg1.l9.m1.3.3.3.cmml"><msub id="alg1.l9.m1.3.3.3.5" xref="alg1.l9.m1.3.3.3.5.cmml"><mi id="alg1.l9.m1.3.3.3.5.2" xref="alg1.l9.m1.3.3.3.5.2.cmml">M</mi><mi id="alg1.l9.m1.3.3.3.5.3" xref="alg1.l9.m1.3.3.3.5.3.cmml">u</mi></msub><mo id="alg1.l9.m1.3.3.3.4" xref="alg1.l9.m1.3.3.3.4.cmml">âˆª</mo><mrow id="alg1.l9.m1.3.3.3.3.3" xref="alg1.l9.m1.3.3.3.3.4.cmml"><mo id="alg1.l9.m1.3.3.3.3.3.4" stretchy="false" xref="alg1.l9.m1.3.3.3.3.4.cmml">{</mo><msub id="alg1.l9.m1.1.1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l9.m1.1.1.1.1.1.1.2" xref="alg1.l9.m1.1.1.1.1.1.1.2.cmml">I</mi><mi id="alg1.l9.m1.1.1.1.1.1.1.3" xref="alg1.l9.m1.1.1.1.1.1.1.3.cmml">r</mi></msub><mo id="alg1.l9.m1.3.3.3.3.3.5" xref="alg1.l9.m1.3.3.3.3.4.cmml">,</mo><msub id="alg1.l9.m1.2.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l9.m1.2.2.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.2.2.2.cmml">R</mi><mi id="alg1.l9.m1.2.2.2.2.2.2.3" xref="alg1.l9.m1.2.2.2.2.2.2.3.cmml">r</mi></msub><mo id="alg1.l9.m1.3.3.3.3.3.6" xref="alg1.l9.m1.3.3.3.3.4.cmml">,</mo><msub id="alg1.l9.m1.3.3.3.3.3.3" xref="alg1.l9.m1.3.3.3.3.3.3.cmml"><mi id="alg1.l9.m1.3.3.3.3.3.3.2" xref="alg1.l9.m1.3.3.3.3.3.3.2.cmml">R</mi><mi id="alg1.l9.m1.3.3.3.3.3.3.3" xref="alg1.l9.m1.3.3.3.3.3.3.3.cmml">u</mi></msub><mo id="alg1.l9.m1.3.3.3.3.3.7" stretchy="false" xref="alg1.l9.m1.3.3.3.3.4.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.3b"><apply id="alg1.l9.m1.3.3.cmml" xref="alg1.l9.m1.3.3"><ci id="alg1.l9.m1.3.3.4.cmml" xref="alg1.l9.m1.3.3.4">â†</ci><apply id="alg1.l9.m1.3.3.5.cmml" xref="alg1.l9.m1.3.3.5"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.5.1.cmml" xref="alg1.l9.m1.3.3.5">subscript</csymbol><ci id="alg1.l9.m1.3.3.5.2.cmml" xref="alg1.l9.m1.3.3.5.2">ğ‘€</ci><ci id="alg1.l9.m1.3.3.5.3.cmml" xref="alg1.l9.m1.3.3.5.3">ğ‘¢</ci></apply><apply id="alg1.l9.m1.3.3.3.cmml" xref="alg1.l9.m1.3.3.3"><union id="alg1.l9.m1.3.3.3.4.cmml" xref="alg1.l9.m1.3.3.3.4"></union><apply id="alg1.l9.m1.3.3.3.5.cmml" xref="alg1.l9.m1.3.3.3.5"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.3.5.1.cmml" xref="alg1.l9.m1.3.3.3.5">subscript</csymbol><ci id="alg1.l9.m1.3.3.3.5.2.cmml" xref="alg1.l9.m1.3.3.3.5.2">ğ‘€</ci><ci id="alg1.l9.m1.3.3.3.5.3.cmml" xref="alg1.l9.m1.3.3.3.5.3">ğ‘¢</ci></apply><set id="alg1.l9.m1.3.3.3.3.4.cmml" xref="alg1.l9.m1.3.3.3.3.3"><apply id="alg1.l9.m1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l9.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2">ğ¼</ci><ci id="alg1.l9.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.3">ğ‘Ÿ</ci></apply><apply id="alg1.l9.m1.2.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l9.m1.2.2.2.2.2.2">subscript</csymbol><ci id="alg1.l9.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.2">ğ‘…</ci><ci id="alg1.l9.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.3">ğ‘Ÿ</ci></apply><apply id="alg1.l9.m1.3.3.3.3.3.3.cmml" xref="alg1.l9.m1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.3.3.3.3.1.cmml" xref="alg1.l9.m1.3.3.3.3.3.3">subscript</csymbol><ci id="alg1.l9.m1.3.3.3.3.3.3.2.cmml" xref="alg1.l9.m1.3.3.3.3.3.3.2">ğ‘…</ci><ci id="alg1.l9.m1.3.3.3.3.3.3.3.cmml" xref="alg1.l9.m1.3.3.3.3.3.3.3">ğ‘¢</ci></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.3c">M_{u}\leftarrow M_{u}\cup\{I_{r},R_{r},R_{u}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.m1.3d">italic_M start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT â† italic_M start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT âˆª { italic_I start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT }</annotation></semantics></math> <span class="ltx_text" id="alg1.l9.1" style="float:right;"><math alttext="\triangleright" class="ltx_Math" display="inline" id="alg1.l9.1.m1.1"><semantics id="alg1.l9.1.m1.1a"><mo id="alg1.l9.1.m1.1.1" xref="alg1.l9.1.m1.1.1.cmml">â–·</mo><annotation-xml encoding="MathML-Content" id="alg1.l9.1.m1.1b"><ci id="alg1.l9.1.m1.1.1.cmml" xref="alg1.l9.1.m1.1.1">â–·</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.1.m1.1c">\triangleright</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.1.m1.1d">â–·</annotation></semantics></math> Update the memory
</span>
</div>
<div class="ltx_listingline" id="alg1.l10">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l10.1.1.1" style="font-size:80%;">10:</span></span>Â Â Â Â Â Â Â Â <math alttext="M_{r}\leftarrow M_{r}\cup\{I_{r},R_{r},R_{u}\}" class="ltx_Math" display="inline" id="alg1.l10.m1.3"><semantics id="alg1.l10.m1.3a"><mrow id="alg1.l10.m1.3.3" xref="alg1.l10.m1.3.3.cmml"><msub id="alg1.l10.m1.3.3.5" xref="alg1.l10.m1.3.3.5.cmml"><mi id="alg1.l10.m1.3.3.5.2" xref="alg1.l10.m1.3.3.5.2.cmml">M</mi><mi id="alg1.l10.m1.3.3.5.3" xref="alg1.l10.m1.3.3.5.3.cmml">r</mi></msub><mo id="alg1.l10.m1.3.3.4" stretchy="false" xref="alg1.l10.m1.3.3.4.cmml">â†</mo><mrow id="alg1.l10.m1.3.3.3" xref="alg1.l10.m1.3.3.3.cmml"><msub id="alg1.l10.m1.3.3.3.5" xref="alg1.l10.m1.3.3.3.5.cmml"><mi id="alg1.l10.m1.3.3.3.5.2" xref="alg1.l10.m1.3.3.3.5.2.cmml">M</mi><mi id="alg1.l10.m1.3.3.3.5.3" xref="alg1.l10.m1.3.3.3.5.3.cmml">r</mi></msub><mo id="alg1.l10.m1.3.3.3.4" xref="alg1.l10.m1.3.3.3.4.cmml">âˆª</mo><mrow id="alg1.l10.m1.3.3.3.3.3" xref="alg1.l10.m1.3.3.3.3.4.cmml"><mo id="alg1.l10.m1.3.3.3.3.3.4" stretchy="false" xref="alg1.l10.m1.3.3.3.3.4.cmml">{</mo><msub id="alg1.l10.m1.1.1.1.1.1.1" xref="alg1.l10.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l10.m1.1.1.1.1.1.1.2" xref="alg1.l10.m1.1.1.1.1.1.1.2.cmml">I</mi><mi id="alg1.l10.m1.1.1.1.1.1.1.3" xref="alg1.l10.m1.1.1.1.1.1.1.3.cmml">r</mi></msub><mo id="alg1.l10.m1.3.3.3.3.3.5" xref="alg1.l10.m1.3.3.3.3.4.cmml">,</mo><msub id="alg1.l10.m1.2.2.2.2.2.2" xref="alg1.l10.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l10.m1.2.2.2.2.2.2.2" xref="alg1.l10.m1.2.2.2.2.2.2.2.cmml">R</mi><mi id="alg1.l10.m1.2.2.2.2.2.2.3" xref="alg1.l10.m1.2.2.2.2.2.2.3.cmml">r</mi></msub><mo id="alg1.l10.m1.3.3.3.3.3.6" xref="alg1.l10.m1.3.3.3.3.4.cmml">,</mo><msub id="alg1.l10.m1.3.3.3.3.3.3" xref="alg1.l10.m1.3.3.3.3.3.3.cmml"><mi id="alg1.l10.m1.3.3.3.3.3.3.2" xref="alg1.l10.m1.3.3.3.3.3.3.2.cmml">R</mi><mi id="alg1.l10.m1.3.3.3.3.3.3.3" xref="alg1.l10.m1.3.3.3.3.3.3.3.cmml">u</mi></msub><mo id="alg1.l10.m1.3.3.3.3.3.7" stretchy="false" xref="alg1.l10.m1.3.3.3.3.4.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.3b"><apply id="alg1.l10.m1.3.3.cmml" xref="alg1.l10.m1.3.3"><ci id="alg1.l10.m1.3.3.4.cmml" xref="alg1.l10.m1.3.3.4">â†</ci><apply id="alg1.l10.m1.3.3.5.cmml" xref="alg1.l10.m1.3.3.5"><csymbol cd="ambiguous" id="alg1.l10.m1.3.3.5.1.cmml" xref="alg1.l10.m1.3.3.5">subscript</csymbol><ci id="alg1.l10.m1.3.3.5.2.cmml" xref="alg1.l10.m1.3.3.5.2">ğ‘€</ci><ci id="alg1.l10.m1.3.3.5.3.cmml" xref="alg1.l10.m1.3.3.5.3">ğ‘Ÿ</ci></apply><apply id="alg1.l10.m1.3.3.3.cmml" xref="alg1.l10.m1.3.3.3"><union id="alg1.l10.m1.3.3.3.4.cmml" xref="alg1.l10.m1.3.3.3.4"></union><apply id="alg1.l10.m1.3.3.3.5.cmml" xref="alg1.l10.m1.3.3.3.5"><csymbol cd="ambiguous" id="alg1.l10.m1.3.3.3.5.1.cmml" xref="alg1.l10.m1.3.3.3.5">subscript</csymbol><ci id="alg1.l10.m1.3.3.3.5.2.cmml" xref="alg1.l10.m1.3.3.3.5.2">ğ‘€</ci><ci id="alg1.l10.m1.3.3.3.5.3.cmml" xref="alg1.l10.m1.3.3.3.5.3">ğ‘Ÿ</ci></apply><set id="alg1.l10.m1.3.3.3.3.4.cmml" xref="alg1.l10.m1.3.3.3.3.3"><apply id="alg1.l10.m1.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l10.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.2">ğ¼</ci><ci id="alg1.l10.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.3">ğ‘Ÿ</ci></apply><apply id="alg1.l10.m1.2.2.2.2.2.2.cmml" xref="alg1.l10.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l10.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l10.m1.2.2.2.2.2.2">subscript</csymbol><ci id="alg1.l10.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l10.m1.2.2.2.2.2.2.2">ğ‘…</ci><ci id="alg1.l10.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l10.m1.2.2.2.2.2.2.3">ğ‘Ÿ</ci></apply><apply id="alg1.l10.m1.3.3.3.3.3.3.cmml" xref="alg1.l10.m1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="alg1.l10.m1.3.3.3.3.3.3.1.cmml" xref="alg1.l10.m1.3.3.3.3.3.3">subscript</csymbol><ci id="alg1.l10.m1.3.3.3.3.3.3.2.cmml" xref="alg1.l10.m1.3.3.3.3.3.3.2">ğ‘…</ci><ci id="alg1.l10.m1.3.3.3.3.3.3.3.cmml" xref="alg1.l10.m1.3.3.3.3.3.3.3">ğ‘¢</ci></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.3c">M_{r}\leftarrow M_{r}\cup\{I_{r},R_{r},R_{u}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l10.m1.3d">italic_M start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT â† italic_M start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT âˆª { italic_I start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT }</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l11">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l11.1.1.1" style="font-size:80%;">11:</span></span>Â Â Â Â Â Â Â Â <math alttext="E\leftarrow E+1" class="ltx_Math" display="inline" id="alg1.l11.m1.1"><semantics id="alg1.l11.m1.1a"><mrow id="alg1.l11.m1.1.1" xref="alg1.l11.m1.1.1.cmml"><mi id="alg1.l11.m1.1.1.2" xref="alg1.l11.m1.1.1.2.cmml">E</mi><mo id="alg1.l11.m1.1.1.1" stretchy="false" xref="alg1.l11.m1.1.1.1.cmml">â†</mo><mrow id="alg1.l11.m1.1.1.3" xref="alg1.l11.m1.1.1.3.cmml"><mi id="alg1.l11.m1.1.1.3.2" xref="alg1.l11.m1.1.1.3.2.cmml">E</mi><mo id="alg1.l11.m1.1.1.3.1" xref="alg1.l11.m1.1.1.3.1.cmml">+</mo><mn id="alg1.l11.m1.1.1.3.3" xref="alg1.l11.m1.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.1b"><apply id="alg1.l11.m1.1.1.cmml" xref="alg1.l11.m1.1.1"><ci id="alg1.l11.m1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1">â†</ci><ci id="alg1.l11.m1.1.1.2.cmml" xref="alg1.l11.m1.1.1.2">ğ¸</ci><apply id="alg1.l11.m1.1.1.3.cmml" xref="alg1.l11.m1.1.1.3"><plus id="alg1.l11.m1.1.1.3.1.cmml" xref="alg1.l11.m1.1.1.3.1"></plus><ci id="alg1.l11.m1.1.1.3.2.cmml" xref="alg1.l11.m1.1.1.3.2">ğ¸</ci><cn id="alg1.l11.m1.1.1.3.3.cmml" type="integer" xref="alg1.l11.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.1c">E\leftarrow E+1</annotation><annotation encoding="application/x-llamapun" id="alg1.l11.m1.1d">italic_E â† italic_E + 1</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l12">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l12.1.1.1" style="font-size:80%;">12:</span></span>Â Â Â Â Â <span class="ltx_text ltx_font_bold" id="alg1.l12.2">else</span>
</div>
<div class="ltx_listingline" id="alg1.l13">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l13.1.1.1" style="font-size:80%;">13:</span></span>Â Â Â Â Â Â Â Â <span class="ltx_text ltx_font_bold" id="alg1.l13.2">break</span>
</div>
<div class="ltx_listingline" id="alg1.l14">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l14.1.1.1" style="font-size:80%;">14:</span></span>Â Â Â Â Â <span class="ltx_text ltx_font_bold" id="alg1.l14.2">end</span>Â <span class="ltx_text ltx_font_bold" id="alg1.l14.3">if</span>
</div>
<div class="ltx_listingline" id="alg1.l15">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l15.1.1.1" style="font-size:80%;">15:</span></span>Â Â <span class="ltx_text ltx_font_bold" id="alg1.l15.2">end</span>Â <span class="ltx_text ltx_font_bold" id="alg1.l15.3">while</span>
</div>
<div class="ltx_listingline" id="alg1.l16">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l16.1.1.1" style="font-size:80%;">16:</span></span>Â Â <span class="ltx_text ltx_font_bold" id="alg1.l16.2">return</span> Â <math alttext="I_{r}" class="ltx_Math" display="inline" id="alg1.l16.m1.1"><semantics id="alg1.l16.m1.1a"><msub id="alg1.l16.m1.1.1" xref="alg1.l16.m1.1.1.cmml"><mi id="alg1.l16.m1.1.1.2" xref="alg1.l16.m1.1.1.2.cmml">I</mi><mi id="alg1.l16.m1.1.1.3" xref="alg1.l16.m1.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l16.m1.1b"><apply id="alg1.l16.m1.1.1.cmml" xref="alg1.l16.m1.1.1"><csymbol cd="ambiguous" id="alg1.l16.m1.1.1.1.cmml" xref="alg1.l16.m1.1.1">subscript</csymbol><ci id="alg1.l16.m1.1.1.2.cmml" xref="alg1.l16.m1.1.1.2">ğ¼</ci><ci id="alg1.l16.m1.1.1.3.cmml" xref="alg1.l16.m1.1.1.3">ğ‘Ÿ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m1.1c">I_{r}</annotation><annotation encoding="application/x-llamapun" id="alg1.l16.m1.1d">italic_I start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math>
</div>
</div>
</figure>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Experiments</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we conduct experiments to answer the following research questions (RQ):</p>
</div>
<div class="ltx_para" id="S4.p2">
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i1.p1.1.1">RQ1</span>: Can AFL enhance performance in both the recommendation task and the user behavior simulation task?</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p1.1.1">RQ2</span>: What are the effects of the key components of AFL?</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I1.i3.p1">
<p class="ltx_p" id="S4.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i3.p1.1.1">RQ3</span>: Does AFL amplify biases in the feedback loop?</p>
</div>
</li>
</ul>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Experimental Setup</h3>
<section class="ltx_subsubsection" id="S4.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.1. </span>Datasets</h4>
<div class="ltx_para" id="S4.SS1.SSS1.p1">
<p class="ltx_p" id="S4.SS1.SSS1.p1.1">We choose three widely used recommendation datasets - LastfmÂ <cite class="ltx_cite ltx_citemacro_citep">(Cantador etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib6" title="">2011</a>)</cite>, SteamÂ <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib21" title="">2018</a>)</cite>, and MovieLensÂ <cite class="ltx_cite ltx_citemacro_citep">(Harper and Konstan, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib15" title="">2015</a>)</cite> for our experiments to verify the performance of the recommendation agent and the user agent.
We sort the sequences of each dataset according to time and then divide the data into training, validation, and test sets in the ratio of 8:1:1, which ensures that subsequent interactions are excluded from the training dataÂ <cite class="ltx_cite ltx_citemacro_citep">(Ji etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib20" title="">2023</a>)</cite>.
In practice, the training set and validation set are used for the training and validation of the recommendation agentâ€™s recommendation model and the user agentâ€™s reward model.
Notably, due to the large size of the Steam test set, we randomly sampled 200 data points to align with the number of test samples in the Lastfm and MovieLens datasets.
The statistics of these datasets are provided in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.T3" title="Table 3 â€£ 4.1.2. Evaluation Setting â€£ 4.1. Experimental Setup â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">3</span></a>, and the detailed information on these datasets is as follows:</p>
<ul class="ltx_itemize" id="S4.I2">
<li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i1.p1.1"><span class="ltx_text ltx_font_italic" id="S4.I2.i1.p1.1.1">Lastfm</span> contains a rich set of user-artist listening records collected from the Last.fm platform.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.p1.1"><span class="ltx_text ltx_font_italic" id="S4.I2.i2.p1.1.1">Steam</span> is a dataset of user reviews from the Steam store. Following LLaRAÂ <cite class="ltx_cite ltx_citemacro_citep">(Liao etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib22" title="">2024</a>)</cite>, we filtered out users with fewer than 20 reviews and randomly sampled one-third of the remaining users and games to ensure a manageable dataset size.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i3.p1.1"><span class="ltx_text ltx_font_italic" id="S4.I2.i3.p1.1.1">MovieLens</span> is a popular dataset for movie recommendation, containing user ratings and multiple subset sizes. To minimize API call costs, we used the MovieLens100k subset in our experiments.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.2. </span>Evaluation Setting</h4>
<div class="ltx_para" id="S4.SS1.SSS2.p1">
<p class="ltx_p" id="S4.SS1.SSS2.p1.1">Since AFL builds both a recommendation agent and a user agent, our experiments evaluate the performance of both recommendation and user simulation.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSS2.p2">
<p class="ltx_p" id="S4.SS1.SSS2.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.SSS2.p2.1.1">For the recommendation task</span>, we adopt the experimental setup of LLaRAÂ <cite class="ltx_cite ltx_citemacro_citep">(Liao etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib22" title="">2024</a>)</cite>.
Given a userâ€™s interaction history, we first combine the next item the user will interact with and 19 randomly sampled items that the user has not interacted with, forming a candidate list of 20 items.
The modelâ€™s ability to identify the correct item is evaluated using HitRatio@1.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSS2.p3">
<p class="ltx_p" id="S4.SS1.SSS2.p3.2"><span class="ltx_text ltx_font_bold" id="S4.SS1.SSS2.p3.2.1">For the user simulation task</span>, we refer to the experimental setup of Agent4RecÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib41" title="">2024b</a>)</cite>.
Each user agent is randomly assigned 20 items.
Among these, the ratio between positive items and negative items is set as <math alttext="1:k" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p3.1.m1.1"><semantics id="S4.SS1.SSS2.p3.1.m1.1a"><mrow id="S4.SS1.SSS2.p3.1.m1.1.1" xref="S4.SS1.SSS2.p3.1.m1.1.1.cmml"><mn id="S4.SS1.SSS2.p3.1.m1.1.1.2" xref="S4.SS1.SSS2.p3.1.m1.1.1.2.cmml">1</mn><mo id="S4.SS1.SSS2.p3.1.m1.1.1.1" lspace="0.278em" rspace="0.278em" xref="S4.SS1.SSS2.p3.1.m1.1.1.1.cmml">:</mo><mi id="S4.SS1.SSS2.p3.1.m1.1.1.3" xref="S4.SS1.SSS2.p3.1.m1.1.1.3.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p3.1.m1.1b"><apply id="S4.SS1.SSS2.p3.1.m1.1.1.cmml" xref="S4.SS1.SSS2.p3.1.m1.1.1"><ci id="S4.SS1.SSS2.p3.1.m1.1.1.1.cmml" xref="S4.SS1.SSS2.p3.1.m1.1.1.1">:</ci><cn id="S4.SS1.SSS2.p3.1.m1.1.1.2.cmml" type="integer" xref="S4.SS1.SSS2.p3.1.m1.1.1.2">1</cn><ci id="S4.SS1.SSS2.p3.1.m1.1.1.3.cmml" xref="S4.SS1.SSS2.p3.1.m1.1.1.3">ğ‘˜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p3.1.m1.1c">1:k</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p3.1.m1.1d">1 : italic_k</annotation></semantics></math>, with <math alttext="k\in\{1,3,9\}" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p3.2.m2.3"><semantics id="S4.SS1.SSS2.p3.2.m2.3a"><mrow id="S4.SS1.SSS2.p3.2.m2.3.4" xref="S4.SS1.SSS2.p3.2.m2.3.4.cmml"><mi id="S4.SS1.SSS2.p3.2.m2.3.4.2" xref="S4.SS1.SSS2.p3.2.m2.3.4.2.cmml">k</mi><mo id="S4.SS1.SSS2.p3.2.m2.3.4.1" xref="S4.SS1.SSS2.p3.2.m2.3.4.1.cmml">âˆˆ</mo><mrow id="S4.SS1.SSS2.p3.2.m2.3.4.3.2" xref="S4.SS1.SSS2.p3.2.m2.3.4.3.1.cmml"><mo id="S4.SS1.SSS2.p3.2.m2.3.4.3.2.1" stretchy="false" xref="S4.SS1.SSS2.p3.2.m2.3.4.3.1.cmml">{</mo><mn id="S4.SS1.SSS2.p3.2.m2.1.1" xref="S4.SS1.SSS2.p3.2.m2.1.1.cmml">1</mn><mo id="S4.SS1.SSS2.p3.2.m2.3.4.3.2.2" xref="S4.SS1.SSS2.p3.2.m2.3.4.3.1.cmml">,</mo><mn id="S4.SS1.SSS2.p3.2.m2.2.2" xref="S4.SS1.SSS2.p3.2.m2.2.2.cmml">3</mn><mo id="S4.SS1.SSS2.p3.2.m2.3.4.3.2.3" xref="S4.SS1.SSS2.p3.2.m2.3.4.3.1.cmml">,</mo><mn id="S4.SS1.SSS2.p3.2.m2.3.3" xref="S4.SS1.SSS2.p3.2.m2.3.3.cmml">9</mn><mo id="S4.SS1.SSS2.p3.2.m2.3.4.3.2.4" stretchy="false" xref="S4.SS1.SSS2.p3.2.m2.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p3.2.m2.3b"><apply id="S4.SS1.SSS2.p3.2.m2.3.4.cmml" xref="S4.SS1.SSS2.p3.2.m2.3.4"><in id="S4.SS1.SSS2.p3.2.m2.3.4.1.cmml" xref="S4.SS1.SSS2.p3.2.m2.3.4.1"></in><ci id="S4.SS1.SSS2.p3.2.m2.3.4.2.cmml" xref="S4.SS1.SSS2.p3.2.m2.3.4.2">ğ‘˜</ci><set id="S4.SS1.SSS2.p3.2.m2.3.4.3.1.cmml" xref="S4.SS1.SSS2.p3.2.m2.3.4.3.2"><cn id="S4.SS1.SSS2.p3.2.m2.1.1.cmml" type="integer" xref="S4.SS1.SSS2.p3.2.m2.1.1">1</cn><cn id="S4.SS1.SSS2.p3.2.m2.2.2.cmml" type="integer" xref="S4.SS1.SSS2.p3.2.m2.2.2">3</cn><cn id="S4.SS1.SSS2.p3.2.m2.3.3.cmml" type="integer" xref="S4.SS1.SSS2.p3.2.m2.3.3">9</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p3.2.m2.3c">k\in\{1,3,9\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p3.2.m2.3d">italic_k âˆˆ { 1 , 3 , 9 }</annotation></semantics></math>.
Here, positive items refer to those that the user has interacted with but were not used for agent initialization, while negative items correspond to those the user has not interacted with.
For each item, the user agent needs to determine whether it likes the item.
Under this setting, the response of the user agent to each item can be regarded as binary discrimination.
Thus, we can use precision, recall, and F1 scores to evaluate the performance of user simulation.</p>
</div>
<figure class="ltx_table" id="S4.T3">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3. </span><span class="ltx_text ltx_font_bold" id="S4.T3.2.1">Statistics of datasets.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T3.3">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T3.3.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T3.3.1.1.1">Dataset</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S4.T3.3.1.1.2">#Sequence</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S4.T3.3.1.1.3">#Item</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S4.T3.3.1.1.4">#Interaction</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.3.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T3.3.2.1.1">Lastfm</th>
<td class="ltx_td ltx_align_right ltx_border_tt" id="S4.T3.3.2.1.2">1,220</td>
<td class="ltx_td ltx_align_right ltx_border_tt" id="S4.T3.3.2.1.3">4,606</td>
<td class="ltx_td ltx_align_right ltx_border_tt" id="S4.T3.3.2.1.4">73,510</td>
</tr>
<tr class="ltx_tr" id="S4.T3.3.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T3.3.3.2.1">Steam</th>
<td class="ltx_td ltx_align_right" id="S4.T3.3.3.2.2">11,938</td>
<td class="ltx_td ltx_align_right" id="S4.T3.3.3.2.3">3,581</td>
<td class="ltx_td ltx_align_right" id="S4.T3.3.3.2.4">274,726</td>
</tr>
<tr class="ltx_tr" id="S4.T3.3.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T3.3.4.3.1">MovieLens</th>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S4.T3.3.4.3.2">943</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S4.T3.3.4.3.3">1,682</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S4.T3.3.4.3.4">100,000</td>
</tr>
</tbody>
</table>
</figure>
<figure class="ltx_table" id="S4.T4">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4. </span>The recommendation performance of AFL compared with â€œBase Modelâ€ and â€œRec Agentâ€.
Bold indicates the best performance.
The maximum number of feedback loop iterations for AFL is 4.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T4.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T4.1.1.1">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T4.1.1.1.1" rowspan="2" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text" id="S4.T4.1.1.1.1.1">Type</span></th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S4.T4.1.1.1.2" rowspan="2" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text" id="S4.T4.1.1.1.2.1">Model</span></th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_tt" colspan="3" id="S4.T4.1.1.1.3" style="padding-left:0.0pt;padding-right:0.0pt;">Lastfm</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_tt" colspan="3" id="S4.T4.1.1.1.4" style="padding-left:0.0pt;padding-right:0.0pt;">Steam</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" colspan="3" id="S4.T4.1.1.1.5" style="padding-left:0.0pt;padding-right:0.0pt;">MovieLens</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.2.2">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.2.2.1" style="padding-left:0.0pt;padding-right:0.0pt;">Base Model</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.2.2.2" style="padding-left:0.0pt;padding-right:0.0pt;">Rec Agent</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" id="S4.T4.1.2.2.3" style="padding-left:0.0pt;padding-right:0.0pt;">AFL</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.2.2.4" style="padding-left:0.0pt;padding-right:0.0pt;">Base Model</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.2.2.5" style="padding-left:0.0pt;padding-right:0.0pt;">Rec Agent</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" id="S4.T4.1.2.2.6" style="padding-left:0.0pt;padding-right:0.0pt;">AFL</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.2.2.7" style="padding-left:0.0pt;padding-right:0.0pt;">Base Model</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.2.2.8" style="padding-left:0.0pt;padding-right:0.0pt;">Rec Agent</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.2.2.9" style="padding-left:0.0pt;padding-right:0.0pt;">AFL</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.3.3">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T4.1.3.3.1" rowspan="3" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text" id="S4.T4.1.3.3.1.1">Traditional</span></th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S4.T4.1.3.3.2" style="padding-left:0.0pt;padding-right:0.0pt;">SASRec</th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" id="S4.T4.1.3.3.3" style="padding-left:0.0pt;padding-right:0.0pt;">0.2869</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" id="S4.T4.1.3.3.4" style="padding-left:0.0pt;padding-right:0.0pt;">0.3197</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_tt" id="S4.T4.1.3.3.5" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.3.5.1">0.3770</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" id="S4.T4.1.3.3.6" style="padding-left:0.0pt;padding-right:0.0pt;">0.3800</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" id="S4.T4.1.3.3.7" style="padding-left:0.0pt;padding-right:0.0pt;">0.3900</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_tt" id="S4.T4.1.3.3.8" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.3.8.1">0.4100</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" id="S4.T4.1.3.3.9" style="padding-left:0.0pt;padding-right:0.0pt;">0.4105</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" id="S4.T4.1.3.3.10" style="padding-left:0.0pt;padding-right:0.0pt;">0.4105</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" id="S4.T4.1.3.3.11" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.3.11.1">0.4316</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.4.4">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.4.4.1" style="padding-left:0.0pt;padding-right:0.0pt;">GRU4Rec</th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.4.4.2" style="padding-left:0.0pt;padding-right:0.0pt;">0.2787</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.4.4.3" style="padding-left:0.0pt;padding-right:0.0pt;">0.3114</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" id="S4.T4.1.4.4.4" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.4.4.4.1">0.3770</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.4.4.5" style="padding-left:0.0pt;padding-right:0.0pt;">0.3750</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.4.4.6" style="padding-left:0.0pt;padding-right:0.0pt;">0.3850</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" id="S4.T4.1.4.4.7" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.4.4.7.1">0.4100</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.4.4.8" style="padding-left:0.0pt;padding-right:0.0pt;">0.4526</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.4.4.9" style="padding-left:0.0pt;padding-right:0.0pt;">0.4526</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.4.4.10" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.4.4.10.1">0.4632</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.5.5">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.5.5.1" style="padding-left:0.0pt;padding-right:0.0pt;">Caser</th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.5.5.2" style="padding-left:0.0pt;padding-right:0.0pt;">0.2705</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.5.5.3" style="padding-left:0.0pt;padding-right:0.0pt;">0.2705</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" id="S4.T4.1.5.5.4" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.5.5.4.1">0.3443</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.5.5.5" style="padding-left:0.0pt;padding-right:0.0pt;">0.4200</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.5.5.6" style="padding-left:0.0pt;padding-right:0.0pt;">0.4150</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" id="S4.T4.1.5.5.7" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.5.5.7.1">0.4500</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.5.5.8" style="padding-left:0.0pt;padding-right:0.0pt;">0.3789</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.5.5.9" style="padding-left:0.0pt;padding-right:0.0pt;">0.3895</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.5.5.10" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.5.5.10.1">0.4000</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.6.6">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="S4.T4.1.6.6.1" rowspan="4" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text" id="S4.T4.1.6.6.1.1">LLM-based</span></th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.1.6.6.2" style="padding-left:0.0pt;padding-right:0.0pt;">MoRec</th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T4.1.6.6.3" style="padding-left:0.0pt;padding-right:0.0pt;">0.1639</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T4.1.6.6.4" style="padding-left:0.0pt;padding-right:0.0pt;">0.2131</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" id="S4.T4.1.6.6.5" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.6.6.5.1">0.3115</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T4.1.6.6.6" style="padding-left:0.0pt;padding-right:0.0pt;">0.4100</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T4.1.6.6.7" style="padding-left:0.0pt;padding-right:0.0pt;">0.4200</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" id="S4.T4.1.6.6.8" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.6.6.8.1">0.4250</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T4.1.6.6.9" style="padding-left:0.0pt;padding-right:0.0pt;">0.3158</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T4.1.6.6.10" style="padding-left:0.0pt;padding-right:0.0pt;">0.3158</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T4.1.6.6.11" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.6.6.11.1">0.3474</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.7.7">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.7.7.1" style="padding-left:0.0pt;padding-right:0.0pt;">Llama3-8B</th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.7.7.2" style="padding-left:0.0pt;padding-right:0.0pt;">0.2131</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.7.7.3" style="padding-left:0.0pt;padding-right:0.0pt;">0.2541</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" id="S4.T4.1.7.7.4" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.7.7.4.1">0.2869</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.7.7.5" style="padding-left:0.0pt;padding-right:0.0pt;">0.1800</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.7.7.6" style="padding-left:0.0pt;padding-right:0.0pt;">0.2250</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" id="S4.T4.1.7.7.7" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.7.7.7.1">0.3000</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.7.7.8" style="padding-left:0.0pt;padding-right:0.0pt;">0.1368</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.7.7.9" style="padding-left:0.0pt;padding-right:0.0pt;">0.1368</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.7.7.10" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.7.7.10.1">0.1684</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.8.8">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.8.8.1" style="padding-left:0.0pt;padding-right:0.0pt;">GPT-4o-mini</th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.8.8.2" style="padding-left:0.0pt;padding-right:0.0pt;">0.3607</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.8.8.3" style="padding-left:0.0pt;padding-right:0.0pt;">0.3607</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" id="S4.T4.1.8.8.4" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.8.8.4.1">0.3770</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.8.8.5" style="padding-left:0.0pt;padding-right:0.0pt;">0.3350</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.8.8.6" style="padding-left:0.0pt;padding-right:0.0pt;">0.3400</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" id="S4.T4.1.8.8.7" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.8.8.7.1">0.3500</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.8.8.8" style="padding-left:0.0pt;padding-right:0.0pt;">0.1368</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.8.8.9" style="padding-left:0.0pt;padding-right:0.0pt;">0.1368</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S4.T4.1.8.8.10" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.8.8.10.1">0.1579</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.9.9">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S4.T4.1.9.9.1" style="padding-left:0.0pt;padding-right:0.0pt;">LLaRA</th>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S4.T4.1.9.9.2" style="padding-left:0.0pt;padding-right:0.0pt;">0.4426</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S4.T4.1.9.9.3" style="padding-left:0.0pt;padding-right:0.0pt;">0.4426</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_r" id="S4.T4.1.9.9.4" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.9.9.4.1">0.4836</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S4.T4.1.9.9.5" style="padding-left:0.0pt;padding-right:0.0pt;">0.4650</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S4.T4.1.9.9.6" style="padding-left:0.0pt;padding-right:0.0pt;">0.4650</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_r" id="S4.T4.1.9.9.7" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.9.9.7.1">0.4750</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S4.T4.1.9.9.8" style="padding-left:0.0pt;padding-right:0.0pt;">0.4842</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S4.T4.1.9.9.9" style="padding-left:0.0pt;padding-right:0.0pt;">0.4842</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S4.T4.1.9.9.10" style="padding-left:0.0pt;padding-right:0.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.9.9.10.1">0.4947</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.3. </span>Base Models</h4>
<div class="ltx_para" id="S4.SS1.SSS3.p1">
<p class="ltx_p" id="S4.SS1.SSS3.p1.1">We have chosen a variety of models as the base models to serve as the recommendation model for the recommendation agent.
These models can be broadly categorized into traditional recommendation models and LLM-based models.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSS3.p2">
<p class="ltx_p" id="S4.SS1.SSS3.p2.1">The traditional recommendation models are as follows:</p>
<ul class="ltx_itemize" id="S4.I3">
<li class="ltx_item" id="S4.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I3.i1.p1">
<p class="ltx_p" id="S4.I3.i1.p1.1"><span class="ltx_text ltx_font_italic" id="S4.I3.i1.p1.1.1">SASRec</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib21" title="">2018</a>)</cite> is an attention-based sequential model that effectively captures long-term semantic dependencies in both sparse and dense datasets.</p>
</div>
</li>
<li class="ltx_item" id="S4.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I3.i2.p1">
<p class="ltx_p" id="S4.I3.i2.p1.1"><span class="ltx_text ltx_font_italic" id="S4.I3.i2.p1.1.1">GRU4Rec</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Hidasi etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib17" title="">2016</a>)</cite> is an RNN-based model that is relatively simple yet highly efficient.</p>
</div>
</li>
<li class="ltx_item" id="S4.I3.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I3.i3.p1">
<p class="ltx_p" id="S4.I3.i3.p1.1"><span class="ltx_text ltx_font_italic" id="S4.I3.i3.p1.1.1">Caser</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Tang and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib30" title="">2018</a>)</cite> treats the userâ€™s historical behavior sequence as an â€œimageâ€ and utilizes CNN to extract features from this sequence.</p>
</div>
</li>
</ul>
<p class="ltx_p" id="S4.SS1.SSS3.p2.2">The LLM-based models are as follows:</p>
<ul class="ltx_itemize" id="S4.I4">
<li class="ltx_item" id="S4.I4.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I4.i1.p1">
<p class="ltx_p" id="S4.I4.i1.p1.1"><span class="ltx_text ltx_font_italic" id="S4.I4.i1.p1.1.1">MoRec</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Yuan etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib40" title="">2023</a>)</cite> improves traditional recommendation models by incorporating modality features of items.</p>
</div>
</li>
<li class="ltx_item" id="S4.I4.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I4.i2.p1">
<p class="ltx_p" id="S4.I4.i2.p1.1"><span class="ltx_text ltx_font_italic" id="S4.I4.i2.p1.1.1">Llama3</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Grattafiori etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib14" title="">2024</a>)</cite> is one of the most popular open-source LLMs.</p>
</div>
</li>
<li class="ltx_item" id="S4.I4.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I4.i3.p1">
<p class="ltx_p" id="S4.I4.i3.p1.1"><span class="ltx_text ltx_font_italic" id="S4.I4.i3.p1.1.1">GPT-4o-mini</span>Â <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib25" title="">2024</a>)</cite> is one of the most powerful commercial models, capable of handling a wide range of complex tasks.</p>
</div>
</li>
<li class="ltx_item" id="S4.I4.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I4.i4.p1">
<p class="ltx_p" id="S4.I4.i4.p1.1"><span class="ltx_text ltx_font_italic" id="S4.I4.i4.p1.1.1">LLaRA</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Liao etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib22" title="">2024</a>)</cite> utilizes the hybrid item representation to combine LLMs with traditional recommendation models, and it applies a curriculum learning approach to gradually increase the complexity of training.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.4. </span>Implementation Details</h4>
<div class="ltx_para" id="S4.SS1.SSS4.p1">
<p class="ltx_p" id="S4.SS1.SSS4.p1.2">To build agents, we utilized the â€œGPT-4o-mini-2024-07-18â€<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://platform.openai.com/docs/models/gpt-4o-mini" title="">https://platform.openai.com/docs/models/gpt-4o-mini</a>.</span></span></span> API provided by OpenAI.
As discussed in SectionsÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.SS2" title="3.2. Recommendation Agent â€£ 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">3.2</span></a> and Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S3.SS3" title="3.3. User Agent â€£ 3. Method â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">3.3</span></a>, the recommendation model within the recommendation agent is flexible and adaptable, whereas the reward model of the user agent remains fixed.
In practice, the recommendation model differs among the base models outlined in SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS1.SSS3" title="4.1.3. Base Models â€£ 4.1. Experimental Setup â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4.1.3</span></a>, while the reward model is consistently implemented using SASRec.
For traditional models, we strictly followÂ <cite class="ltx_cite ltx_citemacro_citep">(Yang etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib38" title="">2023</a>)</cite>, with a learning rate of 0.001, an embedding dimension of 64, and a batch size of 256.
Whatâ€™s more, we also perform a grid search over the values <math alttext="[1e-3,1e-4,1e-5,1e-6,1e-7]" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p1.1.m1.5"><semantics id="S4.SS1.SSS4.p1.1.m1.5a"><mrow id="S4.SS1.SSS4.p1.1.m1.5.5.5" xref="S4.SS1.SSS4.p1.1.m1.5.5.6.cmml"><mo id="S4.SS1.SSS4.p1.1.m1.5.5.5.6" stretchy="false" xref="S4.SS1.SSS4.p1.1.m1.5.5.6.cmml">[</mo><mrow id="S4.SS1.SSS4.p1.1.m1.1.1.1.1" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1.cmml"><mrow id="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.cmml"><mn id="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.2" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.2.cmml">1</mn><mo id="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.1" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.1.cmml">â¢</mo><mi id="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.3" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.3.cmml">e</mi></mrow><mo id="S4.SS1.SSS4.p1.1.m1.1.1.1.1.1" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1.1.cmml">âˆ’</mo><mn id="S4.SS1.SSS4.p1.1.m1.1.1.1.1.3" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1.3.cmml">3</mn></mrow><mo id="S4.SS1.SSS4.p1.1.m1.5.5.5.7" xref="S4.SS1.SSS4.p1.1.m1.5.5.6.cmml">,</mo><mrow id="S4.SS1.SSS4.p1.1.m1.2.2.2.2" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2.cmml"><mrow id="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.cmml"><mn id="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.2" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.2.cmml">1</mn><mo id="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.1" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.1.cmml">â¢</mo><mi id="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.3" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.3.cmml">e</mi></mrow><mo id="S4.SS1.SSS4.p1.1.m1.2.2.2.2.1" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2.1.cmml">âˆ’</mo><mn id="S4.SS1.SSS4.p1.1.m1.2.2.2.2.3" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2.3.cmml">4</mn></mrow><mo id="S4.SS1.SSS4.p1.1.m1.5.5.5.8" xref="S4.SS1.SSS4.p1.1.m1.5.5.6.cmml">,</mo><mrow id="S4.SS1.SSS4.p1.1.m1.3.3.3.3" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3.cmml"><mrow id="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.cmml"><mn id="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.2" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.2.cmml">1</mn><mo id="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.1" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.1.cmml">â¢</mo><mi id="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.3" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.3.cmml">e</mi></mrow><mo id="S4.SS1.SSS4.p1.1.m1.3.3.3.3.1" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3.1.cmml">âˆ’</mo><mn id="S4.SS1.SSS4.p1.1.m1.3.3.3.3.3" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3.3.cmml">5</mn></mrow><mo id="S4.SS1.SSS4.p1.1.m1.5.5.5.9" xref="S4.SS1.SSS4.p1.1.m1.5.5.6.cmml">,</mo><mrow id="S4.SS1.SSS4.p1.1.m1.4.4.4.4" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4.cmml"><mrow id="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.cmml"><mn id="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.2" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.2.cmml">1</mn><mo id="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.1" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.1.cmml">â¢</mo><mi id="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.3" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.3.cmml">e</mi></mrow><mo id="S4.SS1.SSS4.p1.1.m1.4.4.4.4.1" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4.1.cmml">âˆ’</mo><mn id="S4.SS1.SSS4.p1.1.m1.4.4.4.4.3" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4.3.cmml">6</mn></mrow><mo id="S4.SS1.SSS4.p1.1.m1.5.5.5.10" xref="S4.SS1.SSS4.p1.1.m1.5.5.6.cmml">,</mo><mrow id="S4.SS1.SSS4.p1.1.m1.5.5.5.5" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5.cmml"><mrow id="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.cmml"><mn id="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.2" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.2.cmml">1</mn><mo id="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.1" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.1.cmml">â¢</mo><mi id="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.3" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.3.cmml">e</mi></mrow><mo id="S4.SS1.SSS4.p1.1.m1.5.5.5.5.1" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5.1.cmml">âˆ’</mo><mn id="S4.SS1.SSS4.p1.1.m1.5.5.5.5.3" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5.3.cmml">7</mn></mrow><mo id="S4.SS1.SSS4.p1.1.m1.5.5.5.11" stretchy="false" xref="S4.SS1.SSS4.p1.1.m1.5.5.6.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p1.1.m1.5b"><list id="S4.SS1.SSS4.p1.1.m1.5.5.6.cmml" xref="S4.SS1.SSS4.p1.1.m1.5.5.5"><apply id="S4.SS1.SSS4.p1.1.m1.1.1.1.1.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1"><minus id="S4.SS1.SSS4.p1.1.m1.1.1.1.1.1.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1.1"></minus><apply id="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2"><times id="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.1.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.1"></times><cn id="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.2.cmml" type="integer" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.2">1</cn><ci id="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.3.cmml" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1.2.3">ğ‘’</ci></apply><cn id="S4.SS1.SSS4.p1.1.m1.1.1.1.1.3.cmml" type="integer" xref="S4.SS1.SSS4.p1.1.m1.1.1.1.1.3">3</cn></apply><apply id="S4.SS1.SSS4.p1.1.m1.2.2.2.2.cmml" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2"><minus id="S4.SS1.SSS4.p1.1.m1.2.2.2.2.1.cmml" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2.1"></minus><apply id="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.cmml" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2"><times id="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.1.cmml" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.1"></times><cn id="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.2.cmml" type="integer" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.2">1</cn><ci id="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.3.cmml" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2.2.3">ğ‘’</ci></apply><cn id="S4.SS1.SSS4.p1.1.m1.2.2.2.2.3.cmml" type="integer" xref="S4.SS1.SSS4.p1.1.m1.2.2.2.2.3">4</cn></apply><apply id="S4.SS1.SSS4.p1.1.m1.3.3.3.3.cmml" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3"><minus id="S4.SS1.SSS4.p1.1.m1.3.3.3.3.1.cmml" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3.1"></minus><apply id="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.cmml" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2"><times id="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.1.cmml" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.1"></times><cn id="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.2.cmml" type="integer" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.2">1</cn><ci id="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.3.cmml" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3.2.3">ğ‘’</ci></apply><cn id="S4.SS1.SSS4.p1.1.m1.3.3.3.3.3.cmml" type="integer" xref="S4.SS1.SSS4.p1.1.m1.3.3.3.3.3">5</cn></apply><apply id="S4.SS1.SSS4.p1.1.m1.4.4.4.4.cmml" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4"><minus id="S4.SS1.SSS4.p1.1.m1.4.4.4.4.1.cmml" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4.1"></minus><apply id="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.cmml" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2"><times id="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.1.cmml" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.1"></times><cn id="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.2.cmml" type="integer" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.2">1</cn><ci id="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.3.cmml" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4.2.3">ğ‘’</ci></apply><cn id="S4.SS1.SSS4.p1.1.m1.4.4.4.4.3.cmml" type="integer" xref="S4.SS1.SSS4.p1.1.m1.4.4.4.4.3">6</cn></apply><apply id="S4.SS1.SSS4.p1.1.m1.5.5.5.5.cmml" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5"><minus id="S4.SS1.SSS4.p1.1.m1.5.5.5.5.1.cmml" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5.1"></minus><apply id="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.cmml" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2"><times id="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.1.cmml" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.1"></times><cn id="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.2.cmml" type="integer" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.2">1</cn><ci id="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.3.cmml" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5.2.3">ğ‘’</ci></apply><cn id="S4.SS1.SSS4.p1.1.m1.5.5.5.5.3.cmml" type="integer" xref="S4.SS1.SSS4.p1.1.m1.5.5.5.5.3">7</cn></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p1.1.m1.5c">[1e-3,1e-4,1e-5,1e-6,1e-7]</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p1.1.m1.5d">[ 1 italic_e - 3 , 1 italic_e - 4 , 1 italic_e - 5 , 1 italic_e - 6 , 1 italic_e - 7 ]</annotation></semantics></math> to determine the optimal coefficient for L2 regularization.
For LLMs-based models, we follow LLaRAÂ <cite class="ltx_cite ltx_citemacro_citep">(Liao etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib22" title="">2024</a>)</cite> and train the models for up to 5 epochs with a batch size of 128.
Moreover, we use a warm-up strategy, starting the learning rate at <math alttext="\frac{1}{100}" class="ltx_Math" display="inline" id="S4.SS1.SSS4.p1.2.m2.1"><semantics id="S4.SS1.SSS4.p1.2.m2.1a"><mfrac id="S4.SS1.SSS4.p1.2.m2.1.1" xref="S4.SS1.SSS4.p1.2.m2.1.1.cmml"><mn id="S4.SS1.SSS4.p1.2.m2.1.1.2" xref="S4.SS1.SSS4.p1.2.m2.1.1.2.cmml">1</mn><mn id="S4.SS1.SSS4.p1.2.m2.1.1.3" xref="S4.SS1.SSS4.p1.2.m2.1.1.3.cmml">100</mn></mfrac><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS4.p1.2.m2.1b"><apply id="S4.SS1.SSS4.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS4.p1.2.m2.1.1"><divide id="S4.SS1.SSS4.p1.2.m2.1.1.1.cmml" xref="S4.SS1.SSS4.p1.2.m2.1.1"></divide><cn id="S4.SS1.SSS4.p1.2.m2.1.1.2.cmml" type="integer" xref="S4.SS1.SSS4.p1.2.m2.1.1.2">1</cn><cn id="S4.SS1.SSS4.p1.2.m2.1.1.3.cmml" type="integer" xref="S4.SS1.SSS4.p1.2.m2.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS4.p1.2.m2.1c">\frac{1}{100}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS4.p1.2.m2.1d">divide start_ARG 1 end_ARG start_ARG 100 end_ARG</annotation></semantics></math> of the maximum and gradually increasing it with a cosine scheduler during training.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Effectiveness of AFL (RQ1)</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">In this section, we validate the effectiveness of AFL.
Specifically, this section includes: (1) the improvement in recommendation performance (SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS2.SSS1" title="4.2.1. Recommendation Performance â€£ 4.2. Effectiveness of AFL (RQ1) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4.2.1</span></a>), (2) the improvement in user simulation performance (SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS2.SSS2" title="4.2.2. User Simulation Performance â€£ 4.2. Effectiveness of AFL (RQ1) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4.2.2</span></a>), and (3) a case study illustrating the agent collaboration mechanism behind the effectiveness of the feedback loop (SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS2.SSS3" title="4.2.3. Case Study â€£ 4.2. Effectiveness of AFL (RQ1) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4.2.3</span></a>).</p>
</div>
<section class="ltx_subsubsection" id="S4.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.1. </span>Recommendation Performance</h4>
<div class="ltx_para" id="S4.SS2.SSS1.p1">
<p class="ltx_p" id="S4.SS2.SSS1.p1.1">In this section, we explore whether AFL can improve the performance of recommendation agents equipped with various base models.
Thus, the user agentâ€™s reward model is consistently implemented using the SASRec model, while the recommendation agentâ€™s recommendation model is varied among different base models described in SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS1.SSS3" title="4.1.3. Base Models â€£ 4.1. Experimental Setup â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4.1.3</span></a>.
For convenience, we define the term â€œBase Modelâ€ as directly recommending items using the original base model.
In contrast, the term â€œRec Agentâ€ refers to directly using the recommendation agent equipped with the corresponding base model to recommend items.
The comprehensive experimental results can be found in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.T4" title="Table 4 â€£ 4.1.2. Evaluation Setting â€£ 4.1. Experimental Setup â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS1.p2">
<p class="ltx_p" id="S4.SS2.SSS1.p2.1">Based on the experimental results presented in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.T4" title="Table 4 â€£ 4.1.2. Evaluation Setting â€£ 4.1. Experimental Setup â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4</span></a>, we have drawn the following findings and conclusions:
(1) First, the recommendation agent equipped with the recommendation model outperforms or performs equally well compared to the original base model in most cases.
This finding underscores the ability of the LLM-based recommendation agent to leverage the extensive world knowledge and sophisticated reasoning capabilities inherent in LLMs to improve recommendation accuracy.
(2) Moreover, the AFL, which is based on the feedback loop, demonstrates a significantly greater improvement than the use of a standalone recommendation agent.
This result emphasizes the critical role of the user agentâ€™s feedback in refining and optimizing the recommendation process, further improving the recommendation performance of the recommendation agent.
(3) Finally, it is important to highlight that by changing the recommendation model of the recommendation agent, AFL can improve the recommendation performance of various base models with unique frameworks, indicating that AFL has strong generalizability and transferability across different recommendation systems.
This underscores AFLâ€™s ability to adapt and enhance diverse approaches, making it a versatile and valuable framework in recommendation scenarios.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.2. </span>User Simulation Performance</h4>
<figure class="ltx_table" id="S4.T5">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5. </span>The user simulation performance of AFL compared with â€œReward Modelâ€ and â€œUser Agentâ€.
Bold results indicate the best results.
The maximum number of feedback loop iterations for AFL is 4.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T5.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T5.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T5.1.1.1" rowspan="2"><span class="ltx_text" id="S4.T5.1.1.1.1"><math alttext="1:k" class="ltx_Math" display="inline" id="S4.T5.1.1.1.1.m1.1"><semantics id="S4.T5.1.1.1.1.m1.1a"><mrow id="S4.T5.1.1.1.1.m1.1.1" xref="S4.T5.1.1.1.1.m1.1.1.cmml"><mn id="S4.T5.1.1.1.1.m1.1.1.2" xref="S4.T5.1.1.1.1.m1.1.1.2.cmml">1</mn><mo id="S4.T5.1.1.1.1.m1.1.1.1" lspace="0.278em" rspace="0.278em" xref="S4.T5.1.1.1.1.m1.1.1.1.cmml">:</mo><mi id="S4.T5.1.1.1.1.m1.1.1.3" xref="S4.T5.1.1.1.1.m1.1.1.3.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T5.1.1.1.1.m1.1b"><apply id="S4.T5.1.1.1.1.m1.1.1.cmml" xref="S4.T5.1.1.1.1.m1.1.1"><ci id="S4.T5.1.1.1.1.m1.1.1.1.cmml" xref="S4.T5.1.1.1.1.m1.1.1.1">:</ci><cn id="S4.T5.1.1.1.1.m1.1.1.2.cmml" type="integer" xref="S4.T5.1.1.1.1.m1.1.1.2">1</cn><ci id="S4.T5.1.1.1.1.m1.1.1.3.cmml" xref="S4.T5.1.1.1.1.m1.1.1.3">ğ‘˜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.1.1.1.1.m1.1c">1:k</annotation><annotation encoding="application/x-llamapun" id="S4.T5.1.1.1.1.m1.1d">1 : italic_k</annotation></semantics></math></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S4.T5.1.1.2" rowspan="2"><span class="ltx_text" id="S4.T5.1.1.2.1">Method</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="3" id="S4.T5.1.1.3">Lastfm</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="3" id="S4.T5.1.1.4">Steam</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3" id="S4.T5.1.1.5">Movielens</th>
</tr>
<tr class="ltx_tr" id="S4.T5.1.2.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T5.1.2.1.1">Precision</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T5.1.2.1.2">Recall</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T5.1.2.1.3">F1 Score</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T5.1.2.1.4">Precision</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T5.1.2.1.5">Recall</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T5.1.2.1.6">F1 Score</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T5.1.2.1.7">Precision</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T5.1.2.1.8">Recall</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T5.1.2.1.9">F1 Score</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T5.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T5.1.3.1.1" rowspan="3"><span class="ltx_text" id="S4.T5.1.3.1.1.1">1:1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S4.T5.1.3.1.2">Reward Model</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.3.1.3">0.6667</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.3.1.4">0.0533</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T5.1.3.1.5">0.0988</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.3.1.6">0.7826</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.3.1.7">0.6800</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T5.1.3.1.8">0.7277</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.3.1.9">0.6929</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.3.1.10">0.3800</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.3.1.11">0.4908</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.4.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T5.1.4.2.1">User Agent</th>
<td class="ltx_td ltx_align_center" id="S4.T5.1.4.2.2">0.8155</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.4.2.3">0.3467</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.4.2.4">0.4865</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.4.2.5">0.8031</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.4.2.6"><span class="ltx_text ltx_font_bold" id="S4.T5.1.4.2.6.1">0.6933</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.4.2.7">0.7422</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.4.2.8">0.7049</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.4.2.9">0.5133</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.4.2.10">0.5941</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.5.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T5.1.5.3.1">AFL</th>
<td class="ltx_td ltx_align_center" id="S4.T5.1.5.3.2"><span class="ltx_text ltx_font_bold" id="S4.T5.1.5.3.2.1">0.8504</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.5.3.3"><span class="ltx_text ltx_font_bold" id="S4.T5.1.5.3.3.1">0.5000</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.5.3.4"><span class="ltx_text ltx_font_bold" id="S4.T5.1.5.3.4.1">0.6297</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.5.3.5"><span class="ltx_text ltx_font_bold" id="S4.T5.1.5.3.5.1">0.8501</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.5.3.6">0.6700</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.5.3.7"><span class="ltx_text ltx_font_bold" id="S4.T5.1.5.3.7.1">0.7494</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.5.3.8"><span class="ltx_text ltx_font_bold" id="S4.T5.1.5.3.8.1">0.7065</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.5.3.9"><span class="ltx_text ltx_font_bold" id="S4.T5.1.5.3.9.1">0.5500</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.5.3.10"><span class="ltx_text ltx_font_bold" id="S4.T5.1.5.3.10.1">0.6185</span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.6.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T5.1.6.4.1" rowspan="3"><span class="ltx_text" id="S4.T5.1.6.4.1.1">1:3</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T5.1.6.4.2">Reward Model</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.6.4.3">0.4167</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.6.4.4">0.0571</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.1.6.4.5">0.1005</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.6.4.6">0.5791</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.6.4.7">0.7133</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.1.6.4.8">0.6393</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.6.4.9">0.5179</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.6.4.10">0.3077</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.6.4.11">0.3860</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.7.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T5.1.7.5.1">User Agent</th>
<td class="ltx_td ltx_align_center" id="S4.T5.1.7.5.2">0.5910</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.7.5.3">0.3571</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.7.5.4">0.4452</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.7.5.5">0.6323</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.7.5.6">0.7067</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.7.5.7">0.6674</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.7.5.8">0.5114</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.7.5.9"><span class="ltx_text ltx_font_bold" id="S4.T5.1.7.5.9.1">0.4800</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.7.5.10">0.4952</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.8.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T5.1.8.6.1">AFL</th>
<td class="ltx_td ltx_align_center" id="S4.T5.1.8.6.2"><span class="ltx_text ltx_font_bold" id="S4.T5.1.8.6.2.1">0.7343</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.8.6.3"><span class="ltx_text ltx_font_bold" id="S4.T5.1.8.6.3.1">0.4286</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.8.6.4"><span class="ltx_text ltx_font_bold" id="S4.T5.1.8.6.4.1">0.5412</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.8.6.5"><span class="ltx_text ltx_font_bold" id="S4.T5.1.8.6.5.1">0.6815</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.8.6.6"><span class="ltx_text ltx_font_bold" id="S4.T5.1.8.6.6.1">0.7267</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.8.6.7"><span class="ltx_text ltx_font_bold" id="S4.T5.1.8.6.7.1">0.7034</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.8.6.8"><span class="ltx_text ltx_font_bold" id="S4.T5.1.8.6.8.1">0.8107</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.8.6.9">0.4667</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.8.6.10"><span class="ltx_text ltx_font_bold" id="S4.T5.1.8.6.10.1">0.5924</span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.9.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="S4.T5.1.9.7.1" rowspan="3"><span class="ltx_text" id="S4.T5.1.9.7.1.1">1:9</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T5.1.9.7.2">Reward Model</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.9.7.3">0.1667</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.9.7.4">0.0667</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.1.9.7.5">0.0952</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.9.7.6">0.3408</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.9.7.7">0.7667</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.1.9.7.8">0.4718</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.9.7.9">0.3397</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.9.7.10">0.2667</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.9.7.11">0.2988</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.10.8">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T5.1.10.8.1">User Agent</th>
<td class="ltx_td ltx_align_center" id="S4.T5.1.10.8.2">0.2356</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.10.8.3">0.2667</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.10.8.4">0.2501</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.10.8.5">0.3682</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.10.8.6"><span class="ltx_text ltx_font_bold" id="S4.T5.1.10.8.6.1">0.8167</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.1.10.8.7">0.5076</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.10.8.8">0.2313</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.10.8.9"><span class="ltx_text ltx_font_bold" id="S4.T5.1.10.8.9.1">0.5000</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.10.8.10">0.3163</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.11.9">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S4.T5.1.11.9.1">AFL</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.11.9.2"><span class="ltx_text ltx_font_bold" id="S4.T5.1.11.9.2.1">0.3705</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.11.9.3"><span class="ltx_text ltx_font_bold" id="S4.T5.1.11.9.3.1">0.4286</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T5.1.11.9.4"><span class="ltx_text ltx_font_bold" id="S4.T5.1.11.9.4.1">0.3974</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.11.9.5"><span class="ltx_text ltx_font_bold" id="S4.T5.1.11.9.5.1">0.4303</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.11.9.6"><span class="ltx_text ltx_font_bold" id="S4.T5.1.11.9.6.1">0.8167</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T5.1.11.9.7"><span class="ltx_text ltx_font_bold" id="S4.T5.1.11.9.7.1">0.5636</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.11.9.8"><span class="ltx_text ltx_font_bold" id="S4.T5.1.11.9.8.1">0.4410</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.11.9.9">0.4333</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.11.9.10"><span class="ltx_text ltx_font_bold" id="S4.T5.1.11.9.10.1">0.4371</span></td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para" id="S4.SS2.SSS2.p1">
<p class="ltx_p" id="S4.SS2.SSS2.p1.1">In this section, we investigate whether AFL can enhance the performance of the user agent.
The evaluation setup is detailed in SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS1.SSS2" title="4.1.2. Evaluation Setting â€£ 4.1. Experimental Setup â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4.1.2</span></a>.
Specifically, we compare the performance of AFL against two baselines: using only the reward model (abbreviated as â€œReward Modelâ€) and using only the user agent (abbreviated as â€œUser Agentâ€).
To ensure a fair comparison and avoid introducing additional information through the recommendation model of AFLâ€™s recommendation agent, we align the recommendation model with the reward model by using the same architecture, SASRec.
The detailed experimental results are provided in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.T5" title="Table 5 â€£ 4.2.2. User Simulation Performance â€£ 4.2. Effectiveness of AFL (RQ1) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS2.p2">
<p class="ltx_p" id="S4.SS2.SSS2.p2.1">Based on results demonstrated in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.T5" title="Table 5 â€£ 4.2.2. User Simulation Performance â€£ 4.2. Effectiveness of AFL (RQ1) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">5</span></a>, we have following key observations:
(1) Firstly, the user agent demonstrates superior performance compared to the original reward model across the majority of scenarios, excelling particularly in precision and recall.
This indicates that the LLM-based user agent can effectively leverage the reasoning capabilities of LLMs, utilizing the reward modelâ€™s scoring mechanism to thoroughly evaluate how well an item aligns with the userâ€™s preferences and interests.
(2) Secondly, the AFL exhibits an even more significant performance improvement.
This demonstrates that the user agent can better understand the userâ€™s interests during the feedback loop.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS2.p3">
<p class="ltx_p" id="S4.SS2.SSS2.p3.1">However, it is worth noting that in some scenarios, such as when <math alttext="1:k=1:3" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p3.1.m1.1"><semantics id="S4.SS2.SSS2.p3.1.m1.1a"><mrow id="S4.SS2.SSS2.p3.1.m1.1.1" xref="S4.SS2.SSS2.p3.1.m1.1.1.cmml"><mn id="S4.SS2.SSS2.p3.1.m1.1.1.2" xref="S4.SS2.SSS2.p3.1.m1.1.1.2.cmml">1</mn><mo id="S4.SS2.SSS2.p3.1.m1.1.1.3" lspace="0.278em" rspace="0.278em" xref="S4.SS2.SSS2.p3.1.m1.1.1.3.cmml">:</mo><mrow id="S4.SS2.SSS2.p3.1.m1.1.1.4" xref="S4.SS2.SSS2.p3.1.m1.1.1.4.cmml"><mi id="S4.SS2.SSS2.p3.1.m1.1.1.4.2" xref="S4.SS2.SSS2.p3.1.m1.1.1.4.2.cmml">k</mi><mo id="S4.SS2.SSS2.p3.1.m1.1.1.4.1" xref="S4.SS2.SSS2.p3.1.m1.1.1.4.1.cmml">=</mo><mn id="S4.SS2.SSS2.p3.1.m1.1.1.4.3" xref="S4.SS2.SSS2.p3.1.m1.1.1.4.3.cmml">1</mn></mrow><mo id="S4.SS2.SSS2.p3.1.m1.1.1.5" lspace="0.278em" rspace="0.278em" xref="S4.SS2.SSS2.p3.1.m1.1.1.5.cmml">:</mo><mn id="S4.SS2.SSS2.p3.1.m1.1.1.6" xref="S4.SS2.SSS2.p3.1.m1.1.1.6.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p3.1.m1.1b"><apply id="S4.SS2.SSS2.p3.1.m1.1.1.cmml" xref="S4.SS2.SSS2.p3.1.m1.1.1"><and id="S4.SS2.SSS2.p3.1.m1.1.1a.cmml" xref="S4.SS2.SSS2.p3.1.m1.1.1"></and><apply id="S4.SS2.SSS2.p3.1.m1.1.1b.cmml" xref="S4.SS2.SSS2.p3.1.m1.1.1"><ci id="S4.SS2.SSS2.p3.1.m1.1.1.3.cmml" xref="S4.SS2.SSS2.p3.1.m1.1.1.3">:</ci><cn id="S4.SS2.SSS2.p3.1.m1.1.1.2.cmml" type="integer" xref="S4.SS2.SSS2.p3.1.m1.1.1.2">1</cn><apply id="S4.SS2.SSS2.p3.1.m1.1.1.4.cmml" xref="S4.SS2.SSS2.p3.1.m1.1.1.4"><eq id="S4.SS2.SSS2.p3.1.m1.1.1.4.1.cmml" xref="S4.SS2.SSS2.p3.1.m1.1.1.4.1"></eq><ci id="S4.SS2.SSS2.p3.1.m1.1.1.4.2.cmml" xref="S4.SS2.SSS2.p3.1.m1.1.1.4.2">ğ‘˜</ci><cn id="S4.SS2.SSS2.p3.1.m1.1.1.4.3.cmml" type="integer" xref="S4.SS2.SSS2.p3.1.m1.1.1.4.3">1</cn></apply></apply><apply id="S4.SS2.SSS2.p3.1.m1.1.1c.cmml" xref="S4.SS2.SSS2.p3.1.m1.1.1"><ci id="S4.SS2.SSS2.p3.1.m1.1.1.5.cmml" xref="S4.SS2.SSS2.p3.1.m1.1.1.5">:</ci><share href="https://arxiv.org/html/2410.20027v2#S4.SS2.SSS2.p3.1.m1.1.1.4.cmml" id="S4.SS2.SSS2.p3.1.m1.1.1d.cmml" xref="S4.SS2.SSS2.p3.1.m1.1.1"></share><cn id="S4.SS2.SSS2.p3.1.m1.1.1.6.cmml" type="integer" xref="S4.SS2.SSS2.p3.1.m1.1.1.6">3</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p3.1.m1.1c">1:k=1:3</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p3.1.m1.1d">1 : italic_k = 1 : 3</annotation></semantics></math>, AFLâ€™s recall on the MovieLens dataset is lower than that of â€œUser Agentâ€.
By carefully examining the three metrics, we observe that â€œUser Agentâ€ exhibits lower precision and F1 score, suggesting a strong tendency to assume users identically like all recommended items, thereby achieving higher recall.
Conversely, AFL demonstrates a significantly higher F1 score, indicating a better simulation of user behavior.
Therefore, we consider the slight decrease in recall to be acceptable.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.3. </span>Case Study</h4>
<div class="ltx_para" id="S4.SS2.SSS3.p1">
<p class="ltx_p" id="S4.SS2.SSS3.p1.1">To illustrate the effectiveness of collaboration between the recommendation agent and the user agent, we present an example in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.F3" title="Figure 3 â€£ 4.3.1. Impact of User Agent Feedback â€£ 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">3</span></a>.
In detail, the recommendation agent begins by analyzing the userâ€™s listening history, identifying a preference for upbeat and experimental sounds, and subsequently suggests the artist â€œCharlie Clouserâ€.
However, the user agent, utilizing insights from the reward model, determines that â€œCharlie Clouserâ€ is not the optimal answer and expresses a stronger preference for â€œKirsty MacCollâ€, â€œRuskoâ€ and â€œMaseratiâ€.
In response, the recommendation agent evaluates the reason provided by the user agent and adjusts its suggestion, recommending â€œRuskoâ€ instead.
Finally, the user agent approved the artist recommended by the recommendation agent, and the feedback loop was terminated.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS3.p2">
<p class="ltx_p" id="S4.SS2.SSS3.p2.1">In conclusion, during the feedback loop, the recommendation agent dynamically refined its suggestions based on the user agentâ€™s feedback, ultimately delivering more accurate recommendations.
Simultaneously, the user agent uncovered the userâ€™s interests based on the items recommended by the recommendation agent, allowing for a more precise simulation of the userâ€™s behavior.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Impact of Key Components (RQ2)</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">In this section, we validate the effectiveness of the key components of AFL.
Specifically, this section includes:
(1) the effect of feedback from the user agent (SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS3.SSS1" title="4.3.1. Impact of User Agent Feedback â€£ 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4.3.1</span></a>),
(2) the effect of the recommendation model and the reward model (SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS3.SSS2" title="4.3.2. Impact of Recommendation Model and Reward Model â€£ 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4.3.2</span></a>),
(3) the effect of the number of the feedback loop iterations (SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS3.SSS3" title="4.3.3. Impact of Feedback Loop Iterations â€£ 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4.3.3</span></a>).</p>
</div>
<section class="ltx_subsubsection" id="S4.SS3.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.1. </span>Impact of User Agent Feedback</h4>
<div class="ltx_para" id="S4.SS3.SSS1.p1">
<p class="ltx_p" id="S4.SS3.SSS1.p1.1">Although SectionÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS2.SSS1" title="4.2.1. Recommendation Performance â€£ 4.2. Effectiveness of AFL (RQ1) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4.2.1</span></a> shows the effectiveness of utilizing user agent feedback to enhance the performance of the recommendation agent, it remains unclear how this approach compares to simpler alternatives, like directly incorporating a ranker subsequent to the recommendation agent.</p>
</div>
<div class="ltx_para" id="S4.SS3.SSS1.p2">
<p class="ltx_p" id="S4.SS3.SSS1.p2.1">To address this, we conduct a comparative analysis using both SASRec and the user agent as the ranker.
In our experimental setup, the recommendation agent first generates a candidate list of five items based on the userâ€™s interaction history.
The ranker then reorders these items and selects the best one as the final output.
For clarity, the terms â€œRec Agent + SASRecâ€ and â€œRec Agent + User Agentâ€ respectively refer to the integration of SASRec and the user agent, following the recommendation agent.
The experimental results are shown in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.T6" title="Table 6 â€£ 4.3.1. Impact of User Agent Feedback â€£ 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS3.SSS1.p3">
<p class="ltx_p" id="S4.SS3.SSS1.p3.1">Based on the experimental results in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.T6" title="Table 6 â€£ 4.3.1. Impact of User Agent Feedback â€£ 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">6</span></a>, we have following
key observations:
(1) Firstly, simply appending a ranker after the agent does not necessarily enhance recommendation performance.
This result is likely because the ranker assumes a dominant role in determining the final output.
Consequently, the correct items generated by the agent may be ranked lower.
(2) Whatâ€™s more, AFL incorporates an agentic feedback loop, where feedback from the user agent is relayed back to the recommendation agent. This mechanism enables the recommendation agent to respond to the feedback by attempting to persuade the user agent, thereby allowing errors in the user agentâ€™s judgment to be identified and corrected. Consequently, AFL achieves superior performance compared to the other three settings.</p>
</div>
<figure class="ltx_table" id="S4.T6">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 6. </span>The HitRatio@1 of AFL compared to the method using a ranker. Bold results indicate the best results.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T6.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T6.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T6.1.1.1.1">Method</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T6.1.1.1.2">Lastfm</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T6.1.1.1.3">Steam</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T6.1.1.1.4">Movielens</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T6.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T6.1.2.1.1">SASRec</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T6.1.2.1.2">0.2869</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T6.1.2.1.3">0.3800</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T6.1.2.1.4">0.4105</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T6.1.3.2.1">User Agent</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.3.2.2">0.3197</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.3.2.3">0.3900</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.3.2.4">0.4105</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T6.1.4.3.1">Rec Agent</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.4.3.2">0.3197</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.4.3.3">0.3900</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.4.3.4">0.4105</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T6.1.5.4.1">Rec Agent + SASRec</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.5.4.2">0.3525</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.5.4.3">0.3850</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.5.4.4">0.3895</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T6.1.6.5.1">Rec Agent + User Agent</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.6.5.2">0.3607</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.6.5.3">0.3950</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.6.5.4">0.4000</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="S4.T6.1.7.6.1">AFL</th>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T6.1.7.6.2"><span class="ltx_text ltx_font_bold" id="S4.T6.1.7.6.2.1">0.3770</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T6.1.7.6.3"><span class="ltx_text ltx_font_bold" id="S4.T6.1.7.6.3.1">0.4100</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T6.1.7.6.4"><span class="ltx_text ltx_font_bold" id="S4.T6.1.7.6.4.1">0.4316</span></td>
</tr>
</tbody>
</table>
</figure>
<figure class="ltx_figure" id="S4.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="271" id="S4.F3.g1" src="x3.png" width="681"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>The example of interaction between the recommendation agent and the user agent.
Given the user-item interaction history, the recommendation agent needs to identify the correct item from the list of candidate items.</figcaption>
</figure>
</section>
<section class="ltx_subsubsection" id="S4.SS3.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.2. </span>Impact of Recommendation Model and Reward Model</h4>
<div class="ltx_para" id="S4.SS3.SSS2.p1">
<p class="ltx_p" id="S4.SS3.SSS2.p1.1">To evaluate the effectiveness of the recommendation model and the reward model in the two agents of AFL, we assess the recommendation performance under various settings.
The term â€œAFL w/o Rec Modelâ€ indicates that the recommendation agent is unable to access the recommendation model, while â€œAFL w/o Reward Modelâ€ indicates that the user agent is unable to access the reward model.
Finally, â€œAFL w/o Bothâ€ refers to a setting where neither agent can access their respective models.
For a fair comparison, we fix both the recommendation model and the reward model as SASRec models.
The detailed experimental results can be found in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.T7" title="Table 7 â€£ 4.3.2. Impact of Recommendation Model and Reward Model â€£ 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">7</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS3.SSS2.p2">
<p class="ltx_p" id="S4.SS3.SSS2.p2.1">Based on the experimental results shown in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.T7" title="Table 7 â€£ 4.3.2. Impact of Recommendation Model and Reward Model â€£ 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">7</span></a>, we can draw several key conclusions:
(1) Firstly, the integration of the recommendation model significantly improves recommendation performance, underscoring its effectiveness in improving the recommendation agentâ€™s ability to cater to user preferences.
(2) Whatâ€™s more, it is worth noting that equipping the user agent with a reward model can also enhance recommendation performance.
This suggests that a better user agent enables the recommendation agent to more accurately understand user preferences within the feedback loop, thereby optimizing the overall recommendation process.
(3) Lastly, the simultaneous incorporation of both the recommendation model and the reward model results in even greater performance improvements.
This not only further reaffirms the necessity of both the recommendation model and reward model but also highlights the synergistic effect of combining an advanced recommendation agent with an advanced user agent.</p>
</div>
<figure class="ltx_table" id="S4.T7">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 7. </span>Comparison of HitRatio@1 under different settings. Bold results indicate the best results.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T7.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T7.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T7.1.1.1.1">Method</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T7.1.1.1.2">Lastfm</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T7.1.1.1.3">Steam</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T7.1.1.1.4">Movielens</th>
</tr>
<tr class="ltx_tr" id="S4.T7.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T7.1.2.2.1">AFL</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T7.1.2.2.2"><span class="ltx_text ltx_font_bold" id="S4.T7.1.2.2.2.1">0.3770</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T7.1.2.2.3"><span class="ltx_text ltx_font_bold" id="S4.T7.1.2.2.3.1">0.4100</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T7.1.2.2.4"><span class="ltx_text ltx_font_bold" id="S4.T7.1.2.2.4.1">0.4316</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T7.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T7.1.3.1.1">AFL w/o Rec Model</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.1.3.1.2">0.3525</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.1.3.1.3">0.3950</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.1.3.1.4">0.4000</td>
</tr>
<tr class="ltx_tr" id="S4.T7.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T7.1.4.2.1">AFL w/o Reward Model</th>
<td class="ltx_td ltx_align_center" id="S4.T7.1.4.2.2">0.3689</td>
<td class="ltx_td ltx_align_center" id="S4.T7.1.4.2.3">0.4000</td>
<td class="ltx_td ltx_align_center" id="S4.T7.1.4.2.4">0.4211</td>
</tr>
<tr class="ltx_tr" id="S4.T7.1.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T7.1.5.3.1">AFL w/o Both</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.1.5.3.2">0.3443</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.1.5.3.3">0.3250</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.1.5.3.4">0.2105</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_subsubsection" id="S4.SS3.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.3. </span>Impact of Feedback Loop Iterations</h4>
<div class="ltx_para" id="S4.SS3.SSS3.p1">
<p class="ltx_p" id="S4.SS3.SSS3.p1.1">In this section, we investigate the impact of the number of feedback loop iterations.
In particular, we fix the recommendation model and the reward model as the SASRec model and evaluate the changes in the recommendation performance and user simulation performance in the Lastfm data set.
We present the curves of recommendation performance and user simulation performance as they change with increased iterations in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.F4.sf1" title="In Figure 4 â€£ 4.3.3. Impact of Feedback Loop Iterations â€£ 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4a</span></a> and FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.F4.sf2" title="In Figure 4 â€£ 4.3.3. Impact of Feedback Loop Iterations â€£ 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4b</span></a>, respectively.</p>
</div>
<div class="ltx_para" id="S4.SS3.SSS3.p2">
<p class="ltx_p" id="S4.SS3.SSS3.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.SSS3.p2.1.1">Recommendation Performance:</span>
The experimental results presented in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.F4.sf1" title="In Figure 4 â€£ 4.3.3. Impact of Feedback Loop Iterations â€£ 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4a</span></a> reveal a clear trend: as the number of feedback loop iterations increases, the recommendation performance steadily improves.</p>
</div>
<div class="ltx_para" id="S4.SS3.SSS3.p3">
<p class="ltx_p" id="S4.SS3.SSS3.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.SSS3.p3.1.1">User Simulation Performance:</span>
As shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.F4.sf2" title="In Figure 4 â€£ 4.3.3. Impact of Feedback Loop Iterations â€£ 4.3. Impact of Key Components (RQ2) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4b</span></a>, the performance of the user simulation exhibits consistent enhancement with an increasing number of feedback loop iterations. This trend underscores the positive correlation between iterative feedback and the refinement of simulation behavior.</p>
</div>
<div class="ltx_para" id="S4.SS3.SSS3.p4">
<p class="ltx_p" id="S4.SS3.SSS3.p4.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.SSS3.p4.1.1">Cost-Performance Tradeoff Analysis:</span>
It is important to note that the improvement ratio for HitRatio@1 diminishes as the number of feedback loop iterations increases, and the precision at four iterations is slightly lower than that at three iterations.
Given that increasing the number of feedback loop iterations results in higher API costs, more iterations do not necessarily lead to better outcomes.
Therefore, it is crucial to strike a balance between performance gains and API costs.</p>
</div>
<figure class="ltx_figure" id="S4.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F4.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_square" height="363" id="S4.F4.sf1.g1" src="x4.png" width="407"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F4.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_square" height="381" id="S4.F4.sf2.g1" src="x5.png" width="423"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>(a) Recommendation performance with increased iterations.
(b) User simulation performance with increased iterations.
<math alttext="1:k" class="ltx_Math" display="inline" id="S4.F4.3.m1.1"><semantics id="S4.F4.3.m1.1b"><mrow id="S4.F4.3.m1.1.1" xref="S4.F4.3.m1.1.1.cmml"><mn id="S4.F4.3.m1.1.1.2" xref="S4.F4.3.m1.1.1.2.cmml">1</mn><mo id="S4.F4.3.m1.1.1.1" lspace="0.278em" rspace="0.278em" xref="S4.F4.3.m1.1.1.1.cmml">:</mo><mi id="S4.F4.3.m1.1.1.3" xref="S4.F4.3.m1.1.1.3.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.3.m1.1c"><apply id="S4.F4.3.m1.1.1.cmml" xref="S4.F4.3.m1.1.1"><ci id="S4.F4.3.m1.1.1.1.cmml" xref="S4.F4.3.m1.1.1.1">:</ci><cn id="S4.F4.3.m1.1.1.2.cmml" type="integer" xref="S4.F4.3.m1.1.1.2">1</cn><ci id="S4.F4.3.m1.1.1.3.cmml" xref="S4.F4.3.m1.1.1.3">ğ‘˜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.3.m1.1d">1:k</annotation><annotation encoding="application/x-llamapun" id="S4.F4.3.m1.1e">1 : italic_k</annotation></semantics></math> is set to <math alttext="1:1" class="ltx_Math" display="inline" id="S4.F4.4.m2.1"><semantics id="S4.F4.4.m2.1b"><mrow id="S4.F4.4.m2.1.1" xref="S4.F4.4.m2.1.1.cmml"><mn id="S4.F4.4.m2.1.1.2" xref="S4.F4.4.m2.1.1.2.cmml">1</mn><mo id="S4.F4.4.m2.1.1.1" lspace="0.278em" rspace="0.278em" xref="S4.F4.4.m2.1.1.1.cmml">:</mo><mn id="S4.F4.4.m2.1.1.3" xref="S4.F4.4.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.4.m2.1c"><apply id="S4.F4.4.m2.1.1.cmml" xref="S4.F4.4.m2.1.1"><ci id="S4.F4.4.m2.1.1.1.cmml" xref="S4.F4.4.m2.1.1.1">:</ci><cn id="S4.F4.4.m2.1.1.2.cmml" type="integer" xref="S4.F4.4.m2.1.1.2">1</cn><cn id="S4.F4.4.m2.1.1.3.cmml" type="integer" xref="S4.F4.4.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.4.m2.1d">1:1</annotation><annotation encoding="application/x-llamapun" id="S4.F4.4.m2.1e">1 : 1</annotation></semantics></math>.
</figcaption>
</figure>
</section>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>Biases in the Feedback Loop (RQ3)</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">In this section, we explore whether the agentic feedback loop amplifies two common biases found in real-world feedback loops:
(1) popularity bias (SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS4.SSS1" title="4.4.1. Popularity Bias. â€£ 4.4. Biases in the Feedback Loop (RQ3) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4.4.1</span></a>) and (2) position bias (SectionÂ Â§<a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.SS4.SSS2" title="4.4.2. Position Bias. â€£ 4.4. Biases in the Feedback Loop (RQ3) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">4.4.2</span></a>).</p>
</div>
<section class="ltx_subsubsection" id="S4.SS4.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.4.1. </span>Popularity Bias.</h4>
<div class="ltx_para" id="S4.SS4.SSS1.p1">
<p class="ltx_p" id="S4.SS4.SSS1.p1.1">As highlighted in previous researchÂ <cite class="ltx_cite ltx_citemacro_citep">(Mansoury etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib24" title="">2020</a>)</cite>, feedback loops in real-world recommendation systems are often affected by popularity bias, where the system disproportionately favors popular items at the expense of lesser-known ones <cite class="ltx_cite ltx_citemacro_citep">(Gao etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib11" title="">2023a</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib12" title="">b</a>)</cite>.
Thus, we investigate whether the agentic feedback loop, as simulated by the interaction between the recommendation agent and the user agent, amplifies this popularity bias.</p>
</div>
<div class="ltx_para" id="S4.SS4.SSS1.p2">
<p class="ltx_p" id="S4.SS4.SSS1.p2.1">Specifically, we start by calculating the popularity of items in the Lastfm dataset by counting the number of user interactions associated with each item.
Following previous researchÂ <cite class="ltx_cite ltx_citemacro_citep">(Abdollahpouri etÂ al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#bib.bib2" title="">2019</a>)</cite>, we consider the top 20% most popular items as â€œpopular items.â€
Furthermore, we divide the remaining items into two categories: the middle 20%â€“50% and the bottom 50% based on their popularity.
Finally, we analyze the distribution of recommended items across these three categories under varying iterations of the feedback loop.
To facilitate a better comparison, we also include the categorization of items recommended by SASRec as a baseline.
We present the results in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.F5" title="Figure 5 â€£ 4.4.1. Popularity Bias. â€£ 4.4. Biases in the Feedback Loop (RQ3) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS4.SSS1.p3">
<p class="ltx_p" id="S4.SS4.SSS1.p3.1">Based on the experimental results presented in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.F5" title="Figure 5 â€£ 4.4.1. Popularity Bias. â€£ 4.4. Biases in the Feedback Loop (RQ3) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">5</span></a>, we derive the following key observations:
(1) During the first iteration of the feedback loop, the recommendation agent generates items independently, without incorporating feedback from the user agent. As a result, its performance is primarily influenced by the underlying recommendation model (SASRec) and the inherent bias of the LLM toward popular items.
(2) From the second to fourth iterations, the feedback provided by the user agent allows the recommendation agent to better align with user preferences. This leads to recommendations that include a greater proportion of less popular items.
(3) Overall, AFL demonstrates a positive impact in mitigating popularity bias.</p>
</div>
<figure class="ltx_figure" id="S4.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="452" id="S4.F5.g1" src="x6.png" width="831"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5. </span>The distribution of the three popularity categories in the Lastfm dataset under different settings.</figcaption>
</figure>
</section>
<section class="ltx_subsubsection" id="S4.SS4.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.4.2. </span>Position Bias.</h4>
<div class="ltx_para" id="S4.SS4.SSS2.p1">
<p class="ltx_p" id="S4.SS4.SSS2.p1.1">Notably, LLM-based recommendations can be affected by the positional arrangement of items within a sequence.
To investigate this, we design three experimental settings using the Lastfm dataset: (1) the correct item is positioned first in the list of candidate items (denoted as â€œFirstâ€), (2) the correct item is placed at a random position in the list (denoted as â€œRandomâ€), and (3) the correct item is positioned last in the list (denoted as â€œLastâ€).
If the recommendation agent relies more on positional information rather than user preferences, the â€œFirstâ€ and â€œLastâ€ settings are expected to significantly outperform the â€œRandomâ€ setting, as the agent only needs to blindly output either the first or the last item.
We present the recommendation performance for these three settings under varying maximum numbers of feedback loop iterations in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.F6" title="Figure 6 â€£ 4.4.2. Position Bias. â€£ 4.4. Biases in the Feedback Loop (RQ3) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS4.SSS2.p2">
<p class="ltx_p" id="S4.SS4.SSS2.p2.1">Based on the experimental results shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.20027v2#S4.F6" title="Figure 6 â€£ 4.4.2. Position Bias. â€£ 4.4. Biases in the Feedback Loop (RQ3) â€£ 4. Experiments â€£ Agentic Feedback Loop Modeling Improves Recommendation and User Simulation"><span class="ltx_text ltx_ref_tag">6</span></a>, we summarize the following findings:
(1) First, in most cases, â€œRandomâ€ outperforms both â€œFirstâ€ and â€œLastâ€, suggesting that AFL does not heavily depend on positional information.
(2) Whatâ€™s more, as the number of feedback loop iterations increases, the optimal performance achievable by the three position settings becomes identical, indicating that AFL is capable of resisting positional interference.
(3) In conclusion, AFL demonstrates resistance to location bias by learning user preferences rather than location information through the collaboration of the recommendation agent and the user agent.</p>
</div>
<figure class="ltx_figure" id="S4.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="476" id="S4.F6.g1" src="x7.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6. </span>Recommendation performance in the Lastfm dataset under three position settings.</figcaption>
</figure>
</section>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Conclusion and Future Work</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this study, we propose a novel framework called AFL, which builds an agentic feedback loop to enhance both the recommendation agent and the user agent.
Our framework is simple and generic: it is not limited to the specific agents designed in this paper, but is intended to serve as a guideline for fostering collaborative and mutually beneficial interactions between the recommendation agent and the user agent.
This work highlights the collaboration between recommendation and user agents, opening up new research avenues of mutually beneficial multi-agent cooperation for recommendation and user simulation.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">In the future, we will explore more efficient feedback mechanisms.
While our current approach updates agents by modifying their memory, it would be valuable to leverage feedback for training agents directly, which could help agents better understand and adapt to user interests.
Moreover, we are particularly interested in implementing an agentic feedback loop between a single recommendation agent and multiple user agents â€” a setting that better reflects real-world recommendation scenarios but has received relatively limited attention in the field.
To address this gap, we need to develop effective methods for modeling multiple personalized user agents and enabling the recommendation agent to balance both the common and personalized preferences among users.
Another emerging direction is to further explore ways to reduce biases in agentic feedback loops, such as popularity bias and position bias.</p>
</div>
<div class="ltx_acknowledgements">
<h6 class="ltx_title ltx_title_acknowledgements">Acknowledgements.</h6>
This work is supported by the National Key Research and Development Program of China (2022YFB3104701), the National Natural Science Foundation of China (62402470, 62272437, U24B20180), Anhui Provincial Natural Science Foundation (2408085QF189), and the advanced computing resources provided by the Supercomputing Center of the USTC.

</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Abdollahpouri etÂ al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Himan Abdollahpouri, Masoud Mansoury, Robin Burke, and Bamshad Mobasher. 2019.

</span>
<span class="ltx_bibblock">The Unfairness of Popularity Bias in Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib2.3.1">13th ACM Conference on Recommender Systems, RecSys 2019</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bao etÂ al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Keqin Bao, Jizhi Zhang, Xinyu Lin, Yang Zhang, Wenjie Wang, and Fuli Feng. 2024.

</span>
<span class="ltx_bibblock">Large Language Models for Recommendation: Past, Present, and Future. In <em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">Proceedings of the 47th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 2993â€“2996.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bao etÂ al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2025)</span>
<span class="ltx_bibblock">
Keqin Bao, Jizhi Zhang, Wenjie Wang, Yang Zhang, Zhengyi Yang, Yanchen Luo, Chong Chen, Fuli Feng, and Qi Tian. 2025.

</span>
<span class="ltx_bibblock">A bi-step grounding paradigm for large language models in recommendation systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.3.1">ACM Transactions on Recommender Systems</em> 3, 4 (2025), 1â€“27.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bao etÂ al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Keqin Bao, Jizhi Zhang, Yang Zhang, Wenjie Wang, Fuli Feng, and Xiangnan He. 2023.

</span>
<span class="ltx_bibblock">Tallrec: An effective and efficient tuning framework to align large language model with recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">Proceedings of the 17th ACM Conference on Recommender Systems</em>. 1007â€“1014.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cantador etÂ al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2011)</span>
<span class="ltx_bibblock">
IvÃ¡n Cantador, Peter Brusilovsky, and Tsvi Kuflik. 2011.

</span>
<span class="ltx_bibblock">Second workshop on information heterogeneity and fusion in recommender systems (HetRec2011). In <em class="ltx_emph ltx_font_italic" id="bib.bib6.3.1">Proceedings of the fifth ACM conference on Recommender systems</em>. 387â€“388.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen etÂ al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yuxin Chen, Junfei Tan, An Zhang, Zhengyi Yang, Leheng Sheng, Enzhi Zhang, Xiang Wang, and Tat-Seng Chua. 2024.

</span>
<span class="ltx_bibblock">On softmax direct preference optimization for recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.3.1">Advances in Neural Information Processing Systems</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Friedman etÂ al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Luke Friedman, Sameer Ahuja, David Allen, Zhenning Tan, Hakim Sidahmed, Changbo Long, Jun Xie, Gabriel Schubiner, Ajay Patel, Harsh Lara, etÂ al<span class="ltx_text" id="bib.bib8.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Leveraging large language models in conversational recommender systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.4.1">arXiv preprint arXiv:2305.07961</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao etÂ al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2025a)</span>
<span class="ltx_bibblock">
Chongming Gao, Ruijun Chen, Shuai Yuan, Kexin Huang, Yuanqing Yu, and Xiangnan He. 2025a.

</span>
<span class="ltx_bibblock">SPRec: Self-Play to Debias LLM-based Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">Proceedings of the ACM on Web Conference 2025</em>. 5075â€“5084.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao etÂ al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2025b)</span>
<span class="ltx_bibblock">
Chongming Gao, Mengyao Gao, Chenxiao Fan, Shuai Yuan, Wentao Shi, and Xiangnan He. 2025b.

</span>
<span class="ltx_bibblock">Process-Supervised LLM Recommenders via Flow-guided Tuning. In <em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">Proceedings of the 48th international ACM SIGIR conference on research and development in information retrieval</em> <em class="ltx_emph ltx_font_italic" id="bib.bib10.4.2">(SIGIR â€™25)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao etÂ al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Chongming Gao, Kexin Huang, Jiawei Chen, Yuan Zhang, Biao Li, Peng Jiang, Shiqi Wang, Zhong Zhang, and Xiangnan He. 2023a.

</span>
<span class="ltx_bibblock">Alleviating Matthew Effect of Offline Reinforcement Learning in Interactive Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">Proceedings of the 46th International ACM SIGIR Conference on Research and Development in Information Retrieval</em> <em class="ltx_emph ltx_font_italic" id="bib.bib11.4.2">(SIGIR â€™23)</em>. 11Â pages.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao etÂ al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Chongming Gao, Shiqi Wang, Shijun Li, Jiawei Chen, Xiangnan He, Wenqiang Lei, Biao Li, Yuan Zhang, and Peng Jiang. 2023b.

</span>
<span class="ltx_bibblock">CIRS: Bursting Filter Bubbles by Counterfactual Interactive Recommender System.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">ACM Transactions on Information Systems (TOIS)</em> 42, 1, Article 14 (aug 2023), 27Â pages.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ghazimatin etÂ al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Azin Ghazimatin, Soumajit Pramanik, Rishiraj SahaÂ Roy, and Gerhard Weikum. 2021.

</span>
<span class="ltx_bibblock">ELIXIR: Learning from user feedback on explanations to improve recommender models. In <em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">Proceedings of the Web Conference 2021</em>. 3850â€“3860.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Grattafiori etÂ al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Aaron Grattafiori, Abhimanyu Dubey, Abhinav Jauhri, Abhinav Pandey, Abhishek Kadian, Ahmad Al-Dahle, Aiesha Letman, Akhil Mathur, Alan Schelten, Alex Vaughan, etÂ al<span class="ltx_text" id="bib.bib14.3.1">.</span> 2024.

</span>
<span class="ltx_bibblock">The llama 3 herd of models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.4.1">arXiv preprint arXiv:2407.21783</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Harper and Konstan (2015)</span>
<span class="ltx_bibblock">
FÂ Maxwell Harper and JosephÂ A Konstan. 2015.

</span>
<span class="ltx_bibblock">The movielens datasets: History and context.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">Acm transactions on interactive intelligent systems (tiis)</em> 5, 4 (2015), 1â€“19.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He etÂ al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhankui He, Zhouhang Xie, Rahul Jha, Harald Steck, Dawen Liang, Yesu Feng, BodhisattwaÂ Prasad Majumder, Nathan Kallus, and Julian McAuley. 2023.

</span>
<span class="ltx_bibblock">Large language models as zero-shot conversational recommenders. In <em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">Proceedings of the 32nd ACM international conference on information and knowledge management</em>. 720â€“730.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hidasi etÂ al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
BalÃ¡zs Hidasi, Alexandros Karatzoglou, Linas Baltrunas, and Domonkos Tikk. 2016.

</span>
<span class="ltx_bibblock">Session-based Recommendations with Recurrent Neural Networks. In <em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">4th International Conference on Learning Representations</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hou etÂ al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Yupeng Hou, Shanlei Mu, WayneÂ Xin Zhao, Yaliang Li, Bolin Ding, and Ji-Rong Wen. 2022.

</span>
<span class="ltx_bibblock">Towards universal sequence representation learning for recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">Proceedings of the 28th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em>. 585â€“593.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang etÂ al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Xu Huang, Weiwen Liu, Xiaolong Chen, Xingmei Wang, Hao Wang, Defu Lian, Yasheng Wang, Ruiming Tang, and Enhong Chen. 2024.

</span>
<span class="ltx_bibblock">Understanding the planning of LLM agents: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">arXiv preprint arXiv:2402.02716</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ji etÂ al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yitong Ji, Aixin Sun, Jie Zhang, and Chenliang Li. 2023.

</span>
<span class="ltx_bibblock">A critical study on data leakage in recommender system offline evaluation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">ACM Transactions on Information Systems</em> 41, 3 (2023), 1â€“27.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang and McAuley (2018)</span>
<span class="ltx_bibblock">
Wang-Cheng Kang and Julian McAuley. 2018.

</span>
<span class="ltx_bibblock">Self-attentive sequential recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">2018 IEEE international conference on data mining (ICDM)</em>. IEEE, 197â€“206.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liao etÂ al<span class="ltx_text" id="bib.bib22.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Jiayi Liao, Sihang Li, Zhengyi Yang, Jiancan Wu, Yancheng Yuan, Xiang Wang, and Xiangnan He. 2024.

</span>
<span class="ltx_bibblock">Llara: Large language-recommendation assistant. In <em class="ltx_emph ltx_font_italic" id="bib.bib22.3.1">Proceedings of the 47th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 1785â€“1795.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin etÂ al<span class="ltx_text" id="bib.bib23.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Xinyu Lin, Wenjie Wang, Yongqi Li, Fuli Feng, See-Kiong Ng, and Tat-Seng Chua. 2024.

</span>
<span class="ltx_bibblock">Bridging items and language: A transition paradigm for large language model-based recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib23.3.1">Proceedings of the 30th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em>. 1816â€“1826.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mansoury etÂ al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Masoud Mansoury, Himan Abdollahpouri, Mykola Pechenizkiy, Bamshad Mobasher, and Robin Burke. 2020.

</span>
<span class="ltx_bibblock">Feedback loop and bias amplification in recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">Proceedings of the 29th ACM international conference on information &amp; knowledge management</em>. 2145â€“2148.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2024)</span>
<span class="ltx_bibblock">
OpenAI. 2024.

</span>
<span class="ltx_bibblock">GPT-4o mini: advancing cost-efficient intelligence. In <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">technical report</em>.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openai.com/index/gpt-4o-mini-advancing-cost-efficient-intelligence/" title="">https://openai.com/index/gpt-4o-mini-advancing-cost-efficient-intelligence/</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shanahan etÂ al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Murray Shanahan, Kyle McDonell, and Laria Reynolds. 2023.

</span>
<span class="ltx_bibblock">Role play with large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">Nature</em> 623, 7987 (2023), 493â€“498.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi etÂ al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Wentao Shi, Xiangnan He, Yang Zhang, Chongming Gao, Xinyue Li, Jizhi Zhang, Qifan Wang, and Fuli Feng. 2024.

</span>
<span class="ltx_bibblock">Large language models are learnable planners for long-term recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib27.3.1">Proceedings of the 47th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 1893â€“1903.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shu etÂ al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yubo Shu, Hansu Gu, Peng Zhang, Haonan Zhang, Tun Lu, Dongsheng Li, and Ning Gu. 2023.

</span>
<span class="ltx_bibblock">RAH! RecSys-Assistant-Human: A Human-Central Recommendation Framework with Large Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">arXiv preprint arXiv:2308.09904</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Song etÂ al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
ChanÂ Hee Song, Jiaman Wu, Clayton Washington, BrianÂ M Sadler, Wei-Lun Chao, and Yu Su. 2023.

</span>
<span class="ltx_bibblock">Llm-planner: Few-shot grounded planning for embodied agents with large language models. In <em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">Proceedings of the IEEE/CVF international conference on computer vision</em>. 2998â€“3009.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tang and Wang (2018)</span>
<span class="ltx_bibblock">
Jiaxi Tang and Ke Wang. 2018.

</span>
<span class="ltx_bibblock">Personalized top-n sequential recommendation via convolutional sequence embedding. In <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Proceedings of the eleventh ACM international conference on web search and data mining</em>. 565â€“573.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang etÂ al<span class="ltx_text" id="bib.bib31.2.2.1">.</span> (2025)</span>
<span class="ltx_bibblock">
Lei Wang, Jingsen Zhang, Hao Yang, Zhi-Yuan Chen, Jiakai Tang, Zeyu Zhang, Xu Chen, Yankai Lin, Hao Sun, Ruihua Song, etÂ al<span class="ltx_text" id="bib.bib31.3.1">.</span> 2025.

</span>
<span class="ltx_bibblock">User behavior simulation with large language model-based agents.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.4.1">ACM Transactions on Information Systems</em> 43, 2 (2025), 1â€“37.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang etÂ al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
Yancheng Wang, Ziyan Jiang, Zheng Chen, Fan Yang, Yingxue Zhou, Eunah Cho, Xing Fan, Yanbin Lu, Xiaojiang Huang, and Yingzhen Yang. 2024a.

</span>
<span class="ltx_bibblock">RecMind: Large Language Model Powered Agent For Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">Findings of the Association for Computational Linguistics: NAACL 2024</em>. 4351â€“4364.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang etÂ al<span class="ltx_text" id="bib.bib33.2.2.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
Zhefan Wang, Yuanqing Yu, Wendi Zheng, Weizhi Ma, and Min Zhang. 2024b.

</span>
<span class="ltx_bibblock">Multi-Agent Collaboration Framework for Recommender Systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.3.1">arXiv preprint arXiv:2402.15235</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei etÂ al<span class="ltx_text" id="bib.bib34.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, QuocÂ V Le, Denny Zhou, etÂ al<span class="ltx_text" id="bib.bib34.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.4.1">Advances in neural information processing systems</em> 35 (2022), 24824â€“24837.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu etÂ al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Likang Wu, Zhi Zheng, Zhaopeng Qiu, Hao Wang, Hongchao Gu, Tingjia Shen, Chuan Qin, Chen Zhu, Hengshu Zhu, Qi Liu, etÂ al<span class="ltx_text" id="bib.bib35.3.1">.</span> 2024.

</span>
<span class="ltx_bibblock">A survey on large language models for recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.4.1">World Wide Web</em> 27, 5 (2024), 60.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xi etÂ al<span class="ltx_text" id="bib.bib36.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yunjia Xi, Weiwen Liu, Jianghao Lin, Xiaoling Cai, Hong Zhu, Jieming Zhu, Bo Chen, Ruiming Tang, Weinan Zhang, and Yong Yu. 2024.

</span>
<span class="ltx_bibblock">Towards open-world recommendation with knowledge augmentation from large language models. In <em class="ltx_emph ltx_font_italic" id="bib.bib36.3.1">Proceedings of the 18th ACM Conference on Recommender Systems</em>. 12â€“22.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu etÂ al<span class="ltx_text" id="bib.bib37.2.2.1">.</span> (2025)</span>
<span class="ltx_bibblock">
Yiyan Xu, Jinghao Zhang, Alireza Salemi, Xinting Hu, Wenjie Wang, Fuli Feng, Hamed Zamani, Xiangnan He, and Tat-Seng Chua. 2025.

</span>
<span class="ltx_bibblock">Personalized Generation In Large Model Era: A Survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.3.1">arXiv preprint arXiv:2503.02614</em> (2025).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang etÂ al<span class="ltx_text" id="bib.bib38.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhengyi Yang, Xiangnan He, Jizhi Zhang, Jiancan Wu, Xin Xin, Jiawei Chen, and Xiang Wang. 2023.

</span>
<span class="ltx_bibblock">A generic learning framework for sequential recommendation with distribution shifts. In <em class="ltx_emph ltx_font_italic" id="bib.bib38.3.1">Proceedings of the 46th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 331â€“340.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan etÂ al<span class="ltx_text" id="bib.bib39.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Siyu Yuan, Kaitao Song, Jiangjie Chen, Xu Tan, Yongliang Shen, Ren Kan, Dongsheng Li, and Deqing Yang. 2024.

</span>
<span class="ltx_bibblock">Easytool: Enhancing llm-based agents with concise tool instruction.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.3.1">arXiv preprint arXiv:2401.06201</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan etÂ al<span class="ltx_text" id="bib.bib40.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zheng Yuan, Fajie Yuan, Yu Song, Youhua Li, Junchen Fu, Fei Yang, Yunzhu Pan, and Yongxin Ni. 2023.

</span>
<span class="ltx_bibblock">Where to go next for recommender systems? id-vs. modality-based recommender models revisited. In <em class="ltx_emph ltx_font_italic" id="bib.bib40.3.1">Proceedings of the 46th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 2639â€“2649.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang etÂ al<span class="ltx_text" id="bib.bib41.2.2.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
An Zhang, Yuxin Chen, Leheng Sheng, Xiang Wang, and Tat-Seng Chua. 2024b.

</span>
<span class="ltx_bibblock">On generative agents in recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib41.3.1">Proceedings of the 47th international ACM SIGIR conference on research and development in Information Retrieval</em> <em class="ltx_emph ltx_font_italic" id="bib.bib41.4.2">(SIGIR â€™24)</em>. 1807â€“1817.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang etÂ al<span class="ltx_text" id="bib.bib42.2.2.1">.</span> (2024c)</span>
<span class="ltx_bibblock">
Junjie Zhang, Yupeng Hou, Ruobing Xie, Wenqi Sun, Julian McAuley, WayneÂ Xin Zhao, Leyu Lin, and Ji-Rong Wen. 2024c.

</span>
<span class="ltx_bibblock">Agentcf: Collaborative learning with autonomous language agents for recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib42.3.1">Proceedings of the ACM Web Conference 2024</em>. 3679â€“3689.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang etÂ al<span class="ltx_text" id="bib.bib43.2.2.1">.</span> (2025)</span>
<span class="ltx_bibblock">
Yang Zhang, Fuli Feng, Jizhi Zhang, Keqin Bao, Qifan Wang, and Xiangnan He. 2025.

</span>
<span class="ltx_bibblock">Collm: Integrating collaborative embeddings into large language models for recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.3.1">IEEE Transactions on Knowledge and Data Engineering</em> (2025).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang etÂ al<span class="ltx_text" id="bib.bib44.2.2.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
Zeyu Zhang, Xiaohe Bo, Chen Ma, Rui Li, Xu Chen, Quanyu Dai, Jieming Zhu, Zhenhua Dong, and Ji-Rong Wen. 2024a.

</span>
<span class="ltx_bibblock">A survey on the memory mechanism of large language model based agents.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.3.1">arXiv preprint arXiv:2404.13501</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri May  2 00:48:51 2025 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
